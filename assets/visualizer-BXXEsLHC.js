/*! For licenses information, see LICENSES.txt */
import{j as c}from"./toString-Cvz4-Zey.js";import{r}from"./react-dom-DRH1SuJM.js";const $=r.createContext({gravity:"top",scale:1});function N({gravity:a,scale:s,children:e}){const[t,n]=r.useState(0),[l,h]=r.useState(0);return c.jsx($.Provider,{value:{gravity:a??"top",scale:s??1,setWidth:n,setHeight:h},children:c.jsx("div",{className:"relative m-8 w-full",style:{width:t+32,height:l+32},children:e})})}function w({src:a,alt:s,x:e,y:t,width:n,height:l,rotation:h,follow:x,className:v}){e??(e=0),t??(t=0),h??(h=0),n??(n=1),l??(l=1);const m=r.useRef(),o=r.useRef({x:e,y:t,changed:!1});r.useEffect(()=>{(e!==o.current.x||t!==o.current.y)&&(o.current={x:e,y:t,changed:!0})},[o.current,e,t]);const{gravity:u,scale:g,setWidth:j,setHeight:d}=r.useContext($);return r.useEffect(()=>{var C;const i=(C=m.current)==null?void 0:C.getBoundingClientRect();if(setTimeout(()=>{j(f=>Math.max(f,e*g+((i==null?void 0:i.width)??a.width*n))),d(f=>Math.max(f,t*g+((i==null?void 0:i.height)??a.height*l)))},5),!o.current.changed||!x)return;const p=setTimeout(()=>{var f;return(f=m.current)==null?void 0:f.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},160);return()=>clearTimeout(p)},[m.current,o.current,e,t]),c.jsx("img",{ref:m,alt:s,...a,className:`absolute transition-all ${v??""}`,style:{[u]:`${t*g}px`,left:`${e*g}px`,transform:`rotate(${h}turn) scaleX(${n}) scaleY(${l})`}})}function E({color:a,height:s,width:e,x:t,y:n,rotation:l,className:h,style:x,children:v}){t??(t=0),n??(n=0),l??(l=0),x??(x={});const m=r.useRef(),{gravity:o,scale:u,setWidth:g,setHeight:j}=r.useContext($);return r.useEffect(()=>{var i;const d=(i=m.current)==null?void 0:i.getBoundingClientRect();setTimeout(()=>{g(p=>Math.max(p,t*u+((d==null?void 0:d.width)??e))),j(p=>Math.max(p,n*u+((d==null?void 0:d.height)??s)))},5)},[t,n,e,s]),c.jsx("div",{ref:m,style:{backgroundColor:a,height:`${s*u}px`,width:`${e*u}px`,left:`${t*u}px`,[o]:`${n*u}px`,transform:`rotate(${l}turn)`,...x},className:`absolute border-2 border-solid border-black transition-all ${h??""}`,children:v})}function M({variables:a}){return c.jsx("div",{className:"m-4 grid max-w-sm grid-cols-2 gap-y-2 text-slate-950 *:bg-orange-400 *:px-4 *:py-1.5",children:Object.entries(a).map(([s,e])=>c.jsxs(r.Fragment,{children:[c.jsx("div",{className:"rounded-l-2xl",children:s}),c.jsx("div",{className:"rounded-r-2xl",children:c.jsx("div",{className:"rounded-lg bg-white px-2",children:e??"-"})})]},s))})}export{N as C,E as R,w as S,M as V};
//# sourceMappingURL=visualizer-BXXEsLHC.js.map
