/*! For licenses information, see LICENSES.txt */
import{j as u}from"./toString-B7mxur-0.js";import{r as s}from"./react-dom-BhtgsTX5.js";const b=s.createContext({gravity:"top",scale:1});function E({gravity:i,scale:o,children:e}){const[t,r]=s.useState(0),[n,d]=s.useState(0);return u.jsx(b.Provider,{value:{gravity:i??"top",scale:o??1,setWidth:r,setHeight:d},children:u.jsx("div",{className:"relative m-8 w-full",style:{width:t+32,height:n+32},children:e})})}function M({src:i,alt:o,x:e,y:t,width:r,height:n,rotation:d,follow:p,className:f}){e??(e=0),t??(t=0),d??(d=0),r??(r=1),n??(n=1);const m=s.useRef(),l=s.useRef({x:e,y:t,changed:!1});s.useEffect(()=>{(e!==l.current.x||t!==l.current.y)&&(l.current={x:e,y:t,changed:!0})},[l.current,e,t]);const{gravity:v,scale:a,setWidth:j,setHeight:$}=s.useContext(b);return s.useLayoutEffect(()=>{var C;const c=(C=m.current)==null?void 0:C.getBoundingClientRect(),x=(r-1)*.5+1,h=(n-1)*.5+1;if(setTimeout(()=>{j(g=>Math.max(g,e*a+(c?c.width/r:i.width)*x)),$(g=>Math.max(g,t*a+(c?c.height/n:i.height)*h))},5),!l.current.changed||!p)return;const R=setTimeout(()=>{var g;return(g=m.current)==null?void 0:g.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},160);return()=>clearTimeout(R)},[m.current,l.current,e,t]),u.jsx("img",{ref:m,alt:o,...i,className:`absolute transition-all ${f??""}`,style:{[v]:`${t*a}px`,left:`${e*a}px`,transform:`rotate(${d}turn) scaleX(${r}) scaleY(${n})`}})}function S({color:i,border_color:o,height:e,width:t,x:r,y:n,rotation:d,className:p,style:f,children:m}){r??(r=0),n??(n=0),d??(d=0),f??(f={}),i??(i="white"),o??(o="black");const l=s.useRef(),{gravity:v,scale:a,setWidth:j,setHeight:$}=s.useContext(b);return s.useEffect(()=>{var x;const c=(x=l.current)==null?void 0:x.getBoundingClientRect();setTimeout(()=>{j(h=>Math.max(h,r*a+((c==null?void 0:c.width)??t))),$(h=>Math.max(h,n*a+((c==null?void 0:c.height)??e)))},5)},[r,n,t,e]),u.jsx("div",{ref:l,style:{backgroundColor:i,borderColor:o,height:`${e*a}px`,width:`${t*a}px`,left:`${r*a}px`,[v]:`${n*a}px`,transform:`rotate(${d}turn)`,...f},className:`absolute border-2 border-solid transition-all ${p??""}`,children:m})}function T({variables:i}){return u.jsx("div",{className:"m-4 grid max-w-sm grid-cols-2 gap-y-2 text-slate-950 *:bg-orange-400 *:px-4 *:py-1.5",children:Object.entries(i).map(([o,e])=>u.jsxs(s.Fragment,{children:[u.jsx("div",{className:"rounded-l-2xl",children:o}),u.jsx("div",{className:"rounded-r-2xl",children:u.jsx("div",{className:"rounded-lg bg-white px-2",children:e??"-"})})]},o))})}export{E as C,S as R,M as S,T as V};
//# sourceMappingURL=visualizer-Duv0zybs.js.map
