function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/code-highlight-VP7P46EV-D-X4iBDT.js","assets/react-dom-DRH1SuJM.js","assets/commonjs-helper-3Jsk8tIi.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
/*! For licenses information, see LICENSES.txt */
var Fn=Object.defineProperty;var Bn=(i,s,f)=>s in i?Fn(i,s,{enumerable:!0,configurable:!0,writable:!0,value:f}):i[s]=f;var Dr=(i,s,f)=>(Bn(i,typeof s!="symbol"?s+"":s,f),f);import{i as isSymbol,t as toString,a as arrayMap,j as jsxRuntimeExports}from"./toString-Cvz4-Zey.js";import{r as reactExports,P,a as reactDomExports}from"./react-dom-DRH1SuJM.js";import{_ as __vitePreload}from"./preload-helper-Dmv2rF9X.js";import{g as getDefaultExportFromCjs,c as commonjsGlobal}from"./commonjs-helper-3Jsk8tIi.js";import{r as registerVersion,F as FirebaseError}from"./firebase-B0BkmIJo.js";import{Z as ZodError,z}from"./zod-CXY4Xi5W.js";import{i as isObject,g as getNative,a as isArrayLike,b as isIndex,e as eq,M as MapCache,S as Stack,c as baseIsEqual,k as keys,d as isLength,f as isArguments,h as baseUnary,j as isFunction$1}from"./_baseIsEqual-Db3vNOu7.js";import{i as isArray}from"./isArray-BCUZC26q.js";import{k as katex}from"./katex-DwYt4Eim.js";var reWhitespace=/\s/;function trimmedEndIndex(i){for(var s=i.length;s--&&reWhitespace.test(i.charAt(s)););return s}var reTrimStart=/^\s+/;function baseTrim(i){return i&&i.slice(0,trimmedEndIndex(i)+1).replace(reTrimStart,"")}var NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(i){if(typeof i=="number")return i;if(isSymbol(i))return NAN;if(isObject(i)){var s=typeof i.valueOf=="function"?i.valueOf():i;i=isObject(s)?s+"":s}if(typeof i!="string")return i===0?i:+i;i=baseTrim(i);var f=reIsBinary.test(i);return f||reIsOctal.test(i)?freeParseInt(i.slice(2),f?2:8):reIsBadHex.test(i)?NAN:+i}var INFINITY$1=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(i){if(!i)return i===0?i:0;if(i=toNumber(i),i===INFINITY$1||i===-INFINITY$1){var s=i<0?-1:1;return s*MAX_INTEGER}return i===i?i:0}function identity(i){return i}function apply(i,s,f){switch(f.length){case 0:return i.call(s);case 1:return i.call(s,f[0]);case 2:return i.call(s,f[0],f[1]);case 3:return i.call(s,f[0],f[1],f[2])}return i.apply(s,f)}function noop$1(){}function copyArray(i,s){var f=-1,v=i.length;for(s||(s=Array(v));++f<v;)s[f]=i[f];return s}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(i){var s=0,f=0;return function(){var v=nativeNow(),b=HOT_SPAN-(v-f);if(f=v,b>0){if(++s>=HOT_COUNT)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}function constant(i){return function(){return i}}var defineProperty=function(){try{var i=getNative(Object,"defineProperty");return i({},"",{}),i}catch{}}(),baseSetToString=defineProperty?function(i,s){return defineProperty(i,"toString",{configurable:!0,enumerable:!1,value:constant(s),writable:!0})}:identity;const baseSetToString$1=baseSetToString;var setToString=shortOut(baseSetToString$1);function baseFindIndex(i,s,f,v){for(var b=i.length,_=f+(v?1:-1);v?_--:++_<b;)if(s(i[_],_,i))return _;return-1}function baseIsNaN(i){return i!==i}function strictIndexOf(i,s,f){for(var v=f-1,b=i.length;++v<b;)if(i[v]===s)return v;return-1}function baseIndexOf(i,s,f){return s===s?strictIndexOf(i,s,f):baseFindIndex(i,baseIsNaN,f)}var nativeMax$1=Math.max;function overRest(i,s,f){return s=nativeMax$1(s===void 0?i.length-1:s,0),function(){for(var v=arguments,b=-1,_=nativeMax$1(v.length-s,0),N=Array(_);++b<_;)N[b]=v[s+b];b=-1;for(var C=Array(s+1);++b<s;)C[b]=v[b];return C[s]=f(N),apply(i,this,C)}}function baseRest(i,s){return setToString(overRest(i,s,identity),i+"")}function isIterateeCall(i,s,f){if(!isObject(f))return!1;var v=typeof s;return(v=="number"?isArrayLike(f)&&isIndex(s,f.length):v=="string"&&s in f)?eq(f[s],i):!1}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(i,s){if(isArray(i))return!1;var f=typeof i;return f=="number"||f=="symbol"||f=="boolean"||i==null||isSymbol(i)?!0:reIsPlainProp.test(i)||!reIsDeepProp.test(i)||s!=null&&i in Object(s)}var FUNC_ERROR_TEXT$1="Expected a function";function memoize(i,s){if(typeof i!="function"||s!=null&&typeof s!="function")throw new TypeError(FUNC_ERROR_TEXT$1);var f=function(){var v=arguments,b=s?s.apply(this,v):v[0],_=f.cache;if(_.has(b))return _.get(b);var N=i.apply(this,v);return f.cache=_.set(b,N)||_,N};return f.cache=new(memoize.Cache||MapCache),f}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(i){var s=memoize(i,function(v){return f.size===MAX_MEMOIZE_SIZE&&f.clear(),v}),f=s.cache;return s}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(rePropName,function(f,v,b,_){s.push(b?_.replace(reEscapeChar,"$1"):v||f)}),s});function castPath(i,s){return isArray(i)?i:isKey(i,s)?[i]:stringToPath(toString(i))}var INFINITY=1/0;function toKey(i){if(typeof i=="string"||isSymbol(i))return i;var s=i+"";return s=="0"&&1/i==-INFINITY?"-0":s}function baseGet(i,s){s=castPath(s,i);for(var f=0,v=s.length;i!=null&&f<v;)i=i[toKey(s[f++])];return f&&f==v?i:void 0}function get(i,s,f){var v=i==null?void 0:baseGet(i,s);return v===void 0?f:v}function baseClamp(i,s,f){return i===i&&(f!==void 0&&(i=i<=f?i:f),s!==void 0&&(i=i>=s?i:s)),i}function clamp(i,s,f){return f===void 0&&(f=s,s=void 0),f!==void 0&&(f=toNumber(f),f=f===f?f:0),s!==void 0&&(s=toNumber(s),s=s===s?s:0),baseClamp(toNumber(i),s,f)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(i,s,f,v){var b=f.length,_=b,N=!v;if(i==null)return!_;for(i=Object(i);b--;){var C=f[b];if(N&&C[2]?C[1]!==i[C[0]]:!(C[0]in i))return!1}for(;++b<_;){C=f[b];var D=C[0],c=i[D],o=C[1];if(N&&C[2]){if(c===void 0&&!(D in i))return!1}else{var a=new Stack;if(v)var d=v(c,o,D,i,s,a);if(!(d===void 0?baseIsEqual(o,c,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,v,a):d))return!1}}return!0}function isStrictComparable(i){return i===i&&!isObject(i)}function getMatchData(i){for(var s=keys(i),f=s.length;f--;){var v=s[f],b=i[v];s[f]=[v,b,isStrictComparable(b)]}return s}function matchesStrictComparable(i,s){return function(f){return f==null?!1:f[i]===s&&(s!==void 0||i in Object(f))}}function baseMatches(i){var s=getMatchData(i);return s.length==1&&s[0][2]?matchesStrictComparable(s[0][0],s[0][1]):function(f){return f===i||baseIsMatch(f,i,s)}}function baseHasIn(i,s){return i!=null&&s in Object(i)}function hasPath(i,s,f){s=castPath(s,i);for(var v=-1,b=s.length,_=!1;++v<b;){var N=toKey(s[v]);if(!(_=i!=null&&f(i,N)))break;i=i[N]}return _||++v!=b?_:(b=i==null?0:i.length,!!b&&isLength(b)&&isIndex(N,b)&&(isArray(i)||isArguments(i)))}function hasIn(i,s){return i!=null&&hasPath(i,s,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(i,s){return isKey(i)&&isStrictComparable(s)?matchesStrictComparable(toKey(i),s):function(f){var v=get(f,i);return v===void 0&&v===s?hasIn(f,i):baseIsEqual(s,v,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(i){return function(s){return s==null?void 0:s[i]}}function basePropertyDeep(i){return function(s){return baseGet(s,i)}}function property(i){return isKey(i)?baseProperty(toKey(i)):basePropertyDeep(i)}function baseIteratee(i){return typeof i=="function"?i:i==null?identity:typeof i=="object"?isArray(i)?baseMatchesProperty(i[0],i[1]):baseMatches(i):property(i)}function arrayAggregator(i,s,f,v){for(var b=-1,_=i==null?0:i.length;++b<_;){var N=i[b];s(v,N,f(N),i)}return v}function createBaseFor(i){return function(s,f,v){for(var b=-1,_=Object(s),N=v(s),C=N.length;C--;){var D=N[i?C:++b];if(f(_[D],D,_)===!1)break}return s}}var baseFor=createBaseFor();const baseFor$1=baseFor;function baseForOwn(i,s){return i&&baseFor$1(i,s,keys)}function createBaseEach(i,s){return function(f,v){if(f==null)return f;if(!isArrayLike(f))return i(f,v);for(var b=f.length,_=s?b:-1,N=Object(f);(s?_--:++_<b)&&v(N[_],_,N)!==!1;);return f}}var baseEach=createBaseEach(baseForOwn);function baseAggregator(i,s,f,v){return baseEach(i,function(b,_,N){s(v,b,f(b),N)}),v}function createAggregator(i,s){return function(f,v){var b=isArray(f)?arrayAggregator:baseAggregator,_=s?s():{};return b(f,i,baseIteratee(v),_)}}var FUNC_ERROR_TEXT="Expected a function";function baseDelay(i,s,f){if(typeof i!="function")throw new TypeError(FUNC_ERROR_TEXT);return setTimeout(function(){i.apply(void 0,f)},s)}var defer=baseRest(function(i,s){return baseDelay(i,1,s)});function baseSum(i,s){for(var f,v=-1,b=i.length;++v<b;){var _=s(i[v]);_!==void 0&&(f=f===void 0?_:f+_)}return f}var partition=createAggregator(function(i,s,f){i[f?0:1].push(s)},function(){return[[],[]]});const Rt=partition;function baseIndexOfWith(i,s,f,v){for(var b=f-1,_=i.length;++b<_;)if(v(i[b],s))return b;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function basePullAll(i,s,f,v){var b=v?baseIndexOfWith:baseIndexOf,_=-1,N=s.length,C=i;for(i===s&&(s=copyArray(s)),f&&(C=arrayMap(i,baseUnary(f)));++_<N;)for(var D=0,c=s[_],o=f?f(c):c;(D=b(C,o,D,v))>-1;)C!==i&&splice.call(C,D,1),splice.call(i,D,1);return i}function pullAll(i,s){return i&&i.length&&s&&s.length?basePullAll(i,s):i}var pull=baseRest(pullAll),nativeCeil=Math.ceil,nativeMax=Math.max;function baseRange(i,s,f,v){for(var b=-1,_=nativeMax(nativeCeil((s-i)/(f||1)),0),N=Array(_);_--;)N[v?_:++b]=i,i+=f;return N}function createRange(i){return function(s,f,v){return v&&typeof v!="number"&&isIterateeCall(s,f,v)&&(f=v=void 0),s=toFinite(s),f===void 0?(f=s,s=0):f=toFinite(f),v=v===void 0?s<f?1:-1:toFinite(v),baseRange(s,f,v,i)}}var range=createRange();function sumBy(i,s){return i&&i.length?baseSum(i,baseIteratee(s)):0}var cookie={};cookie.parse=parse;cookie.serialize=serialize$1;var __toString=Object.prototype.toString,fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function parse(i,s){if(typeof i!="string")throw new TypeError("argument str must be a string");for(var f={},v=s||{},b=v.decode||decode,_=0;_<i.length;){var N=i.indexOf("=",_);if(N===-1)break;var C=i.indexOf(";",_);if(C===-1)C=i.length;else if(C<N){_=i.lastIndexOf(";",N-1)+1;continue}var D=i.slice(_,N).trim();if(f[D]===void 0){var c=i.slice(N+1,C).trim();c.charCodeAt(0)===34&&(c=c.slice(1,-1)),f[D]=tryDecode(c,b)}_=C+1}return f}function serialize$1(i,s,f){var v=f||{},b=v.encode||encode;if(typeof b!="function")throw new TypeError("option encode is invalid");if(!fieldContentRegExp.test(i))throw new TypeError("argument name is invalid");var _=b(s);if(_&&!fieldContentRegExp.test(_))throw new TypeError("argument val is invalid");var N=i+"="+_;if(v.maxAge!=null){var C=v.maxAge-0;if(isNaN(C)||!isFinite(C))throw new TypeError("option maxAge is invalid");N+="; Max-Age="+Math.floor(C)}if(v.domain){if(!fieldContentRegExp.test(v.domain))throw new TypeError("option domain is invalid");N+="; Domain="+v.domain}if(v.path){if(!fieldContentRegExp.test(v.path))throw new TypeError("option path is invalid");N+="; Path="+v.path}if(v.expires){var D=v.expires;if(!isDate(D)||isNaN(D.valueOf()))throw new TypeError("option expires is invalid");N+="; Expires="+D.toUTCString()}if(v.httpOnly&&(N+="; HttpOnly"),v.secure&&(N+="; Secure"),v.partitioned&&(N+="; Partitioned"),v.priority){var c=typeof v.priority=="string"?v.priority.toLowerCase():v.priority;switch(c){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(v.sameSite){var o=typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite;switch(o){case!0:N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"strict":N+="; SameSite=Strict";break;case"none":N+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return N}function decode(i){return i.indexOf("%")!==-1?decodeURIComponent(i):i}function encode(i){return encodeURIComponent(i)}function isDate(i){return __toString.call(i)==="[object Date]"||i instanceof Date}function tryDecode(i,s){try{return s(i)}catch{return i}}class InvalidTokenError extends Error{}InvalidTokenError.prototype.name="InvalidTokenError";function b64DecodeUnicode(i){return decodeURIComponent(atob(i).replace(/(.)/g,(s,f)=>{let v=f.charCodeAt(0).toString(16).toUpperCase();return v.length<2&&(v="0"+v),"%"+v}))}function base64UrlDecode(i){let s=i.replace(/-/g,"+").replace(/_/g,"/");switch(s.length%4){case 0:break;case 2:s+="==";break;case 3:s+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return b64DecodeUnicode(s)}catch{return atob(s)}}function jwtDecode(i,s){if(typeof i!="string")throw new InvalidTokenError("Invalid token specified: must be a string");s||(s={});const f=s.header===!0?0:1,v=i.split(".")[f];if(typeof v!="string")throw new InvalidTokenError(`Invalid token specified: missing part #${f+1}`);let b;try{b=base64UrlDecode(v)}catch(_){throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${f+1} (${_.message})`)}try{return JSON.parse(b)}catch(_){throw new InvalidTokenError(`Invalid token specified: invalid json for part #${f+1} (${_.message})`)}}var classnames={exports:{}};(function(i){(function(){var s={}.hasOwnProperty;function f(){for(var _="",N=0;N<arguments.length;N++){var C=arguments[N];C&&(_=b(_,v(C)))}return _}function v(_){if(typeof _=="string"||typeof _=="number")return _;if(typeof _!="object")return"";if(Array.isArray(_))return f.apply(null,_);if(_.toString!==Object.prototype.toString&&!_.toString.toString().includes("[native code]"))return _.toString();var N="";for(var C in _)s.call(_,C)&&_[C]&&(N=b(N,C));return N}function b(_,N){return N?_?_+" "+N:_+N:_}i.exports?(f.default=f,i.exports=f):window.classNames=f})()})(classnames);var classnamesExports=classnames.exports;const j$2=getDefaultExportFromCjs(classnamesExports);var name="firebase",version="10.9.0";registerVersion(name,version,"app");function toDate(i){const s=Object.prototype.toString.call(i);return i instanceof Date||typeof i=="object"&&s==="[object Date]"?new i.constructor(+i):typeof i=="number"||s==="[object Number]"||typeof i=="string"||s==="[object String]"?new Date(i):new Date(NaN)}function constructFrom(i,s){return i instanceof Date?new i.constructor(s):new Date(s)}function addMilliseconds(i,s){const f=+toDate(i);return constructFrom(i,f+s)}const millisecondsInMinute=6e4;function addMinutes(i,s){return addMilliseconds(i,s*millisecondsInMinute)}function addSeconds(i,s){return addMilliseconds(i,s*1e3)}function getRoundingMethod(i){return s=>{const v=(i?Math[i]:Math.trunc)(s);return v===0?0:v}}function differenceInMilliseconds(i,s){return+toDate(i)-+toDate(s)}function differenceInSeconds(i,s,f){const v=differenceInMilliseconds(i,s)/1e3;return getRoundingMethod(f==null?void 0:f.roundingMethod)(v)}var shim={exports:{}},useSyncExternalStoreShim_production_min={};var e=reactExports;function h$1(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var k=typeof Object.is=="function"?Object.is:h$1,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p$1=e.useDebugValue;function q(i,s){var f=s(),v=l({inst:{value:f,getSnapshot:s}}),b=v[0].inst,_=v[1];return n(function(){b.value=f,b.getSnapshot=s,r(b)&&_({inst:b})},[i,f,s]),m(function(){return r(b)&&_({inst:b}),i(function(){r(b)&&_({inst:b})})},[i]),p$1(f),f}function r(i){var s=i.getSnapshot;i=i.value;try{var f=s();return!k(i,f)}catch{return!0}}function t(i,s){return s()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t:q;useSyncExternalStoreShim_production_min.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports;const noop=()=>{},UNDEFINED=noop(),OBJECT=Object,isUndefined=i=>i===UNDEFINED,isFunction=i=>typeof i=="function",mergeObjects=(i,s)=>({...i,...s}),isPromiseLike=i=>isFunction(i.then),table=new WeakMap;let counter=0;const stableHash=i=>{const s=typeof i,f=i&&i.constructor,v=f==Date;let b,_;if(OBJECT(i)===i&&!v&&f!=RegExp){if(b=table.get(i),b)return b;if(b=++counter+"~",table.set(i,b),f==Array){for(b="@",_=0;_<i.length;_++)b+=stableHash(i[_])+",";table.set(i,b)}if(f==OBJECT){b="#";const N=OBJECT.keys(i).sort();for(;!isUndefined(_=N.pop());)isUndefined(i[_])||(b+=_+":"+stableHash(i[_])+",");table.set(i,b)}}else b=v?i.toJSON():s=="symbol"?i.toString():s=="string"?JSON.stringify(i):""+i;return b},SWRGlobalState=new WeakMap,EMPTY_CACHE={},INITIAL_CACHE={},STR_UNDEFINED="undefined",isWindowDefined=typeof window!=STR_UNDEFINED,isDocumentDefined=typeof document!=STR_UNDEFINED,hasRequestAnimationFrame=()=>isWindowDefined&&typeof window.requestAnimationFrame!=STR_UNDEFINED,createCacheHelper=(i,s)=>{const f=SWRGlobalState.get(i);return[()=>!isUndefined(s)&&i.get(s)||EMPTY_CACHE,v=>{if(!isUndefined(s)){const b=i.get(s);s in INITIAL_CACHE||(INITIAL_CACHE[s]=b),f[5](s,mergeObjects(b,v),b||EMPTY_CACHE)}},f[6],()=>!isUndefined(s)&&s in INITIAL_CACHE?INITIAL_CACHE[s]:!isUndefined(s)&&i.get(s)||EMPTY_CACHE]};let online=!0;const isOnline=()=>online,[onWindowEvent,offWindowEvent]=isWindowDefined&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[noop,noop],isVisible=()=>{const i=isDocumentDefined&&document.visibilityState;return isUndefined(i)||i!=="hidden"},initFocus=i=>(isDocumentDefined&&document.addEventListener("visibilitychange",i),onWindowEvent("focus",i),()=>{isDocumentDefined&&document.removeEventListener("visibilitychange",i),offWindowEvent("focus",i)}),initReconnect=i=>{const s=()=>{online=!0,i()},f=()=>{online=!1};return onWindowEvent("online",s),onWindowEvent("offline",f),()=>{offWindowEvent("online",s),offWindowEvent("offline",f)}},preset={isOnline,isVisible},defaultConfigOptions={initFocus,initReconnect},IS_REACT_LEGACY=!P.useId,IS_SERVER=!isWindowDefined||"Deno"in window,rAF=i=>hasRequestAnimationFrame()?window.requestAnimationFrame(i):setTimeout(i,1),useIsomorphicLayoutEffect=IS_SERVER?reactExports.useEffect:reactExports.useLayoutEffect,navigatorConnection=typeof navigator<"u"&&navigator.connection,slowConnection=!IS_SERVER&&navigatorConnection&&(["slow-2g","2g"].includes(navigatorConnection.effectiveType)||navigatorConnection.saveData),serialize=i=>{if(isFunction(i))try{i=i()}catch{i=""}const s=i;return i=typeof i=="string"?i:(Array.isArray(i)?i.length:i)?stableHash(i):"",[i,s]};let __timestamp=0;const getTimestamp=()=>++__timestamp,FOCUS_EVENT=0,RECONNECT_EVENT=1,MUTATE_EVENT=2,ERROR_REVALIDATE_EVENT=3;var events={__proto__:null,ERROR_REVALIDATE_EVENT,FOCUS_EVENT,MUTATE_EVENT,RECONNECT_EVENT};async function internalMutate(...i){const[s,f,v,b]=i,_=mergeObjects({populateCache:!0,throwOnError:!0},typeof b=="boolean"?{revalidate:b}:b||{});let N=_.populateCache;const C=_.rollbackOnError;let D=_.optimisticData;const c=d=>typeof C=="function"?C(d):C!==!1,o=_.throwOnError;if(isFunction(f)){const d=f,g=[],R=s.keys();for(const S of R)!/^\$(inf|sub)\$/.test(S)&&d(s.get(S)._k)&&g.push(S);return Promise.all(g.map(a))}return a(f);async function a(d){const[g]=serialize(d);if(!g)return;const[R,S]=createCacheHelper(s,g),[y,w,G,W]=SWRGlobalState.get(s),ie=()=>{const De=y[g];return(isFunction(_.revalidate)?_.revalidate(R().data,d):_.revalidate!==!1)&&(delete G[g],delete W[g],De&&De[0])?De[0](MUTATE_EVENT).then(()=>R().data):R().data};if(i.length<3)return ie();let Q=v,ee;const Ee=getTimestamp();w[g]=[Ee,0];const te=!isUndefined(D),we=R(),je=we.data,Le=we._c,Xe=isUndefined(Le)?je:Le;if(te&&(D=isFunction(D)?D(Xe,je):D,S({data:D,_c:Xe})),isFunction(Q))try{Q=Q(Xe)}catch(De){ee=De}if(Q&&isPromiseLike(Q))if(Q=await Q.catch(De=>{ee=De}),Ee!==w[g][0]){if(ee)throw ee;return Q}else ee&&te&&c(ee)&&(N=!0,S({data:Xe,_c:UNDEFINED}));if(N&&!ee)if(isFunction(N)){const De=N(Q,Xe);S({data:De,error:UNDEFINED,_c:UNDEFINED})}else S({data:Q,error:UNDEFINED,_c:UNDEFINED});if(w[g][1]=getTimestamp(),Promise.resolve(ie()).then(()=>{S({_c:UNDEFINED})}),ee){if(o)throw ee;return}return Q}}const revalidateAllKeys=(i,s)=>{for(const f in i)i[f][0]&&i[f][0](s)},initCache=(i,s)=>{if(!SWRGlobalState.has(i)){const f=mergeObjects(defaultConfigOptions,s),v={},b=internalMutate.bind(UNDEFINED,i);let _=noop;const N={},C=(o,a)=>{const d=N[o]||[];return N[o]=d,d.push(a),()=>d.splice(d.indexOf(a),1)},D=(o,a,d)=>{i.set(o,a);const g=N[o];if(g)for(const R of g)R(a,d)},c=()=>{if(!SWRGlobalState.has(i)&&(SWRGlobalState.set(i,[v,{},{},{},b,D,C]),!IS_SERVER)){const o=f.initFocus(setTimeout.bind(UNDEFINED,revalidateAllKeys.bind(UNDEFINED,v,FOCUS_EVENT))),a=f.initReconnect(setTimeout.bind(UNDEFINED,revalidateAllKeys.bind(UNDEFINED,v,RECONNECT_EVENT)));_=()=>{o&&o(),a&&a(),SWRGlobalState.delete(i)}}};return c(),[i,b,c,_]}return[i,SWRGlobalState.get(i)[4]]},onErrorRetry=(i,s,f,v,b)=>{const _=f.errorRetryCount,N=b.retryCount,C=~~((Math.random()+.5)*(1<<(N<8?N:8)))*f.errorRetryInterval;!isUndefined(_)&&N>_||setTimeout(v,C,b)},compare=(i,s)=>stableHash(i)==stableHash(s),[cache,mutate]=initCache(new Map),defaultConfig=mergeObjects({onLoadingSlow:noop,onSuccess:noop,onError:noop,onErrorRetry,onDiscarded:noop,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:slowConnection?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:slowConnection?5e3:3e3,compare,isPaused:()=>!1,cache,mutate,fallback:{}},preset),mergeConfigs=(i,s)=>{const f=mergeObjects(i,s);if(s){const{use:v,fallback:b}=i,{use:_,fallback:N}=s;v&&_&&(f.use=v.concat(_)),b&&N&&(f.fallback=mergeObjects(b,N))}return f},SWRConfigContext=reactExports.createContext({}),INFINITE_PREFIX="$inf$",enableDevtools=isWindowDefined&&window.__SWR_DEVTOOLS_USE__,use$1=enableDevtools?window.__SWR_DEVTOOLS_USE__:[],setupDevTools=()=>{enableDevtools&&(window.__SWR_DEVTOOLS_REACT__=P)},normalize=i=>isFunction(i[1])?[i[0],i[1],i[2]||{}]:[i[0],null,(i[1]===null?i[2]:i[1])||{}],useSWRConfig=()=>mergeObjects(defaultConfig,reactExports.useContext(SWRConfigContext)),middleware=i=>(s,f,v)=>i(s,f&&((..._)=>{const[N]=serialize(s),[,,,C]=SWRGlobalState.get(cache);if(N.startsWith(INFINITE_PREFIX))return f(..._);const D=C[N];return isUndefined(D)?f(..._):(delete C[N],D)}),v),BUILT_IN_MIDDLEWARE=use$1.concat(middleware),withArgs=i=>function(...f){const v=useSWRConfig(),[b,_,N]=normalize(f),C=mergeConfigs(v,N);let D=i;const{use:c}=C,o=(c||[]).concat(BUILT_IN_MIDDLEWARE);for(let a=o.length;a--;)D=o[a](D);return D(b,_||C.fetcher||null,C)},subscribeCallback=(i,s,f)=>{const v=s[i]||(s[i]=[]);return v.push(f),()=>{const b=v.indexOf(f);b>=0&&(v[b]=v[v.length-1],v.pop())}},withMiddleware=(i,s)=>(...f)=>{const[v,b,_]=normalize(f),N=(_.use||[]).concat(s);return i(v,b,{..._,use:N})};setupDevTools();const use=P.use||(i=>{if(i.status==="pending")throw i;if(i.status==="fulfilled")return i.value;throw i.status==="rejected"?i.reason:(i.status="pending",i.then(s=>{i.status="fulfilled",i.value=s},s=>{i.status="rejected",i.reason=s}),i)}),WITH_DEDUPE={dedupe:!0},useSWRHandler=(i,s,f)=>{const{cache:v,compare:b,suspense:_,fallbackData:N,revalidateOnMount:C,revalidateIfStale:D,refreshInterval:c,refreshWhenHidden:o,refreshWhenOffline:a,keepPreviousData:d}=f,[g,R,S,y]=SWRGlobalState.get(v),[w,G]=serialize(i),W=reactExports.useRef(!1),ie=reactExports.useRef(!1),Q=reactExports.useRef(w),ee=reactExports.useRef(s),Ee=reactExports.useRef(f),te=()=>Ee.current,we=()=>te().isVisible()&&te().isOnline(),[je,Le,Xe,De]=createCacheHelper(v,w),Ne=reactExports.useRef({}).current,$e=isUndefined(N)?f.fallback[w]:N,me=(xe,Se)=>{for(const se in Ne){const be=se;if(be==="data"){if(!b(xe[be],Se[be])&&(!isUndefined(xe[be])||!b(gt,Se[be])))return!1}else if(Se[be]!==xe[be])return!1}return!0},wt=reactExports.useMemo(()=>{const xe=!w||!s?!1:isUndefined(C)?te().isPaused()||_?!1:isUndefined(D)?!0:D:C,Se=Me=>{const Ke=mergeObjects(Me);return delete Ke._k,xe?{isValidating:!0,isLoading:!0,...Ke}:Ke},se=je(),be=De(),Ce=Se(se),ht=se===be?Ce:Se(be);let Pe=Ce;return[()=>{const Me=Se(je());return me(Me,Pe)?(Pe.data=Me.data,Pe.isLoading=Me.isLoading,Pe.isValidating=Me.isValidating,Pe.error=Me.error,Pe):(Pe=Me,Me)},()=>ht]},[v,w]),it=shimExports.useSyncExternalStore(reactExports.useCallback(xe=>Xe(w,(Se,se)=>{me(se,Se)||xe()}),[v,w]),wt[0],wt[1]),mt=!W.current,Pt=g[w]&&g[w].length>0,Be=it.data,st=isUndefined(Be)?$e:Be,ct=it.error,Ot=reactExports.useRef(st),gt=d?isUndefined(Be)?Ot.current:Be:st,bt=Pt&&!isUndefined(ct)?!1:mt&&!isUndefined(C)?C:te().isPaused()?!1:_?isUndefined(st)?!1:D:isUndefined(st)||D,Tt=!!(w&&s&&mt&&bt),Ct=isUndefined(it.isValidating)?Tt:it.isValidating,Gt=isUndefined(it.isLoading)?Tt:it.isLoading,vt=reactExports.useCallback(async xe=>{const Se=ee.current;if(!w||!Se||ie.current||te().isPaused())return!1;let se,be,Ce=!0;const ht=xe||{},Pe=!S[w]||!ht.dedupe,Me=()=>IS_REACT_LEGACY?!ie.current&&w===Q.current&&W.current:w===Q.current,Ke={isValidating:!1,isLoading:!1},Zt=()=>{Le(Ke)},Qt=()=>{const tt=S[w];tt&&tt[1]===be&&delete S[w]},er={isValidating:!0};isUndefined(je().data)&&(er.isLoading=!0);try{if(Pe&&(Le(er),f.loadingTimeout&&isUndefined(je().data)&&setTimeout(()=>{Ce&&Me()&&te().onLoadingSlow(w,f)},f.loadingTimeout),S[w]=[Se(G),getTimestamp()]),[se,be]=S[w],se=await se,Pe&&setTimeout(Qt,f.dedupingInterval),!S[w]||S[w][1]!==be)return Pe&&Me()&&te().onDiscarded(w),!1;Ke.error=UNDEFINED;const tt=R[w];if(!isUndefined(tt)&&(be<=tt[0]||be<=tt[1]||tt[1]===0))return Zt(),Pe&&Me()&&te().onDiscarded(w),!1;const ft=je().data;Ke.data=b(ft,se)?ft:se,Pe&&Me()&&te().onSuccess(se,w,f)}catch(tt){Qt();const ft=te(),{shouldRetryOnError:$t}=ft;ft.isPaused()||(Ke.error=tt,Pe&&Me()&&(ft.onError(tt,w,ft),($t===!0||isFunction($t)&&$t(tt))&&(!te().revalidateOnFocus||!te().revalidateOnReconnect||we())&&ft.onErrorRetry(tt,w,ft,Yt=>{const tr=g[w];tr&&tr[0]&&tr[0](events.ERROR_REVALIDATE_EVENT,Yt)},{retryCount:(ht.retryCount||0)+1,dedupe:!0})))}return Ce=!1,Zt(),!0},[w,v]),Lt=reactExports.useCallback((...xe)=>internalMutate(v,Q.current,...xe),[]);if(useIsomorphicLayoutEffect(()=>{ee.current=s,Ee.current=f,isUndefined(Be)||(Ot.current=Be)}),useIsomorphicLayoutEffect(()=>{if(!w)return;const xe=vt.bind(UNDEFINED,WITH_DEDUPE);let Se=0;const be=subscribeCallback(w,g,(Ce,ht={})=>{if(Ce==events.FOCUS_EVENT){const Pe=Date.now();te().revalidateOnFocus&&Pe>Se&&we()&&(Se=Pe+te().focusThrottleInterval,xe())}else if(Ce==events.RECONNECT_EVENT)te().revalidateOnReconnect&&we()&&xe();else{if(Ce==events.MUTATE_EVENT)return vt();if(Ce==events.ERROR_REVALIDATE_EVENT)return vt(ht)}});return ie.current=!1,Q.current=w,W.current=!0,Le({_k:G}),bt&&(isUndefined(st)||IS_SERVER?xe():rAF(xe)),()=>{ie.current=!0,be()}},[w]),useIsomorphicLayoutEffect(()=>{let xe;function Se(){const be=isFunction(c)?c(je().data):c;be&&xe!==-1&&(xe=setTimeout(se,be))}function se(){!je().error&&(o||te().isVisible())&&(a||te().isOnline())?vt(WITH_DEDUPE).then(Se):Se()}return Se(),()=>{xe&&(clearTimeout(xe),xe=-1)}},[c,o,a,w]),reactExports.useDebugValue(gt),_&&isUndefined(st)&&w){if(!IS_REACT_LEGACY&&IS_SERVER)throw new Error("Fallback data is required when using suspense in SSR.");ee.current=s,Ee.current=f,ie.current=!1;const xe=y[w];if(!isUndefined(xe)){const Se=Lt(xe);use(Se)}if(isUndefined(ct)){const Se=vt(WITH_DEDUPE);isUndefined(gt)||(Se.status="fulfilled",Se.value=!0),use(Se)}else throw ct}return{mutate:Lt,get data(){return Ne.data=!0,gt},get error(){return Ne.error=!0,ct},get isValidating(){return Ne.isValidating=!0,Ct},get isLoading(){return Ne.isLoading=!0,Gt}}},useSWR=withArgs(useSWRHandler),immutable=i=>(s,f,v)=>(v.revalidateOnFocus=!1,v.revalidateIfStale=!1,v.revalidateOnReconnect=!1,i(s,f,v)),useSWRImmutable=withMiddleware(useSWR,immutable);var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const toKebabCase=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const createLucideIcon=(i,s)=>{const f=reactExports.forwardRef(({color:v="currentColor",size:b=24,strokeWidth:_=2,absoluteStrokeWidth:N,className:C="",children:D,...c},o)=>reactExports.createElement("svg",{ref:o,...defaultAttributes,width:b,height:b,stroke:v,strokeWidth:N?Number(_)*24/Number(b):_,className:["lucide",`lucide-${toKebabCase(i)}`,C].join(" "),...c},[...s.map(([a,d])=>reactExports.createElement(a,d)),...Array.isArray(D)?D:[D]]));return f.displayName=`${i}`,f};const CircleCheckBig=createLucideIcon("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const CircleCheck=createLucideIcon("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const CircleHelp=createLucideIcon("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const CircleX=createLucideIcon("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const MessageSquareOff=createLucideIcon("MessageSquareOff",[["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M3.6 3.6c-.4.3-.6.8-.6 1.4v16l4-4h10",key:"pwpm4a"}]]);const Pause=createLucideIcon("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);const Play=createLucideIcon("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const RotateCcw=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const RotateCw=createLucideIcon("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);const Send=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const SkipForward=createLucideIcon("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const TriangleAlert=createLucideIcon("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function isBytes(i){return i instanceof Uint8Array||i!=null&&typeof i=="object"&&i.constructor.name==="Uint8Array"}function bytes(i,...s){if(!isBytes(i))throw new Error("Uint8Array expected");if(s.length>0&&!s.includes(i.length))throw new Error(`Uint8Array expected of length ${s}, not of length=${i.length}`)}function exists(i,s=!0){if(i.destroyed)throw new Error("Hash instance has been destroyed");if(s&&i.finished)throw new Error("Hash#digest() has already been called")}function output(i,s){bytes(i);const f=s.outputLen;if(i.length<f)throw new Error(`digestInto() expects output buffer of length at least ${f}`)}const createView=i=>new DataView(i.buffer,i.byteOffset,i.byteLength),rotr=(i,s)=>i<<32-s|i>>>s;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function utf8ToBytes(i){if(typeof i!="string")throw new Error(`utf8ToBytes expected string, got ${typeof i}`);return new Uint8Array(new TextEncoder().encode(i))}function toBytes(i){return typeof i=="string"&&(i=utf8ToBytes(i)),bytes(i),i}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(i){const s=v=>i().update(toBytes(v)).digest(),f=i();return s.outputLen=f.outputLen,s.blockLen=f.blockLen,s.create=()=>i(),s}function setBigUint64(i,s,f,v){if(typeof i.setBigUint64=="function")return i.setBigUint64(s,f,v);const b=BigInt(32),_=BigInt(4294967295),N=Number(f>>b&_),C=Number(f&_),D=v?4:0,c=v?0:4;i.setUint32(s+D,N,v),i.setUint32(s+c,C,v)}const Chi=(i,s,f)=>i&s^~i&f,Maj=(i,s,f)=>i&s^i&f^s&f;class HashMD extends Hash{constructor(s,f,v,b){super(),this.blockLen=s,this.outputLen=f,this.padOffset=v,this.isLE=b,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=createView(this.buffer)}update(s){exists(this);const{view:f,buffer:v,blockLen:b}=this;s=toBytes(s);const _=s.length;for(let N=0;N<_;){const C=Math.min(b-this.pos,_-N);if(C===b){const D=createView(s);for(;b<=_-N;N+=b)this.process(D,N);continue}v.set(s.subarray(N,N+C),this.pos),this.pos+=C,N+=C,this.pos===b&&(this.process(f,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){exists(this),output(s,this),this.finished=!0;const{buffer:f,view:v,blockLen:b,isLE:_}=this;let{pos:N}=this;f[N++]=128,this.buffer.subarray(N).fill(0),this.padOffset>b-N&&(this.process(v,0),N=0);for(let a=N;a<b;a++)f[a]=0;setBigUint64(v,b-8,BigInt(this.length*8),_),this.process(v,0);const C=createView(s),D=this.outputLen;if(D%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=D/4,o=this.get();if(c>o.length)throw new Error("_sha2: outputLen bigger than state");for(let a=0;a<c;a++)C.setUint32(4*a,o[a],_)}digest(){const{buffer:s,outputLen:f}=this;this.digestInto(s);const v=s.slice(0,f);return this.destroy(),v}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:f,buffer:v,length:b,finished:_,destroyed:N,pos:C}=this;return s.length=b,s.pos=C,s.finished=_,s.destroyed=N,b%f&&s.buffer.set(v),s}}const SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends HashMD{constructor(){super(64,32,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:s,B:f,C:v,D:b,E:_,F:N,G:C,H:D}=this;return[s,f,v,b,_,N,C,D]}set(s,f,v,b,_,N,C,D){this.A=s|0,this.B=f|0,this.C=v|0,this.D=b|0,this.E=_|0,this.F=N|0,this.G=C|0,this.H=D|0}process(s,f){for(let a=0;a<16;a++,f+=4)SHA256_W[a]=s.getUint32(f,!1);for(let a=16;a<64;a++){const d=SHA256_W[a-15],g=SHA256_W[a-2],R=rotr(d,7)^rotr(d,18)^d>>>3,S=rotr(g,17)^rotr(g,19)^g>>>10;SHA256_W[a]=S+SHA256_W[a-7]+R+SHA256_W[a-16]|0}let{A:v,B:b,C:_,D:N,E:C,F:D,G:c,H:o}=this;for(let a=0;a<64;a++){const d=rotr(C,6)^rotr(C,11)^rotr(C,25),g=o+d+Chi(C,D,c)+SHA256_K[a]+SHA256_W[a]|0,S=(rotr(v,2)^rotr(v,13)^rotr(v,22))+Maj(v,b,_)|0;o=c,c=D,D=C,C=N+g|0,N=_,_=b,b=v,v=g+S|0}v=v+this.A|0,b=b+this.B|0,_=_+this.C|0,N=N+this.D|0,C=C+this.E|0,D=D+this.F|0,c=c+this.G|0,o=o+this.H|0,this.set(v,b,_,N,C,D,c,o)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256=wrapConstructor(()=>new SHA256);var MULTIPLIER=214013,INCREMENT=2531011,MASK=4294967295,MASK_2=(1<<31)-1,computeNextSeed=function(i){return i*MULTIPLIER+INCREMENT&MASK},computeValueFromNextSeed=function(i){return(i&MASK_2)>>16},LinearCongruential32=function(){function i(s){this.seed=s}return i.prototype.clone=function(){return new i(this.seed)},i.prototype.next=function(){var s=new i(this.seed),f=s.unsafeNext();return[f,s]},i.prototype.unsafeNext=function(){var s=computeNextSeed(this.seed),f=computeValueFromNextSeed(s),v=computeNextSeed(s),b=computeValueFromNextSeed(v);this.seed=computeNextSeed(v);var _=computeValueFromNextSeed(this.seed),N=_+(b+(f<<15)<<15);return N|0},i.prototype.getState=function(){return[this.seed]},i}();function fromState$3(i){var s=i.length===1;if(!s)throw new Error("The state must have been produced by a congruential32 RandomGenerator");return new LinearCongruential32(i[0])}Object.assign(function(i){return new LinearCongruential32(i)},{fromState:fromState$3});var __read=function(i,s){var f=typeof Symbol=="function"&&i[Symbol.iterator];if(!f)return i;var v=f.call(i),b,_=[],N;try{for(;(s===void 0||s-- >0)&&!(b=v.next()).done;)_.push(b.value)}catch(C){N={error:C}}finally{try{b&&!b.done&&(f=v.return)&&f.call(v)}finally{if(N)throw N.error}}return _},__spreadArray=function(i,s,f){if(f||arguments.length===2)for(var v=0,b=s.length,_;v<b;v++)(_||!(v in s))&&(_||(_=Array.prototype.slice.call(s,0,v)),_[v]=s[v]);return i.concat(_||Array.prototype.slice.call(s))},MersenneTwister=function(){function i(s,f){this.states=s,this.index=f}return i.twist=function(s){for(var f=s.slice(),v=0;v!==i.N-i.M;++v){var b=(f[v]&i.MASK_UPPER)+(f[v+1]&i.MASK_LOWER);f[v]=f[v+i.M]^b>>>1^-(b&1)&i.A}for(var v=i.N-i.M;v!==i.N-1;++v){var _=(f[v]&i.MASK_UPPER)+(f[v+1]&i.MASK_LOWER);f[v]=f[v+i.M-i.N]^_>>>1^-(_&1)&i.A}var N=(f[i.N-1]&i.MASK_UPPER)+(f[0]&i.MASK_LOWER);return f[i.N-1]=f[i.M-1]^N>>>1^-(N&1)&i.A,f},i.seeded=function(s){var f=Array(i.N);f[0]=s;for(var v=1;v!==i.N;++v){var b=f[v-1]^f[v-1]>>>30;f[v]=Math.imul(i.F,b)+v|0}return f},i.from=function(s){return new i(i.twist(i.seeded(s)),0)},i.prototype.clone=function(){return new i(this.states,this.index)},i.prototype.next=function(){var s=new i(this.states,this.index),f=s.unsafeNext();return[f,s]},i.prototype.unsafeNext=function(){var s=this.states[this.index];return s^=this.states[this.index]>>>i.U,s^=s<<i.S&i.B,s^=s<<i.T&i.C,s^=s>>>i.L,++this.index>=i.N&&(this.states=i.twist(this.states),this.index=0),s},i.prototype.getState=function(){return __spreadArray([this.index],__read(this.states),!1)},i.fromState=function(s){var f=s.length===i.N+1&&s[0]>=0&&s[0]<i.N;if(!f)throw new Error("The state must have been produced by a mersenne RandomGenerator");return new i(s.slice(1),s[0])},i.N=624,i.M=397,i.R=31,i.A=2567483615,i.F=1812433253,i.U=11,i.S=7,i.B=2636928640,i.T=15,i.C=4022730752,i.L=18,i.MASK_LOWER=Math.pow(2,i.R)-1,i.MASK_UPPER=Math.pow(2,i.R),i}();function fromState$2(i){return MersenneTwister.fromState(i)}Object.assign(function(i){return MersenneTwister.from(i)},{fromState:fromState$2});var XorShift128Plus=function(){function i(s,f,v,b){this.s01=s,this.s00=f,this.s11=v,this.s10=b}return i.prototype.clone=function(){return new i(this.s01,this.s00,this.s11,this.s10)},i.prototype.next=function(){var s=new i(this.s01,this.s00,this.s11,this.s10),f=s.unsafeNext();return[f,s]},i.prototype.unsafeNext=function(){var s=this.s00^this.s00<<23,f=this.s01^(this.s01<<23|this.s00>>>9),v=s^this.s10^(s>>>18|f<<14)^(this.s10>>>5|this.s11<<27),b=f^this.s11^f>>>18^this.s11>>>5,_=this.s00+this.s10|0;return this.s01=this.s11,this.s00=this.s10,this.s11=b,this.s10=v,_},i.prototype.jump=function(){var s=new i(this.s01,this.s00,this.s11,this.s10);return s.unsafeJump(),s},i.prototype.unsafeJump=function(){for(var s=0,f=0,v=0,b=0,_=[1667051007,2321340297,1548169110,304075285],N=0;N!==4;++N)for(var C=1;C;C<<=1)_[N]&C&&(s^=this.s01,f^=this.s00,v^=this.s11,b^=this.s10),this.unsafeNext();this.s01=s,this.s00=f,this.s11=v,this.s10=b},i.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},i}();function fromState$1(i){var s=i.length===4;if(!s)throw new Error("The state must have been produced by a xorshift128plus RandomGenerator");return new XorShift128Plus(i[0],i[1],i[2],i[3])}Object.assign(function(i){return new XorShift128Plus(-1,~i,i|0,0)},{fromState:fromState$1});var XoroShiro128Plus=function(){function i(s,f,v,b){this.s01=s,this.s00=f,this.s11=v,this.s10=b}return i.prototype.clone=function(){return new i(this.s01,this.s00,this.s11,this.s10)},i.prototype.next=function(){var s=new i(this.s01,this.s00,this.s11,this.s10),f=s.unsafeNext();return[f,s]},i.prototype.unsafeNext=function(){var s=this.s00+this.s10|0,f=this.s10^this.s00,v=this.s11^this.s01,b=this.s00,_=this.s01;return this.s00=b<<24^_>>>8^f^f<<16,this.s01=_<<24^b>>>8^v^(v<<16|f>>>16),this.s10=v<<5^f>>>27,this.s11=f<<5^v>>>27,s},i.prototype.jump=function(){var s=new i(this.s01,this.s00,this.s11,this.s10);return s.unsafeJump(),s},i.prototype.unsafeJump=function(){for(var s=0,f=0,v=0,b=0,_=[3639956645,3750757012,1261568508,386426335],N=0;N!==4;++N)for(var C=1;C;C<<=1)_[N]&C&&(s^=this.s01,f^=this.s00,v^=this.s11,b^=this.s10),this.unsafeNext();this.s01=s,this.s00=f,this.s11=v,this.s10=b},i.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},i}();function fromState(i){var s=i.length===4;if(!s)throw new Error("The state must have been produced by a xoroshiro128plus RandomGenerator");return new XoroShiro128Plus(i[0],i[1],i[2],i[3])}var xoroshiro128plus=Object.assign(function(i){return new XoroShiro128Plus(-1,~i,i|0,0)},{fromState});function fromNumberToArrayInt64(i,s){if(s<0){var f=-s;i.sign=-1,i.data[0]=~~(f/4294967296),i.data[1]=f>>>0}else i.sign=1,i.data[0]=~~(s/4294967296),i.data[1]=s>>>0;return i}function substractArrayInt64(i,s,f){var v=s.data[1],b=s.data[0],_=s.sign,N=f.data[1],C=f.data[0],D=f.sign;if(i.sign=1,_===1&&D===-1){var c=v+N,o=b+C+(c>4294967295?1:0);return i.data[0]=o>>>0,i.data[1]=c>>>0,i}var a=v,d=b,g=N,R=C;_===-1&&(a=N,d=C,g=v,R=b);var S=0,y=a-g;return y<0&&(S=1,y=y>>>0),i.data[0]=d-R-S,i.data[1]=y,i}function unsafeUniformIntDistributionInternal(i,s){for(var f=i>2?~~(4294967296/i)*i:4294967296,v=s.unsafeNext()+2147483648;v>=f;)v=s.unsafeNext()+2147483648;return v%i}function unsafeUniformArrayIntDistributionInternal(i,s,f){for(var v=s.length;;){for(var b=0;b!==v;++b){var _=b===0?s[0]+1:4294967296,N=unsafeUniformIntDistributionInternal(_,f);i[b]=N}for(var b=0;b!==v;++b){var C=i[b],D=s[b];if(C<D)return i;if(C>D)break}}}var safeNumberMaxSafeInteger=Number.MAX_SAFE_INTEGER,sharedA={sign:1,data:[0,0]},sharedB={sign:1,data:[0,0]},sharedC={sign:1,data:[0,0]},sharedData=[0,0];function uniformLargeIntInternal(i,s,f,v){var b=f<=safeNumberMaxSafeInteger?fromNumberToArrayInt64(sharedC,f):substractArrayInt64(sharedC,fromNumberToArrayInt64(sharedA,s),fromNumberToArrayInt64(sharedB,i));return b.data[1]===4294967295?(b.data[0]+=1,b.data[1]=0):b.data[1]+=1,unsafeUniformArrayIntDistributionInternal(sharedData,b.data,v),sharedData[0]*4294967296+sharedData[1]+i}function unsafeUniformIntDistribution(i,s,f){var v=s-i;if(v<=4294967295){var b=unsafeUniformIntDistributionInternal(v+1,f);return b+i}return uniformLargeIntInternal(i,s,v,f)}var ValidationError=class extends Error{constructor(s,f){super(s,f);Dr(this,"name");Dr(this,"details");this.name="ZodValidationError",this.details=getIssuesFromErrorOptions(f)}toString(){return this.message}};function getIssuesFromErrorOptions(i){if(i){const s=i.cause;if(s instanceof ZodError)return s.issues}return[]}var ISSUE_SEPARATOR="; ",MAX_ISSUES_IN_MESSAGE=99,PREFIX="Validation error",PREFIX_SEPARATOR=": ",UNION_SEPARATOR=", or ";function prefixMessage(i,s,f){return s!==null?i.length>0?[s,i].join(f):s:i.length>0?i:PREFIX}var identifierRegex=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function joinPath(i){return i.length===1?i[0].toString():i.reduce((s,f)=>{if(typeof f=="number")return s+"["+f.toString()+"]";if(f.includes('"'))return s+'["'+escapeQuotes(f)+'"]';if(!identifierRegex.test(f))return s+'["'+f+'"]';const v=s.length===0?"":".";return s+v+f},"")}function escapeQuotes(i){return i.replace(/"/g,'\\"')}function isNonEmptyArray(i){return i.length!==0}function getMessageFromZodIssue(i){const{issue:s,issueSeparator:f,unionSeparator:v,includePath:b}=i;if(s.code==="invalid_union")return s.unionErrors.reduce((_,N)=>{const C=N.issues.map(D=>getMessageFromZodIssue({issue:D,issueSeparator:f,unionSeparator:v,includePath:b})).join(f);return _.includes(C)||_.push(C),_},[]).join(v);if(b&&isNonEmptyArray(s.path)){if(s.path.length===1){const _=s.path[0];if(typeof _=="number")return`${s.message} at index ${_}`}return`${s.message} at "${joinPath(s.path)}"`}return s.message}function fromZodError(i,s={}){const{maxIssuesInMessage:f=MAX_ISSUES_IN_MESSAGE,issueSeparator:v=ISSUE_SEPARATOR,unionSeparator:b=UNION_SEPARATOR,prefixSeparator:_=PREFIX_SEPARATOR,prefix:N=PREFIX,includePath:C=!0}=s,D=i.errors,c=D.length===0?i.message:D.slice(0,f).map(a=>getMessageFromZodIssue({issue:a,issueSeparator:v,unionSeparator:b,includePath:C})).join(v),o=prefixMessage(c,N,_);return new ValidationError(o,{cause:i})}const ErrorBoundaryContext=reactExports.createContext(null),initialState={didCatch:!1,error:null};class ErrorBoundary extends reactExports.Component{constructor(s){super(s),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=initialState}static getDerivedStateFromError(s){return{didCatch:!0,error:s}}resetErrorBoundary(){const{error:s}=this.state;if(s!==null){for(var f,v,b=arguments.length,_=new Array(b),N=0;N<b;N++)_[N]=arguments[N];(f=(v=this.props).onReset)===null||f===void 0||f.call(v,{args:_,reason:"imperative-api"}),this.setState(initialState)}}componentDidCatch(s,f){var v,b;(v=(b=this.props).onError)===null||v===void 0||v.call(b,s,f)}componentDidUpdate(s,f){const{didCatch:v}=this.state,{resetKeys:b}=this.props;if(v&&f.error!==null&&hasArrayChanged(s.resetKeys,b)){var _,N;(_=(N=this.props).onReset)===null||_===void 0||_.call(N,{next:b,prev:s.resetKeys,reason:"keys"}),this.setState(initialState)}}render(){const{children:s,fallbackRender:f,FallbackComponent:v,fallback:b}=this.props,{didCatch:_,error:N}=this.state;let C=s;if(_){const D={error:N,resetErrorBoundary:this.resetErrorBoundary};if(typeof f=="function")C=f(D);else if(v)C=reactExports.createElement(v,D);else if(b===null||reactExports.isValidElement(b))C=b;else throw N}return reactExports.createElement(ErrorBoundaryContext.Provider,{value:{didCatch:_,error:N,resetErrorBoundary:this.resetErrorBoundary}},C)}}function hasArrayChanged(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return i.length!==s.length||i.some((f,v)=>!Object.is(f,s[v]))}var define_import_meta_env_default={QUIZMS_MODE:"training",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},E=reactExports.createContext({});E.displayName="LoadingButtonsContext";function U({className:i,showError:s,children:f}){let[v,b]=reactExports.useState(),[_,N]=reactExports.useState(),C=reactExports.useCallback(D=>{D&&(console.error(D),s&&N(`Errore: ${ut(D)}`))},[s]);return P.createElement(E.Provider,{value:{contextLoading:v,setContextLoading:b,throwError:C}},P.createElement("div",{className:j$2("not-prose",i)},s&&P.createElement("p",{className:"mb-1.5 text-error"},_||P.createElement(P.Fragment,null," ")),P.createElement("div",{className:"flex flex-wrap justify-center gap-3"},f)))}function ut(i){if(!(i instanceof FirebaseError))return i.message;switch(i.code){case"auth/invalid-email":case"auth/user-not-found":return"Username non corretto.";case"auth/wrong-password":return"Password non corretta.";case"auth/too-many-requests":return"Troppi tentativi. Riprova più tardi.";default:return i.message.replace(/^Firebase: /,"").replace(/ \([/a-z-]+\)\.$/,"")}}function F({className:i,icon:s,onClick:f,disabled:v,children:b}){let{contextLoading:_,setContextLoading:N,throwError:C}=reactExports.useContext(E),[D,c]=reactExports.useState(),o=_??D,a=S=>{(N??c)(S)},d=reactExports.useId(),g=o===d,R=async S=>{if(f){S.preventDefault(),a(d),C==null||C();try{await f()}catch(y){C==null||C(y)}a(void 0)}};return P.createElement("button",{className:j$2("btn",i),onClick:R,disabled:!!o||v},g&&P.createElement("span",{className:"loading loading-spinner"}),!g&&s&&P.createElement(s,null),b)}function V$1({percentage:i,className:s,children:f}){let v=i===void 0?void 0:Math.round(i);return v!==void 0&&(v=Number.isNaN(v)?void 0:clamp(v,0,100)),P.createElement("div",{className:j$2("relative p-2 pt-0 text-center",s)},P.createElement("div",{className:"relative z-10"},f),P.createElement("progress",{className:"progress progress-info absolute inset-x-0",value:v,max:"100"}))}function Ie(){return P.createElement("div",{className:"not-prose flex h-full items-center justify-center"},P.createElement(V$1,null,P.createElement("p",{className:"pb-1"},"Caricamento in corso...")))}var Te=reactExports.forwardRef(function({title:i,className:s,children:f},v){return P.createElement("dialog",{ref:v,className:"modal"},P.createElement("form",{method:"dialog",className:j$2("modal-box",s)},P.createElement("button",{className:"btn btn-circle btn-ghost btn-sm absolute right-2 top-2","aria-label":"Chiudi"},"✕"),P.createElement("h3",{className:"mb-3 mt-0 text-lg font-bold"},i),f),P.createElement("form",{method:"dialog",className:"modal-backdrop"},P.createElement("button",null,"Chiudi")))});function H(){let{data:i}=useSWRImmutable("time-server",It,{suspense:!0});return()=>addMilliseconds(new Date,i)}async function It(){if(!define_import_meta_env_default.QUIZMS_TIME_SERVER)return 0;try{let i=await fetch(define_import_meta_env_default.QUIZMS_TIME_SERVER);if(!i.ok)return 0;let s=Date.now(),f=await i.text(),v=Number(f);return Number.isNaN(v)?0:v-s}catch{return 0}}function Z(i){let s=H(),f=reactExports.useCallback(()=>!!i&&s()>=i,[i,s]),[v,b]=reactExports.useState(f),_=reactExports.useCallback(()=>!v&&f()&&b(!0),[v,f]);return reactExports.useEffect(()=>{if(!i){b(!1);return}let N=differenceInMilliseconds(i,s());if(N<0)return;let C=setTimeout(_,N+5);return()=>clearTimeout(C)},[i,_,s]),reactExports.useEffect(()=>(window.addEventListener("visibilitychange",_),()=>window.removeEventListener("visibilitychange",_)),[_]),v}function ke(i){let s=H(),[f,v]=reactExports.useState(s()),b=i.endTime??addMinutes(i.startTime,i.duration);if(reactExports.useEffect(()=>{if(!b)return;let D=setInterval(()=>{let c=s();v(c),c>=b&&clearInterval(D)},100);return()=>clearInterval(D)},[b,s]),!b)return P.createElement("span",{className:"font-mono"},"--:--");let _=Math.max(differenceInSeconds(b,f),0);i.duration&&(_=Math.min(_,i.duration*60));let N=Math.floor(_/60)%100,C=_%60;return P.createElement("span",{className:"countdown font-mono"},P.createElement("span",{style:{"--value":N}}),":",P.createElement("span",{style:{"--value":C}}))}var M=reactExports.createContext({addItem:noop$1,deleteItem:noop$1});function X({align:i,children:s}){let[f,v]=reactExports.useState(),[b,_]=reactExports.useState([]),N=reactExports.useMemo(()=>({button:f,addItem:C=>_(D=>[...D,C]),deleteItem:C=>_(D=>pull(D,C))}),[f,_]);return P.createElement(M.Provider,{value:N},P.createElement("div",{className:j$2("dropdown max-w-full flex-none",i)},P.createElement("div",{ref:v,tabIndex:0,role:"button",className:"btn btn-ghost no-animation w-full flex-nowrap"}),P.createElement("ul",{className:j$2("menu dropdown-content menu-sm z-30 mt-3 w-fit min-w-52 gap-1 rounded-box bg-base-200 p-2 text-base-content",b.length===0&&"hidden")},s)))}function Y$1({children:i}){let{button:s}=reactExports.useContext(M);return P.createElement(P.Fragment,null,s&&reactDomExports.createPortal(i,s))}function J({hidden:i,children:s}){let f=reactExports.useId(),{addItem:v,deleteItem:b}=reactExports.useContext(M);return reactExports.useEffect(()=>(i||v(f),()=>b(f)),[v,b,i,f]),!i&&P.createElement("li",null,s)}function K({error:i,resetErrorBoundary:s}){return reactExports.useEffect(()=>{},[s]),P.createElement("div",{className:"flex size-full flex-col justify-center"},P.createElement("p",{className:"mx-8 break-words text-center text-error"},"Errore: ",i.message),s&&P.createElement(U,{className:"mt-5"},P.createElement(F,{className:"btn-error",onClick:s},P.createElement(RotateCw,null),"Ricarica")))}var L$1=z.object({name:z.string(),label:z.string(),size:z.enum(["xs","sm","md","lg","xl"]).optional(),pinned:z.boolean().optional()}),zt=L$1.extend({type:z.literal("text")}),Bt=L$1.extend({type:z.literal("number"),min:z.number().optional(),max:z.number().optional()}),At=L$1.extend({type:z.literal("date"),min:z.date(),max:z.date()});z.object({id:z.string(),name:z.string(),longName:z.string(),problemIds:z.coerce.string().array(),contestWindowStart:z.date().optional(),contestWindowEnd:z.date().optional(),duration:z.coerce.number().positive().optional(),statementVersion:z.number(),personalInformation:z.array(z.discriminatedUnion("type",[zt,Bt,At])),hasVariants:z.boolean(),hasOnline:z.boolean(),hasPdf:z.boolean(),allowRestart:z.boolean(),allowStudentImport:z.boolean(),allowStudentEdit:z.boolean(),allowAnswerEdit:z.boolean(),allowStudentDelete:z.boolean(),instructions:z.string().optional()});var nt$1=z.object({uid:z.string(),personalInformation:z.record(z.union([z.string(),z.number(),z.date()]).optional()),absent:z.boolean(),disabled:z.boolean(),participationId:z.string(),contestId:z.string(),token:z.string(),startedAt:z.date(),variant:z.string(),answers:z.record(z.union([z.string(),z.number(),z.undefined()])),extraData:z.record(z.any()).optional(),createdAt:z.coerce.date(),updatedAt:z.date(),submittedAt:z.date().optional()}).partial().extend({id:z.string()});z.object({id:z.string(),studentId:z.string()});z.object({id:z.string(),studentId:z.string(),participationId:z.string()});z.object({id:z.string(),studentId:z.string(),participationId:z.string(),token:z.string(),name:z.string(),surname:z.string()});z.object({id:z.string(),contestId:z.string(),schema:z.record(z.object({type:z.enum(["text","number","points"]),originalId:z.coerce.string().optional(),optionsCorrect:z.string().array().optional(),optionsBlank:z.string().array().optional(),optionsWrong:z.string().array().optional(),pointsCorrect:z.number().optional(),pointsBlank:z.number().optional(),pointsWrong:z.number().optional()}))});z.object({id:z.string(),variant:z.string()});function Sn(i,s){var _,N,C;if(i.absent||i.disabled)return;let f=i.answers,v=(_=s[i.variant])==null?void 0:_.schema;if(!v||!f)return;let b=0;for(let D in v){if(!(D in f))continue;let c=v[D],o=(C=(N=f[D])==null?void 0:N.toString())==null?void 0:C.trim(),a=Ut(c,o);if(a===void 0)return;b+=a}return b}function Ut(i,s){var f;if(i.type==="points")return Number(s||0);if(!(i.pointsCorrect===void 0||i.pointsBlank===void 0||i.pointsWrong===void 0||i.optionsCorrect===void 0))return s===void 0||(f=i.optionsBlank)!=null&&f.includes(s)?i.pointsBlank:i.optionsCorrect.includes(s)?i.pointsCorrect:i.pointsWrong}z.object({id:z.string(),createdAt:z.date(),contestIds:z.string().array(),level:z.enum(["info","warning","error"]),title:z.string(),body:z.string()});z.object({id:z.string(),schoolId:z.string(),contestId:z.string(),name:z.string(),teacher:z.string(),token:z.string().optional(),startingTime:z.date().optional(),finalized:z.boolean().default(!1),pdfVariants:z.array(z.coerce.string()).optional()});z.object({id:z.string(),participationId:z.string(),contestId:z.string(),startingTime:z.date()});z.object({id:z.string(),uid:z.string(),student:nt$1,submittedAt:z.date().optional()});var j$1=class{constructor(s){this.randInt=(f,v)=>unsafeUniformIntDistribution(f,v,this.rng),this.choice=f=>f[this.randInt(0,f.length-1)],this.sample=(f,v)=>{let b=f.slice(0,v);for(let _=v;_<f.length;_++){let N=this.randInt(0,_);N<v&&(b[N]=f[_])}return b},this.shuffle=f=>{for(let v=f.length-1;v>0;v--){let b=this.randInt(0,v);[f[v],f[b]]=[f[b],f[v]]}},this.rng=xoroshiro128plus(Wt(s))}};function Wt(i){let s=sha256(i),f=new DataView(s.buffer,s.byteOffset,s.byteLength);return Number(f.getBigUint64(0,!0)&BigInt(Number.MAX_SAFE_INTEGER))}function Ht$1(){return crypto.randomUUID()}function _t(i,s,f){let v=i.safeParse(s);if(!v.success)throw fromZodError(v.error,f);return v.data}function po({children:i}){let[s,f]=Rt(reactExports.Children.toArray(i),_=>reactExports.isValidElement(_)&&_.type===oe$1),[v,b]=reactExports.useState([]);return reactExports.useEffect(()=>{return window.addEventListener("unhandledrejection",_),()=>window.removeEventListener("unhandledrejection",_);function _(N){let C=N.reason;C.timestamp=new Date,b(D=>[...D,C])}},[]),P.createElement("div",{className:"fixed inset-0 flex flex-col screen:overflow-y-scroll"},s,P.createElement(ErrorBoundary,{FallbackComponent:K},f),P.createElement("div",{className:"toast"},v.map((_,N)=>P.createElement(ne,{error:_,key:N}))))}function ne({error:i}){let s=Z(addSeconds(i.timestamp,10));return P.createElement("div",{className:j$2("alert alert-error w-screen max-w-sm",s&&"hidden")},P.createElement(TriangleAlert,null),P.createElement("div",{className:"text-wrap"},i.message))}function oe$1({color:i,flow:s,user:f,userIcon:v,logout:b,children:_}){return P.createElement("div",{className:j$2("navbar sticky top-0 z-20 h-16 justify-between px-3 backdrop-blur [--tw-bg-opacity:0.85] print:hidden",s??"flex-row-reverse",i)},P.createElement(X,{align:s!=="flex-row"&&"dropdown-end"},P.createElement(Y$1,null,P.createElement(v,null),P.createElement("div",{className:"truncate uppercase"},f??"Utente anonimo")),P.createElement(J,{hidden:!b},P.createElement("button",{onClick:b},"Cambia utente"))),_)}var p=reactExports.createContext({});p.displayName="TeacherContext";const emptyComponents={},MDXContext=P.createContext(emptyComponents);function useMDXComponents(i){const s=P.useContext(MDXContext);return P.useMemo(function(){return typeof i=="function"?i(s):{...s,...i}},[s,i])}function MDXProvider(i){let s;return i.disableParentContext?s=typeof i.components=="function"?i.components(emptyComponents):i.components||emptyComponents:s=useMDXComponents(i.components),P.createElement(MDXContext.Provider,{value:s},i.children)}var FileSaver_min={exports:{}};(function(i,s){(function(f,v){v()})(commonjsGlobal,function(){function f(c,o){return typeof o>"u"?o={autoBom:!1}:typeof o!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function v(c,o,a){var d=new XMLHttpRequest;d.open("GET",c),d.responseType="blob",d.onload=function(){D(d.response,o,a)},d.onerror=function(){console.error("could not download file")},d.send()}function b(c){var o=new XMLHttpRequest;o.open("HEAD",c,!1);try{o.send()}catch{}return 200<=o.status&&299>=o.status}function _(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(o)}}var N=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal=="object"&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,C=N.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),D=N.saveAs||(typeof window!="object"||window!==N?function(){}:"download"in HTMLAnchorElement.prototype&&!C?function(c,o,a){var d=N.URL||N.webkitURL,g=document.createElement("a");o=o||c.name||"download",g.download=o,g.rel="noopener",typeof c=="string"?(g.href=c,g.origin===location.origin?_(g):b(g.href)?v(c,o,a):_(g,g.target="_blank")):(g.href=d.createObjectURL(c),setTimeout(function(){d.revokeObjectURL(g.href)},4e4),setTimeout(function(){_(g)},0))}:"msSaveOrOpenBlob"in navigator?function(c,o,a){if(o=o||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(f(c,a),o);else if(b(c))v(c,o,a);else{var d=document.createElement("a");d.href=c,d.target="_blank",setTimeout(function(){_(d)})}}:function(c,o,a,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof c=="string")return v(c,o,a);var g=c.type==="application/octet-stream",R=/constructor/i.test(N.HTMLElement)||N.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||g&&R||C)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var W=y.result;W=S?W:W.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=W:location=W,d=null},y.readAsDataURL(c)}else{var w=N.URL||N.webkitURL,G=w.createObjectURL(c);d?d.location=G:location.href=G,d=null,setTimeout(function(){w.revokeObjectURL(G)},4e4)}});N.saveAs=D.saveAs=D,i.exports=D})})(FileSaver_min);var jsInterpreter={exports:{}},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(i,s){if(i.indexOf)return i.indexOf(s);for(var f=0;f<i.length;f++)if(i[f]===s)return f;return-1},Object_keys=function(i){if(Object.keys)return Object.keys(i);var s=[];for(var f in i)s.push(f);return s},forEach=function(i,s){if(i.forEach)return i.forEach(s);for(var f=0;f<i.length;f++)s(i[f],f,i)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(i,s,f){Object.defineProperty(i,s,{writable:!0,enumerable:!1,configurable:!0,value:f})}}catch{return function(s,f,v){s[f]=v}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(s){if(!(this instanceof Script))return new Script(s);this.code=s};Script.prototype.runInContext=function(i){if(!(i instanceof Context))throw new TypeError("needs a 'context' argument.");var s=document.createElement("iframe");s.style||(s.style={}),s.style.display="none",document.body.appendChild(s);var f=s.contentWindow,v=f.eval,b=f.execScript;!v&&b&&(b.call(f,"null"),v=f.eval),forEach(Object_keys(i),function(C){f[C]=i[C]}),forEach(globals,function(C){i[C]&&(f[C]=i[C])});var _=Object_keys(f),N=v.call(f,this.code);return forEach(Object_keys(f),function(C){(C in i||indexOf(_,C)===-1)&&(i[C]=f[C])}),forEach(globals,function(C){C in i||defineProp(i,C,f[C])}),document.body.removeChild(s),N},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(i){var s=Script.createContext(i),f=this.runInContext(s);return i&&forEach(Object_keys(s),function(v){i[v]=s[v]}),f},forEach(Object_keys(Script.prototype),function(i){exports[i]=Script[i]=function(s){var f=Script(s);return f[i].apply(f,[].slice.call(arguments,1))}}),exports.isContext=function(i){return i instanceof Context},exports.createScript=function(i){return exports.Script(i)},exports.createContext=Script.createContext=function(i){var s=new Context;return typeof i=="object"&&forEach(Object_keys(i),function(f){s[f]=i[f]}),s}}(vmBrowserify)),vmBrowserify}(function(i,s){(function(v,b){i.exports=b()})(commonjsGlobal,()=>(()=>{var f={"./original-repo/interpreter.js":function(N,C,D){var c=function(o,a){typeof o=="string"&&(o=this.parse_(o,"code"));var d=o.constructor;this.newNode=function(){return new d({options:{}})};var g=this.newNode();for(var R in o)g[R]=R==="body"?o[R].slice():o[R];this.ast=g,this.tasks=[],this.initFunc_=a,this.paused_=!1,this.polyfills_=[],this.functionCounter_=0,this.stepFunctions_=Object.create(null);var S=/^step([A-Z]\w*)$/,y;for(var w in this)typeof this[w]=="function"&&(y=w.match(S))&&(this.stepFunctions_[y[1]]=this[w].bind(this));this.globalScope=this.createScope(this.ast,null),this.globalObject=this.globalScope.object,this.ast=this.parse_(this.polyfills_.join(`
`),"polyfills"),this.polyfills_=void 0,c.stripLocations_(this.ast,void 0,void 0);var G=new c.State(this.ast,this.globalScope);G.done=!1,this.stateStack=[G],this.run(),this.value=void 0,this.ast=g,G=new c.State(this.ast,this.globalScope),G.done=!1,this.stateStack.length=0,this.stateStack[0]=G};c.Completion={NORMAL:0,BREAK:1,CONTINUE:2,RETURN:3,THROW:4},c.Status={DONE:0,STEP:1,TASK:2,ASYNC:3},c.PARSE_OPTIONS={locations:!0,ecmaVersion:5},c.READONLY_DESCRIPTOR={configurable:!0,enumerable:!0,writable:!1},c.NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!0},c.READONLY_NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!1},c.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR={configurable:!1,enumerable:!1,writable:!1},c.VARIABLE_DESCRIPTOR={configurable:!1,enumerable:!0,writable:!0},c.STEP_ERROR={STEP_ERROR:!0},c.SCOPE_REFERENCE={SCOPE_REFERENCE:!0},c.VALUE_IN_DESCRIPTOR={VALUE_IN_DESCRIPTOR:!0},c.REGEXP_TIMEOUT={REGEXP_TIMEOUT:!0},c.toStringCycles_=[],c.vm=null,c.currentInterpreter_=null,c.nativeGlobal=typeof globalThis>"u"?this:globalThis,c.WORKER_CODE=["onmessage = function(e) {","var result;","var data = e.data;","switch (data[0]) {","case 'split':","result = data[1].split(data[2], data[3]);","break;","case 'match':","result = data[1].match(data[2]);","break;","case 'search':","result = data[1].search(data[2]);","break;","case 'replace':","result = data[1].replace(data[2], data[3]);","break;","case 'exec':","var regexp = data[1];","regexp.lastIndex = data[2];","result = [regexp.exec(data[3]), data[1].lastIndex];","break;","default:","throw Error('Unknown RegExp operation: ' + data[0]);","}","postMessage(result);","close();","};"],c.legalArrayLength=function(o){var a=o>>>0;return a===Number(o)?a:NaN},c.legalArrayIndex=function(o){var a=o>>>0;return String(a)===String(o)&&a!==4294967295?a:NaN},c.stripLocations_=function(o,a,d){a?o.start=a:delete o.start,d?o.end=d:delete o.end;for(var g in o)if(g!=="loc"&&o.hasOwnProperty(g)){var R=o[g];R&&typeof R=="object"&&c.stripLocations_(R,a,d)}},c.prototype.REGEXP_MODE=2,c.prototype.REGEXP_THREAD_TIMEOUT=1e3,c.prototype.POLYFILL_TIMEOUT=1e3,c.prototype.getterStep_=!1,c.prototype.setterStep_=!1,c.prototype.appendCodeNumber_=0,c.prototype.taskCodeNumber_=0,c.prototype.parse_=function(o,a){var d={};for(var g in c.PARSE_OPTIONS)d[g]=c.PARSE_OPTIONS[g];return d.sourceFile=a,c.nativeGlobal.acorn.parse(o,d)},c.prototype.appendCode=function(o){var a=this.stateStack[0];if(!a||a.node.type!=="Program")throw Error("Expecting original AST to start with a Program node");if(typeof o=="string"&&(o=this.parse_(o,"appendCode"+this.appendCodeNumber_++)),!o||o.type!=="Program")throw Error("Expecting new AST to start with a Program node");this.populateScope_(o,a.scope),Array.prototype.push.apply(a.node.body,o.body),a.node.body.variableCache_=null,a.done=!1},c.prototype.step=function(){var o=this.stateStack,a;do{var d=o[o.length-1];if(this.paused_)return!0;if(!d||d.node.type==="Program"&&d.done){if(!this.tasks.length)return!1;if(d=this.nextTask_(),!d)return!0}var g=d.node,R=c.currentInterpreter_;c.currentInterpreter_=this;try{var S=this.stepFunctions_[g.type](o,d,g)}catch(y){if(y!==c.STEP_ERROR)throw this.value!==y&&(this.value=void 0),y}finally{c.currentInterpreter_=R}if(S&&o.push(S),this.getterStep_)throw this.value=void 0,Error("Getter not supported in this context");if(this.setterStep_)throw this.value=void 0,Error("Setter not supported in this context");!a&&!g.end&&(a=Date.now()+this.POLYFILL_TIMEOUT)}while(!g.end&&a>Date.now());return!0},c.prototype.run=function(){for(;!this.paused_&&this.step(););return this.paused_},c.prototype.getStatus=function(){if(this.paused_)return c.Status.ASYNC;var o=this.stateStack,a=o[o.length-1];if(a&&(a.node.type!=="Program"||!a.done))return c.Status.STEP;var d=this.tasks[0];return d?d.time>Date.now()?c.Status.TASK:c.Status.STEP:c.Status.DONE},c.prototype.initGlobal=function(o){this.setProperty(o,"NaN",NaN,c.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"Infinity",1/0,c.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"undefined",void 0,c.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"window",o,c.READONLY_DESCRIPTOR),this.setProperty(o,"this",o,c.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"self",o),this.OBJECT_PROTO=new c.Object(null),this.FUNCTION_PROTO=new c.Object(this.OBJECT_PROTO),this.initFunction(o),this.initObject(o),o.proto=this.OBJECT_PROTO,this.setProperty(o,"constructor",this.OBJECT,c.NONENUMERABLE_DESCRIPTOR),this.initArray(o),this.initString(o),this.initBoolean(o),this.initNumber(o),this.initDate(o),this.initRegExp(o),this.initError(o),this.initMath(o),this.initJSON(o);var a=this,d,g=this.createNativeFunction(function(y){throw EvalError("Can't happen")},!1);g.eval=!0,this.setProperty(o,"eval",g,c.NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"parseInt",this.createNativeFunction(parseInt,!1),c.NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"parseFloat",this.createNativeFunction(parseFloat,!1),c.NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"isNaN",this.createNativeFunction(isNaN,!1),c.NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"isFinite",this.createNativeFunction(isFinite,!1),c.NONENUMERABLE_DESCRIPTOR);for(var R=[[escape,"escape"],[unescape,"unescape"],[decodeURI,"decodeURI"],[decodeURIComponent,"decodeURIComponent"],[encodeURI,"encodeURI"],[encodeURIComponent,"encodeURIComponent"]],S=0;S<R.length;S++)d=function(y){return function(w){try{return y(w)}catch(G){a.throwException(a.URI_ERROR,G.message)}}}(R[S][0]),this.setProperty(o,R[S][1],this.createNativeFunction(d,!1),c.NONENUMERABLE_DESCRIPTOR);d=function(w){return a.createTask_(!1,arguments)},this.setProperty(o,"setTimeout",this.createNativeFunction(d,!1),c.NONENUMERABLE_DESCRIPTOR),d=function(w){return a.createTask_(!0,arguments)},this.setProperty(o,"setInterval",this.createNativeFunction(d,!1),c.NONENUMERABLE_DESCRIPTOR),d=function(w){a.deleteTask_(w)},this.setProperty(o,"clearTimeout",this.createNativeFunction(d,!1),c.NONENUMERABLE_DESCRIPTOR),d=function(w){a.deleteTask_(w)},this.setProperty(o,"clearInterval",this.createNativeFunction(d,!1),c.NONENUMERABLE_DESCRIPTOR),this.OBJECT=this.OBJECT,this.OBJECT_PROTO=this.OBJECT_PROTO,this.FUNCTION=this.FUNCTION,this.FUNCTION_PROTO=this.FUNCTION_PROTO,this.ARRAY=this.ARRAY,this.ARRAY_PROTO=this.ARRAY_PROTO,this.REGEXP=this.REGEXP,this.REGEXP_PROTO=this.REGEXP_PROTO,this.DATE=this.DATE,this.DATE_PROTO=this.DATE_PROTO,this.initFunc_&&this.initFunc_(this,o)},c.prototype.functionCodeNumber_=0,c.prototype.initFunction=function(o){var a=this,d,g=/^[A-Za-z_$][\w$]*$/;d=function(S){if(arguments.length)var y=String(arguments[arguments.length-1]);else var y="";var w=Array.prototype.slice.call(arguments,0,-1).join(",").trim();if(w){for(var G=w.split(/\s*,\s*/),W=0;W<G.length;W++){var ie=G[W];g.test(ie)||a.throwException(a.SYNTAX_ERROR,"Invalid function argument: "+ie)}w=G.join(", ")}try{var Q=a.parse_("(function("+w+") {"+y+"})","function"+a.functionCodeNumber_++)}catch(Ee){a.throwException(a.SYNTAX_ERROR,"Invalid code: "+Ee.message)}Q.body.length!==1&&a.throwException(a.SYNTAX_ERROR,"Invalid code in function body");var ee=Q.body[0].expression;return a.createFunction(ee,a.globalScope,"anonymous")},this.FUNCTION=this.createNativeFunction(d,!0),this.setProperty(o,"Function",this.FUNCTION,c.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.FUNCTION,"prototype",this.FUNCTION_PROTO,c.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.FUNCTION_PROTO,"constructor",this.FUNCTION,c.NONENUMERABLE_DESCRIPTOR),this.FUNCTION_PROTO.nativeFunc=function(){},this.FUNCTION_PROTO.nativeFunc.id=this.functionCounter_++,this.FUNCTION_PROTO.illegalConstructor=!0,this.setProperty(this.FUNCTION_PROTO,"length",0,c.READONLY_NONENUMERABLE_DESCRIPTOR),this.FUNCTION_PROTO.class="Function",d=function(S,y){var w=a.stateStack[a.stateStack.length-1];w.func_=this,w.funcThis_=S,w.arguments_=[],y!=null&&(y instanceof c.Object?w.arguments_=a.arrayPseudoToNative(y):a.throwException(a.TYPE_ERROR,"CreateListFromArrayLike called on non-object")),w.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"apply",d),d=function(S){var y=a.stateStack[a.stateStack.length-1];y.func_=this,y.funcThis_=S,y.arguments_=[];for(var w=1;w<arguments.length;w++)y.arguments_.push(arguments[w]);y.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"call",d),this.polyfills_.push("Object.defineProperty(Function.prototype, 'bind',","{configurable: true, writable: true, value:","function bind(oThis) {","if (typeof this !== 'function') {","throw TypeError('What is trying to be bound is not callable');","}","var aArgs   = Array.prototype.slice.call(arguments, 1),","fToBind = this,","fNOP    = function() {},","fBound  = function() {","return fToBind.apply(this instanceof fNOP","? this",": oThis,","aArgs.concat(Array.prototype.slice.call(arguments)));","};","if (this.prototype) {","fNOP.prototype = this.prototype;","}","fBound.prototype = new fNOP();","return fBound;","}","});",""),d=function(){return String(this)},this.setNativeFunctionPrototype(this.FUNCTION,"toString",d),this.setProperty(this.FUNCTION,"toString",this.createNativeFunction(d,!1),c.NONENUMERABLE_DESCRIPTOR),d=function(){return this.valueOf()},this.setNativeFunctionPrototype(this.FUNCTION,"valueOf",d),this.setProperty(this.FUNCTION,"valueOf",this.createNativeFunction(d,!1),c.NONENUMERABLE_DESCRIPTOR)},c.prototype.initObject=function(o){var a=this,d;d=function(S){if(S==null)return a.calledWithNew()?this:a.createObjectProto(a.OBJECT_PROTO);if(!(S instanceof c.Object)){var y=a.createObjectProto(a.getPrototype(S));return y.data=S,y}return S},this.OBJECT=this.createNativeFunction(d,!0),this.setProperty(this.OBJECT,"prototype",this.OBJECT_PROTO,c.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.OBJECT_PROTO,"constructor",this.OBJECT,c.NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"Object",this.OBJECT,c.NONENUMERABLE_DESCRIPTOR);var g=function(R){R==null&&a.throwException(a.TYPE_ERROR,"Cannot convert '"+R+"' to object")};d=function(S){g(S);var y=S instanceof c.Object?S.properties:S;return a.arrayNativeToPseudo(Object.getOwnPropertyNames(y))},this.setProperty(this.OBJECT,"getOwnPropertyNames",this.createNativeFunction(d,!1),c.NONENUMERABLE_DESCRIPTOR),d=function(S){return g(S),S instanceof c.Object&&(S=S.properties),a.arrayNativeToPseudo(Object.keys(S))},this.setProperty(this.OBJECT,"keys",this.createNativeFunction(d,!1),c.NONENUMERABLE_DESCRIPTOR),d=function(S){return S===null?a.createObjectProto(null):(S instanceof c.Object||a.throwException(a.TYPE_ERROR,"Object prototype may only be an Object or null, not "+S),a.createObjectProto(S))},this.setProperty(this.OBJECT,"create",this.createNativeFunction(d,!1),c.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("(function() {","var create_ = Object.create;","Object.create = function create(proto, props) {","var obj = create_(proto);","props && Object.defineProperties(obj, props);","return obj;","};","})();",""),d=function(S,y,w){return y=String(y),S instanceof c.Object||a.throwException(a.TYPE_ERROR,"Object.defineProperty called on non-object: "+S),w instanceof c.Object||a.throwException(a.TYPE_ERROR,"Property description must be an object"),S.preventExtensions&&!(y in S.properties)&&a.throwException(a.TYPE_ERROR,"Can't define property '"+y+"', object is not extensible"),a.setProperty(S,y,c.VALUE_IN_DESCRIPTOR,w.properties),S},this.setProperty(this.OBJECT,"defineProperty",this.createNativeFunction(d,!1),c.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("(function() {","var defineProperty_ = Object.defineProperty;","Object.defineProperty = function defineProperty(obj, prop, d1) {","var d2 = {};","if ('configurable' in d1) d2.configurable = d1.configurable;","if ('enumerable' in d1) d2.enumerable = d1.enumerable;","if ('writable' in d1) d2.writable = d1.writable;","if ('value' in d1) d2.value = d1.value;","if ('get' in d1) d2.get = d1.get;","if ('set' in d1) d2.set = d1.set;","return defineProperty_(obj, prop, d2);","};","})();","Object.defineProperty(Object, 'defineProperties',","{configurable: true, writable: true, value:","function defineProperties(obj, props) {","var keys = Object.keys(props);","for (var i = 0; i < keys.length; i++) {","Object.defineProperty(obj, keys[i], props[keys[i]]);","}","return obj;","}","});",""),d=function(S,y){if(S instanceof c.Object||a.throwException(a.TYPE_ERROR,"Object.getOwnPropertyDescriptor called on non-object: "+S),y=String(y),y in S.properties){var w=Object.getOwnPropertyDescriptor(S.properties,y),G=S.getter[y],W=S.setter[y],ie=a.createObjectProto(a.OBJECT_PROTO);return G||W?(a.setProperty(ie,"get",G),a.setProperty(ie,"set",W)):(a.setProperty(ie,"value",w.value),a.setProperty(ie,"writable",w.writable)),a.setProperty(ie,"configurable",w.configurable),a.setProperty(ie,"enumerable",w.enumerable),ie}},this.setProperty(this.OBJECT,"getOwnPropertyDescriptor",this.createNativeFunction(d,!1),c.NONENUMERABLE_DESCRIPTOR),d=function(S){return g(S),a.getPrototype(S)},this.setProperty(this.OBJECT,"getPrototypeOf",this.createNativeFunction(d,!1),c.NONENUMERABLE_DESCRIPTOR),d=function(S){return!!S&&!S.preventExtensions},this.setProperty(this.OBJECT,"isExtensible",this.createNativeFunction(d,!1),c.NONENUMERABLE_DESCRIPTOR),d=function(S){return S instanceof c.Object&&(S.preventExtensions=!0),S},this.setProperty(this.OBJECT,"preventExtensions",this.createNativeFunction(d,!1),c.NONENUMERABLE_DESCRIPTOR),this.setNativeFunctionPrototype(this.OBJECT,"toString",c.Object.prototype.toString),this.setNativeFunctionPrototype(this.OBJECT,"toLocaleString",c.Object.prototype.toString),this.setNativeFunctionPrototype(this.OBJECT,"valueOf",c.Object.prototype.valueOf),d=function(S){return g(this),this instanceof c.Object?String(S)in this.properties:this.hasOwnProperty(S)},this.setNativeFunctionPrototype(this.OBJECT,"hasOwnProperty",d),d=function(S){return g(this),this instanceof c.Object?Object.prototype.propertyIsEnumerable.call(this.properties,S):this.propertyIsEnumerable(S)},this.setNativeFunctionPrototype(this.OBJECT,"propertyIsEnumerable",d),d=function(S){for(;;){if(S=a.getPrototype(S),!S)return!1;if(S===this)return!0}},this.setNativeFunctionPrototype(this.OBJECT,"isPrototypeOf",d)},c.prototype.initArray=function(o){var a=this,d;d=function(R){if(a.calledWithNew())var S=this;else var S=a.createArray();var y=arguments[0];if(arguments.length===1&&typeof y=="number")isNaN(c.legalArrayLength(y))&&a.throwException(a.RANGE_ERROR,"Invalid array length: "+y),S.properties.length=y;else{for(var w=0;w<arguments.length;w++)S.properties[w]=arguments[w];S.properties.length=w}return S},this.ARRAY=this.createNativeFunction(d,!0),this.ARRAY_PROTO=this.ARRAY.properties.prototype,this.setProperty(o,"Array",this.ARRAY,c.NONENUMERABLE_DESCRIPTOR),d=function(R){return R&&R.class==="Array"},this.setProperty(this.ARRAY,"isArray",this.createNativeFunction(d,!1),c.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ARRAY_PROTO,"length",0,{configurable:!1,enumerable:!1,writable:!0}),this.ARRAY_PROTO.class="Array",this.polyfills_.push("(function() {","function createArrayMethod_(f) {","Object.defineProperty(Array.prototype, f.name,","{configurable: true, writable: true, value: f});","}","createArrayMethod_(","function pop() {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","if (!len || len < 0) {","o.length = 0;","return undefined;","}","len--;","var x = o[len];","delete o[len];","o.length = len;","return x;","}",");","createArrayMethod_(","function push(var_args) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","for (var i = 0; i < arguments.length; i++) {","o[len] = arguments[i];","len++;","}","o.length = len;","return len;","}",");","createArrayMethod_(","function shift() {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","if (!len || len < 0) {","o.length = 0;","return undefined;","}","var value = o[0];","for (var i = 0; i < len - 1; i++) {","if ((i + 1) in o) {","o[i] = o[i + 1];","} else {","delete o[i];","}","}","delete o[i];","o.length = len - 1;","return value;","}",");","createArrayMethod_(","function unshift(var_args) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","if (!len || len < 0) {","len = 0;","}","for (var i = len - 1; i >= 0; i--) {","if (i in o) {","o[i + arguments.length] = o[i];","} else {","delete o[i + arguments.length];","}","}","for (var i = 0; i < arguments.length; i++) {","o[i] = arguments[i];","}","return (o.length = len + arguments.length);","}",");","createArrayMethod_(","function reverse() {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","if (!len || len < 2) {","return o;","}","for (var i = 0; i < len / 2 - 0.5; i++) {","var x = o[i];","var hasX = i in o;","if ((len - i - 1) in o) {","o[i] = o[len - i - 1];","} else {","delete o[i];","}","if (hasX) {","o[len - i - 1] = x;","} else {","delete o[len - i - 1];","}","}","return o;","}",");","createArrayMethod_(","function indexOf(searchElement, fromIndex) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","var n = fromIndex | 0;","if (!len || n >= len) {","return -1;","}","var i = Math.max(n >= 0 ? n : len - Math.abs(n), 0);","while (i < len) {","if (i in o && o[i] === searchElement) {","return i;","}","i++;","}","return -1;","}",");","createArrayMethod_(","function lastIndexOf(searchElement, fromIndex) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","if (!len) {","return -1;","}","var n = len - 1;","if (arguments.length > 1) {","n = fromIndex | 0;","if (n) {","n = (n > 0 || -1) * Math.floor(Math.abs(n));","}","}","var i = n >= 0 ? Math.min(n, len - 1) : len - Math.abs(n);","while (i >= 0) {","if (i in o && o[i] === searchElement) {","return i;","}","i--;","}","return -1;","}",");","createArrayMethod_(","function slice(start, end) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","start |= 0;","start = (start >= 0) ? start : Math.max(0, len + start);","if (typeof end !== 'undefined') {","if (end !== Infinity) {","end |= 0;","}","if (end < 0) {","end = len + end;","} else {","end = Math.min(end, len);","}","} else {","end = len;","}","var size = end - start;","var cloned = new Array(size);","for (var i = 0; i < size; i++) {","if ((start + i) in o) {","cloned[i] = o[start + i];","}","}","return cloned;","}",");","createArrayMethod_(","function splice(start, deleteCount, var_args) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","start |= 0;","if (start < 0) {","start = Math.max(len + start, 0);","} else {","start = Math.min(start, len);","}","if (arguments.length < 1) {","deleteCount = len - start;","} else {","deleteCount |= 0;","deleteCount = Math.max(0, Math.min(deleteCount, len - start));","}","var removed = [];","for (var i = start; i < start + deleteCount; i++) {","if (i in o) {","removed.push(o[i]);","} else {","removed.length++;","}","if ((i + deleteCount) in o) {","o[i] = o[i + deleteCount];","} else {","delete o[i];","}","}","for (var i = start + deleteCount; i < len - deleteCount; i++) {","if ((i + deleteCount) in o) {","o[i] = o[i + deleteCount];","} else {","delete o[i];","}","}","for (var i = len - deleteCount; i < len; i++) {","delete o[i];","}","len -= deleteCount;","var arl = arguments.length - 2;","for (var i = len - 1; i >= start; i--) {","if (i in o) {","o[i + arl] = o[i];","} else {","delete o[i + arl];","}","}","len += arl;","for (var i = 2; i < arguments.length; i++) {","o[start + i - 2] = arguments[i];","}","o.length = len;","return removed;","}",");","createArrayMethod_(","function concat(var_args) {","if (!this) throw TypeError();","var o = Object(this);","var cloned = [];","for (var i = -1; i < arguments.length; i++) {","var value = (i === -1) ? o : arguments[i];","if (Array.isArray(value)) {","for (var j = 0, l = value.length; j < l; j++) {","if (j in value) {","cloned.push(value[j]);","} else {","cloned.length++;","}","}","} else {","cloned.push(value);","}","}","return cloned;","}",");","createArrayMethod_(","function join(opt_separator) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","var sep = typeof opt_separator === 'undefined' ?","',' : ('' + opt_separator);","var str = '';","for (var i = 0; i < len; i++) {","if (i && sep) str += sep;","str += (o[i] === null || o[i] === undefined) ? '' : o[i];","}","return str;","}",");","createArrayMethod_(","function every(callbackfn, thisArg) {","if (!this || typeof callbackfn !== 'function') throw TypeError();","var t, k = 0;","var o = Object(this), len = o.length >>> 0;","if (arguments.length > 1) t = thisArg;","while (k < len) {","if (k in o && !callbackfn.call(t, o[k], k, o)) return false;","k++;","}","return true;","}",");","createArrayMethod_(","function filter(fun, var_args) {","if (this === void 0 || this === null || typeof fun !== 'function') throw TypeError();","var o = Object(this), len = o.length >>> 0;","var res = [];","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in o) {","var val = o[i];","if (fun.call(thisArg, val, i, o)) res.push(val);","}","}","return res;","}",");","createArrayMethod_(","function forEach(callback, thisArg) {","if (!this || typeof callback !== 'function') throw TypeError();","var t, k = 0;","var o = Object(this), len = o.length >>> 0;","if (arguments.length > 1) t = thisArg;","while (k < len) {","if (k in o) callback.call(t, o[k], k, o);","k++;","}","}",");","createArrayMethod_(","function map(callback, thisArg) {","if (!this || typeof callback !== 'function') throw TypeError();","var t, k = 0;","var o = Object(this), len = o.length >>> 0;","if (arguments.length > 1) t = thisArg;","var a = new Array(len);","while (k < len) {","if (k in o) a[k] = callback.call(t, o[k], k, o);","k++;","}","return a;","}",");","createArrayMethod_(","function reduce(callback /*, initialValue*/) {","if (!this || typeof callback !== 'function') throw TypeError();","var o = Object(this), len = o.length >>> 0;","var k = 0, value;","if (arguments.length === 2) {","value = arguments[1];","} else {","while (k < len && !(k in o)) k++;","if (k >= len) {","throw TypeError('Reduce of empty array with no initial value');","}","value = o[k++];","}","for (; k < len; k++) {","if (k in o) value = callback(value, o[k], k, o);","}","return value;","}",");","createArrayMethod_(","function reduceRight(callback /*, initialValue*/) {","if (null === this || 'undefined' === typeof this || 'function' !== typeof callback) throw TypeError();","var o = Object(this), len = o.length >>> 0;","var k = len - 1, value;","if (arguments.length >= 2) {","value = arguments[1];","} else {","while (k >= 0 && !(k in o)) k--;","if (k < 0) {","throw TypeError('Reduce of empty array with no initial value');","}","value = o[k--];","}","for (; k >= 0; k--) {","if (k in o) value = callback(value, o[k], k, o);","}","return value;","}",");","createArrayMethod_(","function some(fun/*, thisArg*/) {","if (!this || typeof fun !== 'function') throw TypeError();","var o = Object(this), len = o.length >>> 0;","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in o && fun.call(thisArg, o[i], i, o)) return true;","}","return false;","}",");","createArrayMethod_(","function sort(opt_comp) {","if (!this) throw TypeError();","if (typeof opt_comp !== 'function') {","opt_comp = undefined;","}","for (var i = 0; i < this.length; i++) {","var changes = 0;","for (var j = 0; j < this.length - i - 1; j++) {","if (opt_comp ? (opt_comp(this[j], this[j + 1]) > 0) :","(String(this[j]) > String(this[j + 1]))) {","var swap = this[j];","var hasSwap = j in this;","if ((j + 1) in this) {","this[j] = this[j + 1];","} else {","delete this[j];","}","if (hasSwap) {","this[j + 1] = swap;","} else {","delete this[j + 1];","}","changes++;","}","}","if (!changes) break;","}","return this;","}",");","createArrayMethod_(","function toLocaleString() {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","var out = [];","for (var i = 0; i < len; i++) {","out[i] = (o[i] === null || o[i] === undefined) ? '' : o[i].toLocaleString();","}","return out.join(',');","}",");","})();","")},c.prototype.initString=function(o){var a=this,d;d=function(y){return y=arguments.length?c.nativeGlobal.String(y):"",a.calledWithNew()?(this.data=y,this):y},this.STRING=this.createNativeFunction(d,!0),this.setProperty(o,"String",this.STRING,c.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.STRING,"fromCharCode",this.createNativeFunction(String.fromCharCode,!1),c.NONENUMERABLE_DESCRIPTOR);for(var g=["charAt","charCodeAt","concat","indexOf","lastIndexOf","slice","substr","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim"],R=0;R<g.length;R++)this.setNativeFunctionPrototype(this.STRING,g[R],String.prototype[g[R]]);d=function(y,w,G){w=a.pseudoToNative(w),G=a.pseudoToNative(G);try{return String(this).localeCompare(y,w,G)}catch(W){a.throwException(a.ERROR,"localeCompare: "+W.message)}},this.setNativeFunctionPrototype(this.STRING,"localeCompare",d),d=function(y,w,G){var W=String(this);if(w=w?Number(w):void 0,a.isa(y,a.REGEXP)&&(y=y.data,a.maybeThrowRegExp(y,G),a.REGEXP_MODE===2)){if(c.vm){var ie={string:W,separator:y,limit:w},Q="string.split(separator, limit)",te=a.vmCall(Q,ie,y,G);te!==c.REGEXP_TIMEOUT&&G(a.arrayNativeToPseudo(te))}else{var ee=a.createWorker(),Ee=a.regExpTimeout(y,ee,G);ee.onmessage=function(we){clearTimeout(Ee),G(a.arrayNativeToPseudo(we.data))},ee.postMessage(["split",W,y,w])}return}var te=W.split(y,w);G(a.arrayNativeToPseudo(te))},this.setAsyncFunctionPrototype(this.STRING,"split",d),d=function(y,w){var G=String(this);if(y=a.isa(y,a.REGEXP)?y.data:new RegExp(y),a.maybeThrowRegExp(y,w),a.REGEXP_MODE===2){if(c.vm){var W={string:G,regexp:y},ie="string.match(regexp)",Ee=a.vmCall(ie,W,y,w);Ee!==c.REGEXP_TIMEOUT&&w(Ee&&a.arrayNativeToPseudo(Ee))}else{var Q=a.createWorker(),ee=a.regExpTimeout(y,Q,w);Q.onmessage=function(te){clearTimeout(ee),w(te.data&&a.arrayNativeToPseudo(te.data))},Q.postMessage(["match",G,y])}return}var Ee=G.match(y);w(Ee&&a.arrayNativeToPseudo(Ee))},this.setAsyncFunctionPrototype(this.STRING,"match",d),d=function(y,w){var G=String(this);if(a.isa(y,a.REGEXP)?y=y.data:y=new RegExp(y),a.maybeThrowRegExp(y,w),a.REGEXP_MODE===2){if(c.vm){var W={string:G,regexp:y},ie="string.search(regexp)",Q=a.vmCall(ie,W,y,w);Q!==c.REGEXP_TIMEOUT&&w(Q)}else{var ee=a.createWorker(),Ee=a.regExpTimeout(y,ee,w);ee.onmessage=function(te){clearTimeout(Ee),w(te.data)},ee.postMessage(["search",G,y])}return}w(G.search(y))},this.setAsyncFunctionPrototype(this.STRING,"search",d),d=function(y,w,G){var W=String(this);if(w=String(w),a.isa(y,a.REGEXP)&&(y=y.data,a.maybeThrowRegExp(y,G),a.REGEXP_MODE===2)){if(c.vm){var ie={string:W,substr:y,newSubstr:w},Q="string.replace(substr, newSubstr)",ee=a.vmCall(Q,ie,y,G);ee!==c.REGEXP_TIMEOUT&&G(ee)}else{var Ee=a.createWorker(),te=a.regExpTimeout(y,Ee,G);Ee.onmessage=function(we){clearTimeout(te),G(we.data)},Ee.postMessage(["replace",W,y,w])}return}G(W.replace(y,w))},this.setAsyncFunctionPrototype(this.STRING,"replace",d),this.polyfills_.push("(function() {","var replace_ = String.prototype.replace;","String.prototype.replace = function replace(substr, newSubstr) {","if (typeof newSubstr !== 'function') {","return replace_.call(this, substr, newSubstr);","}","var str = this;","if (substr instanceof RegExp) {","var subs = [];","var m = substr.exec(str);","while (m) {","m.push(m.index, str);","var inject = newSubstr.apply(null, m);","subs.push([m.index, m[0].length, inject]);","m = substr.global ? substr.exec(str) : null;","}","for (var i = subs.length - 1; i >= 0; i--) {","str = str.substring(0, subs[i][0]) + subs[i][2] + str.substring(subs[i][0] + subs[i][1]);","}","} else {","var i = str.indexOf(substr);","if (i !== -1) {","var inject = newSubstr(str.substr(i, substr.length), i, str);","str = str.substring(0, i) + inject + str.substring(i + substr.length);","}","}","return str;","};","})();","")},c.prototype.initBoolean=function(o){var a=this,d;d=function(R){return R=c.nativeGlobal.Boolean(R),a.calledWithNew()?(this.data=R,this):R},this.BOOLEAN=this.createNativeFunction(d,!0),this.setProperty(o,"Boolean",this.BOOLEAN,c.NONENUMERABLE_DESCRIPTOR)},c.prototype.initNumber=function(o){var a=this,d;d=function(y){return y=arguments.length?c.nativeGlobal.Number(y):0,a.calledWithNew()?(this.data=y,this):y},this.NUMBER=this.createNativeFunction(d,!0),this.setProperty(o,"Number",this.NUMBER,c.NONENUMERABLE_DESCRIPTOR);for(var g=["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"],R=0;R<g.length;R++)this.setProperty(this.NUMBER,g[R],Number[g[R]],c.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);d=function(y){try{return Number(this).toExponential(y)}catch(w){a.throwException(a.ERROR,w.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toExponential",d),d=function(y){try{return Number(this).toFixed(y)}catch(w){a.throwException(a.ERROR,w.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toFixed",d),d=function(y){try{return Number(this).toPrecision(y)}catch(w){a.throwException(a.ERROR,w.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toPrecision",d),d=function(y){try{return Number(this).toString(y)}catch(w){a.throwException(a.ERROR,w.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toString",d),d=function(y,w){y=y?a.pseudoToNative(y):void 0,w=w?a.pseudoToNative(w):void 0;try{return Number(this).toLocaleString(y,w)}catch(G){a.throwException(a.ERROR,"toLocaleString: "+G.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toLocaleString",d)},c.prototype.initDate=function(o){var a=this,d;d=function(y,w){if(!a.calledWithNew())return c.nativeGlobal.Date();var G=[null].concat(Array.from(arguments));return this.data=new(Function.prototype.bind.apply(c.nativeGlobal.Date,G)),this},this.DATE=this.createNativeFunction(d,!0),this.DATE_PROTO=this.DATE.properties.prototype,this.setProperty(o,"Date",this.DATE,c.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.DATE,"now",this.createNativeFunction(Date.now,!1),c.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.DATE,"parse",this.createNativeFunction(Date.parse,!1),c.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.DATE,"UTC",this.createNativeFunction(Date.UTC,!1),c.NONENUMERABLE_DESCRIPTOR);for(var g=["getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toISOString","toJSON","toGMTString","toLocaleDateString","toLocaleString","toLocaleTimeString","toTimeString","toUTCString"],R=0;R<g.length;R++)d=function(S){return function(y){var w=this.data;w instanceof Date||a.throwException(a.TYPE_ERROR,S+" not called on a Date");for(var G=[],W=0;W<arguments.length;W++)G[W]=a.pseudoToNative(arguments[W]);return w[S].apply(w,G)}}(g[R]),this.setNativeFunctionPrototype(this.DATE,g[R],d)},c.prototype.initRegExp=function(o){var a=this,d;d=function(R,S){if(a.calledWithNew())var y=this;else{if(S===void 0&&a.isa(R,a.REGEXP))return R;var y=a.createObjectProto(a.REGEXP_PROTO)}R=R===void 0?"":String(R),S=S?String(S):"",/^[gmi]*$/.test(S)||a.throwException(a.SYNTAX_ERROR,"Invalid regexp flag: "+S);try{var w=new c.nativeGlobal.RegExp(R,S)}catch(G){a.throwException(a.SYNTAX_ERROR,G.message)}return a.populateRegExp(y,w),y},this.REGEXP=this.createNativeFunction(d,!0),this.REGEXP_PROTO=this.REGEXP.properties.prototype,this.setProperty(o,"RegExp",this.REGEXP,c.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"global",void 0,c.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"ignoreCase",void 0,c.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"multiline",void 0,c.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"source","(?:)",c.READONLY_NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("Object.defineProperty(RegExp.prototype, 'test',","{configurable: true, writable: true, value:","function test(str) {","return !!this.exec(str);","}","});"),d=function(R,S){var y=this.data;if(R=String(R),y.lastIndex=Number(a.getProperty(this,"lastIndex")),a.maybeThrowRegExp(y,S),a.REGEXP_MODE===2){if(c.vm){var w={string:R,regexp:y},G="regexp.exec(string)",ee=a.vmCall(G,w,y,S);ee!==c.REGEXP_TIMEOUT&&(a.setProperty(this,"lastIndex",y.lastIndex),S(Ee(ee)))}else{var W=a.createWorker(),ie=a.regExpTimeout(y,W,S),Q=this;W.onmessage=function(te){clearTimeout(ie),a.setProperty(Q,"lastIndex",te.data[1]),S(Ee(te.data[0]))},W.postMessage(["exec",y,y.lastIndex,R])}return}var ee=y.exec(R);a.setProperty(this,"lastIndex",y.lastIndex),S(Ee(ee));function Ee(te){if(te){var we=a.arrayNativeToPseudo(te);return a.setProperty(we,"index",te.index),a.setProperty(we,"input",te.input),we}return null}},this.setAsyncFunctionPrototype(this.REGEXP,"exec",d)},c.prototype.initError=function(o){var a=this;this.ERROR=this.createNativeFunction(function(R){if(a.calledWithNew())var S=this;else var S=a.createObject(a.ERROR);return a.populateError(S,R),S},!0),this.setProperty(o,"Error",this.ERROR,c.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ERROR.properties.prototype,"message","",c.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ERROR.properties.prototype,"name","Error",c.NONENUMERABLE_DESCRIPTOR);var d=function(g){var R=a.createNativeFunction(function(S){if(a.calledWithNew())var y=this;else var y=a.createObject(R);return a.populateError(y,S),y},!0);return a.setProperty(R,"prototype",a.createObject(a.ERROR),c.NONENUMERABLE_DESCRIPTOR),a.setProperty(R.properties.prototype,"name",g,c.NONENUMERABLE_DESCRIPTOR),a.setProperty(o,g,R,c.NONENUMERABLE_DESCRIPTOR),R};this.EVAL_ERROR=d("EvalError"),this.RANGE_ERROR=d("RangeError"),this.REFERENCE_ERROR=d("ReferenceError"),this.SYNTAX_ERROR=d("SyntaxError"),this.TYPE_ERROR=d("TypeError"),this.URI_ERROR=d("URIError")},c.prototype.initMath=function(o){var a=this.createObjectProto(this.OBJECT_PROTO);this.setProperty(o,"Math",a,c.NONENUMERABLE_DESCRIPTOR);for(var d=["E","LN2","LN10","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],g=0;g<d.length;g++)this.setProperty(a,d[g],Math[d[g]],c.READONLY_NONENUMERABLE_DESCRIPTOR);for(var R=["abs","acos","asin","atan","atan2","ceil","cos","exp","floor","log","max","min","pow","random","round","sin","sqrt","tan"],g=0;g<R.length;g++)this.setProperty(a,R[g],this.createNativeFunction(Math[R[g]],!1),c.NONENUMERABLE_DESCRIPTOR)},c.prototype.initJSON=function(o){var a,d=this,g=d.createObjectProto(this.OBJECT_PROTO);this.setProperty(o,"JSON",g,c.NONENUMERABLE_DESCRIPTOR),a=function(S){try{var y=JSON.parse(String(S))}catch(w){d.throwException(d.SYNTAX_ERROR,w.message)}return d.nativeToPseudo(y)},this.setProperty(g,"parse",this.createNativeFunction(a,!1)),a=function(S,y,w){y&&y.class==="Function"?d.throwException(d.TYPE_ERROR,"Function replacer on JSON.stringify not supported"):y&&y.class==="Array"?(y=d.arrayPseudoToNative(y),y=y.filter(function(ie){return typeof ie=="string"||typeof ie=="number"})):y=null,typeof w!="string"&&typeof w!="number"&&(w=void 0);var G=d.pseudoToNative(S);try{var W=JSON.stringify(G,y,w)}catch(ie){d.throwException(d.TYPE_ERROR,ie.message)}return W},this.setProperty(g,"stringify",this.createNativeFunction(a,!1))},c.prototype.isa=function(o,a){if(o==null||!a)return!1;var d=a.properties.prototype;if(o===d)return!0;for(o=this.getPrototype(o);o;){if(o===d)return!0;o=o.proto}return!1},c.prototype.populateRegExp=function(o,a){o.data=new RegExp(a.source,a.flags),this.setProperty(o,"lastIndex",a.lastIndex,c.NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"source",a.source,c.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"global",a.global,c.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"ignoreCase",a.ignoreCase,c.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"multiline",a.multiline,c.READONLY_NONENUMERABLE_DESCRIPTOR)},c.prototype.populateError=function(o,a){a&&this.setProperty(o,"message",String(a),c.NONENUMERABLE_DESCRIPTOR);for(var d=[],g=this.stateStack.length-1;g>=0;g--){var R=this.stateStack[g],S=R.node;if(S.type==="CallExpression"){var y=R.func_;y&&d.length&&(d[d.length-1].datumName=this.getProperty(y,"name"))}S.loc&&(!d.length||S.type==="CallExpression")&&d.push({datumLoc:S.loc})}for(var w=String(this.getProperty(o,"name")),G=String(this.getProperty(o,"message")),W=w+": "+G+`
`,g=0;g<d.length;g++){var ie=d[g].datumLoc,Q=d[g].datumName,ee=ie.source+":"+ie.start.line+":"+ie.start.column;Q?W+="  at "+Q+" ("+ee+`)
`:W+="  at "+ee+`
`}this.setProperty(o,"stack",W.trim(),c.NONENUMERABLE_DESCRIPTOR)},c.prototype.createWorker=function(){var o=this.createWorker.blob_;return o||(o=new Blob([c.WORKER_CODE.join(`
`)],{type:"application/javascript"}),this.createWorker.blob_=o),new Worker(URL.createObjectURL(o))},c.prototype.vmCall=function(o,a,d,g){var R={timeout:this.REGEXP_THREAD_TIMEOUT};try{return c.vm.runInNewContext(o,a,R)}catch{g(null),this.throwException(this.ERROR,"RegExp Timeout: "+d)}return c.REGEXP_TIMEOUT},c.prototype.maybeThrowRegExp=function(o,a){var d;if(this.REGEXP_MODE===0)d=!1;else if(this.REGEXP_MODE===1)d=!0;else if(c.vm)d=!0;else if(typeof Worker=="function"&&typeof URL=="function")d=!0;else{try{c.vm=D("vm")}catch{}d=!!c.vm}d||(a(null),this.throwException(this.ERROR,"Regular expressions not supported: "+o))},c.prototype.regExpTimeout=function(o,a,d){var g=this;return setTimeout(function(){a.terminate(),d(null);try{g.throwException(g.ERROR,"RegExp Timeout: "+o)}catch{}},this.REGEXP_THREAD_TIMEOUT)},c.prototype.createObject=function(o){return this.createObjectProto(o&&o.properties.prototype)},c.prototype.createObjectProto=function(o){if(typeof o!="object")throw Error("Non object prototype");var a=new c.Object(o);return this.isa(a,this.ERROR)&&(a.class="Error"),a},c.prototype.createArray=function(){var o=this.createObjectProto(this.ARRAY_PROTO);return this.setProperty(o,"length",0,{configurable:!1,enumerable:!1,writable:!0}),o.class="Array",o},c.prototype.createFunctionBase_=function(o,a){var d=this.createObjectProto(this.FUNCTION_PROTO);if(a){var g=this.createObjectProto(this.OBJECT_PROTO);this.setProperty(d,"prototype",g,c.NONENUMERABLE_DESCRIPTOR),this.setProperty(g,"constructor",d,c.NONENUMERABLE_DESCRIPTOR)}else d.illegalConstructor=!0;return this.setProperty(d,"length",o,c.READONLY_NONENUMERABLE_DESCRIPTOR),d.class="Function",d},c.prototype.createFunction=function(o,a,d){var g=this.createFunctionBase_(o.params.length,!0);g.parentScope=a,g.node=o;var R=o.id?String(o.id.name):d||"";return this.setProperty(g,"name",R,c.READONLY_NONENUMERABLE_DESCRIPTOR),g},c.prototype.createNativeFunction=function(o,a){var d=this.createFunctionBase_(o.length,a);return d.nativeFunc=o,o.id=this.functionCounter_++,this.setProperty(d,"name",o.name,c.READONLY_NONENUMERABLE_DESCRIPTOR),d},c.prototype.createAsyncFunction=function(o){var a=this.createFunctionBase_(o.length,!0);return a.asyncFunc=o,o.id=this.functionCounter_++,this.setProperty(a,"name",o.name,c.READONLY_NONENUMERABLE_DESCRIPTOR),a},c.prototype.nativeToPseudo=function(o){if(o instanceof c.Object)throw Error("Object is already pseudo");if(o==null||o===!0||o===!1||typeof o=="string"||typeof o=="number")return o;if(o instanceof RegExp){var a=this.createObjectProto(this.REGEXP_PROTO);return this.populateRegExp(a,o),a}if(o instanceof Date){var d=this.createObjectProto(this.DATE_PROTO);return d.data=new Date(o.valueOf()),d}if(typeof o=="function"){var g=this,R=function(){var ie=Array.prototype.slice.call(arguments).map(function(ee){return g.pseudoToNative(ee)}),Q=o.apply(g,ie);return g.nativeToPseudo(Q)},S=Object.getOwnPropertyDescriptor(o,"prototype");return this.createNativeFunction(R,!!S)}if(Array.isArray(o)){for(var y=this.createArray(),w=0;w<o.length;w++)w in o&&this.setProperty(y,w,this.nativeToPseudo(o[w]));return y}var G=this.createObjectProto(this.OBJECT_PROTO);for(var W in o)this.setProperty(G,W,this.nativeToPseudo(o[W]));return G},c.prototype.pseudoToNative=function(o,a){if(typeof o!="object"&&typeof o!="function"||o===null)return o;if(!(o instanceof c.Object))throw Error("Object is not pseudo");if(this.isa(o,this.REGEXP)){var d=new RegExp(o.data.source,o.data.flags);return d.lastIndex=o.data.lastIndex,d}if(this.isa(o,this.DATE))return new Date(o.data.valueOf());var g=a||{pseudo:[],native:[]},R=g.pseudo.indexOf(o);if(R!==-1)return g.native[R];g.pseudo.push(o);var S;if(this.isa(o,this.ARRAY)){S=[],g.native.push(S);for(var y=this.getProperty(o,"length"),w=0;w<y;w++)this.hasProperty(o,w)&&(S[w]=this.pseudoToNative(this.getProperty(o,w),g))}else{S={},g.native.push(S);var G;for(var W in o.properties)G=this.pseudoToNative(o.properties[W],g),Object.defineProperty(S,W,{value:G,writable:!0,enumerable:!0,configurable:!0})}return g.pseudo.pop(),g.native.pop(),S},c.prototype.arrayNativeToPseudo=function(o){for(var a=this.createArray(),d=Object.getOwnPropertyNames(o),g=0;g<d.length;g++)this.setProperty(a,d[g],o[d[g]]);return a},c.prototype.arrayPseudoToNative=function(o){var a=[];for(var d in o.properties)a[d]=this.getProperty(o,d);return a.length=c.legalArrayLength(this.getProperty(o,"length"))||0,a},c.prototype.getPrototype=function(o){switch(typeof o){case"number":return this.NUMBER.properties.prototype;case"boolean":return this.BOOLEAN.properties.prototype;case"string":return this.STRING.properties.prototype}return o?o.proto:null},c.prototype.getProperty=function(o,a){if(this.getterStep_)throw Error("Getter not supported in that context");if(a=String(a),o==null&&this.throwException(this.TYPE_ERROR,"Cannot read property '"+a+"' of "+o),typeof o=="object"&&!(o instanceof c.Object))throw TypeError("Expecting native value or pseudo object");if(a==="length"){if(this.isa(o,this.STRING))return String(o).length}else if(a.charCodeAt(0)<64&&this.isa(o,this.STRING)){var d=c.legalArrayIndex(a);if(!isNaN(d)&&d<String(o).length)return String(o)[d]}do if(o.properties&&a in o.properties){var g=o.getter[a];return g?(this.getterStep_=!0,g):o.properties[a]}while(o=this.getPrototype(o))},c.prototype.hasProperty=function(o,a){if(!(o instanceof c.Object))throw TypeError("Primitive data type has no properties");if(a=String(a),a==="length"&&this.isa(o,this.STRING))return!0;if(this.isa(o,this.STRING)){var d=c.legalArrayIndex(a);if(!isNaN(d)&&d<String(o).length)return!0}do if(o.properties&&a in o.properties)return!0;while(o=this.getPrototype(o));return!1},c.prototype.setProperty=function(o,a,d,g){if(this.setterStep_)throw Error("Setter not supported in that context");if(a=String(a),o==null&&this.throwException(this.TYPE_ERROR,"Cannot set property '"+a+"' of "+o),typeof o=="object"&&!(o instanceof c.Object))throw TypeError("Expecting native value or pseudo object");g&&("get"in g||"set"in g)&&("value"in g||"writable"in g)&&this.throwException(this.TYPE_ERROR,"Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");var R=!this.stateStack||this.getScope().strict;if(!(o instanceof c.Object)){R&&this.throwException(this.TYPE_ERROR,"Can't create property '"+a+"' on '"+o+"'");return}if(this.isa(o,this.STRING)){var S=c.legalArrayIndex(a);if(a==="length"||!isNaN(S)&&S<String(o).length){R&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+a+"' of String '"+o.data+"'");return}}if(o.class==="Array"){var y=o.properties.length,w;if(a==="length"){if(g){if(!("value"in g))return;d=g.value}if(d=c.legalArrayLength(d),isNaN(d)&&this.throwException(this.RANGE_ERROR,"Invalid array length"),d<y)for(w in o.properties)w=c.legalArrayIndex(w),!isNaN(w)&&d<=w&&delete o.properties[w]}else isNaN(w=c.legalArrayIndex(a))||(o.properties.length=Math.max(y,w+1))}if(o.preventExtensions&&!(a in o.properties)){R&&this.throwException(this.TYPE_ERROR,"Can't add property '"+a+"', object is not extensible");return}if(g){var G={};"get"in g&&g.get&&(o.getter[a]=g.get,G.get=this.setProperty.placeholderGet_),"set"in g&&g.set&&(o.setter[a]=g.set,G.set=this.setProperty.placeholderSet_),"configurable"in g&&(G.configurable=g.configurable),"enumerable"in g&&(G.enumerable=g.enumerable),"writable"in g&&(G.writable=g.writable,delete o.getter[a],delete o.setter[a]),"value"in g?(G.value=g.value,delete o.getter[a],delete o.setter[a]):d!==c.VALUE_IN_DESCRIPTOR&&(G.value=d,delete o.getter[a],delete o.setter[a]);try{Object.defineProperty(o.properties,a,G)}catch{this.throwException(this.TYPE_ERROR,"Cannot redefine property: "+a)}"get"in g&&!g.get&&delete o.getter[a],"set"in g&&!g.set&&delete o.setter[a]}else{if(d===c.VALUE_IN_DESCRIPTOR)throw ReferenceError("Value not specified");for(var W=o;!(a in W.properties);)if(W=this.getPrototype(W),!W){W=o;break}if(W.setter&&W.setter[a])return this.setterStep_=!0,W.setter[a];if(W.getter&&W.getter[a])R&&this.throwException(this.TYPE_ERROR,"Cannot set property '"+a+"' of object '"+o+"' which only has a getter");else try{o.properties[a]=d}catch{R&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+a+"' of object '"+o+"'")}}},c.prototype.setProperty.placeholderGet_=function(){throw Error("Placeholder getter")},c.prototype.setProperty.placeholderSet_=function(){throw Error("Placeholder setter")},c.prototype.setNativeFunctionPrototype=function(o,a,d){this.setProperty(o.properties.prototype,a,this.createNativeFunction(d,!1),c.NONENUMERABLE_DESCRIPTOR)},c.prototype.setAsyncFunctionPrototype=function(o,a,d){this.setProperty(o.properties.prototype,a,this.createAsyncFunction(d),c.NONENUMERABLE_DESCRIPTOR)},c.prototype.getScope=function(){var o=this.stateStack[this.stateStack.length-1].scope;if(!o)throw Error("No scope found");return o},c.prototype.createScope=function(o,a){var d=!1;if(a&&a.strict)d=!0;else{var g=o.body&&o.body[0];g&&g.expression&&g.expression.type==="Literal"&&g.expression.value==="use strict"&&(d=!0)}var R=this.createObjectProto(null),S=new c.Scope(a,d,R);return a||this.initGlobal(S.object),this.populateScope_(o,S),S},c.prototype.createSpecialScope=function(o,a){if(!o)throw Error("parentScope required");var d=a||this.createObjectProto(null);return new c.Scope(o,o.strict,d)},c.prototype.getValueFromScope=function(o){for(var a=this.getScope();a&&a!==this.globalScope;){if(o in a.object.properties)return a.object.properties[o];a=a.parentScope}if(a===this.globalScope&&this.hasProperty(a.object,o))return this.getProperty(a.object,o);var d=this.stateStack[this.stateStack.length-1].node;d.type==="UnaryExpression"&&d.operator==="typeof"||this.throwException(this.REFERENCE_ERROR,o+" is not defined")},c.prototype.setValueToScope=function(o,a){for(var d=this.getScope(),g=d.strict;d&&d!==this.globalScope;){if(o in d.object.properties){try{d.object.properties[o]=a}catch{g&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only variable '"+o+"'")}return}d=d.parentScope}if(d===this.globalScope&&(!g||this.hasProperty(d.object,o)))return this.setProperty(d.object,o,a);this.throwException(this.REFERENCE_ERROR,o+" is not defined")},c.prototype.populateScope_=function(o,a){var d;if(o.variableCache_)d=o.variableCache_;else{switch(d=Object.create(null),o.type){case"VariableDeclaration":for(var g=0;g<o.declarations.length;g++)d[o.declarations[g].id.name]=!0;break;case"FunctionDeclaration":d[o.id.name]=o;break;case"BlockStatement":case"CatchClause":case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"Program":case"SwitchCase":case"SwitchStatement":case"TryStatement":case"WithStatement":case"WhileStatement":var R=o.constructor;for(var S in o)if(S!=="loc"){var y=o[S];if(y&&typeof y=="object"){var w;if(Array.isArray(y)){for(var g=0;g<y.length;g++)if(y[g]&&y[g].constructor===R){w=this.populateScope_(y[g],a);for(var S in w)d[S]=w[S]}}else if(y.constructor===R){w=this.populateScope_(y,a);for(var S in w)d[S]=w[S]}}}}o.variableCache_=d}for(var S in d)d[S]===!0?this.setProperty(a.object,S,void 0,c.VARIABLE_DESCRIPTOR):this.setProperty(a.object,S,this.createFunction(d[S],a),c.VARIABLE_DESCRIPTOR);return d},c.prototype.calledWithNew=function(){return this.stateStack[this.stateStack.length-1].isConstructor},c.prototype.getValue=function(o){return o[0]===c.SCOPE_REFERENCE?this.getValueFromScope(o[1]):this.getProperty(o[0],o[1])},c.prototype.setValue=function(o,a){return o[0]===c.SCOPE_REFERENCE?this.setValueToScope(o[1],a):this.setProperty(o[0],o[1],a)},c.prototype.throwException=function(o,a){if(!this.globalScope)throw a===void 0?o:a;if(a===void 0||!(o instanceof c.Object))var d=o;else{var d=this.createObject(o);this.populateError(d,a)}throw this.unwind(c.Completion.THROW,d,void 0),c.STEP_ERROR},c.prototype.unwind=function(o,a,d){if(o===c.Completion.NORMAL)throw TypeError("Should not unwind for NORMAL completions");e:for(var g=this.stateStack;g.length>0;g.pop()){var R=g[g.length-1];switch(R.node.type){case"TryStatement":R.cv={type:o,value:a,label:d};return;case"CallExpression":case"NewExpression":if(o===c.Completion.RETURN){R.value=a;return}else if(o!==c.Completion.THROW)throw Error("Unsyntactic break/continue not rejected by Acorn");break;case"Program":R.done=!0;break e}if(o===c.Completion.BREAK){if(d?R.labels&&R.labels.indexOf(d)!==-1:R.isLoop||R.isSwitch){g.pop();return}}else if(o===c.Completion.CONTINUE&&(d?R.labels&&R.labels.indexOf(d)!==-1:R.isLoop))return}var S;if(this.isa(a,this.ERROR)){var y={EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError},w=String(this.getProperty(a,"name")),G=this.getProperty(a,"message").valueOf(),W=y[w]||Error;S=W(G),S.stack=String(this.getProperty(a,"stack"))}else S=String(a);throw this.value=S,S},c.prototype.nodeSummary=function(o){switch(o.type){case"ArrayExpression":return"[...]";case"BinaryExpression":case"LogicalExpression":return this.nodeSummary(o.left)+" "+o.operator+" "+this.nodeSummary(o.right);case"CallExpression":return this.nodeSummary(o.callee)+"(...)";case"ConditionalExpression":return this.nodeSummary(o.test)+" ? "+this.nodeSummary(o.consequent)+" : "+this.nodeSummary(o.alternate);case"Identifier":return o.name;case"Literal":return o.raw;case"MemberExpression":var a=this.nodeSummary(o.object),d=this.nodeSummary(o.property);return o.computed?a+"["+d+"]":a+"."+d;case"NewExpression":return"new "+this.nodeSummary(o.callee)+"(...)";case"ObjectExpression":return"{...}";case"ThisExpression":return"this";case"UnaryExpression":return o.operator+" "+this.nodeSummary(o.argument);case"UpdateExpression":var g=this.nodeSummary(o.argument);return o.prefix?o.operator+g:g+o.operator}return"???"},c.prototype.createTask_=function(o,a){var d=this.stateStack[this.stateStack.length-1],g=Array.from(a),R=g.shift(),S=Math.max(Number(g.shift()||0),0),y=this.newNode(),w,G,W;if(R instanceof c.Object&&R.class==="Function")G=R,y.type="CallExpression",w=d.scope;else{try{W=this.parse_(String(R),"taskCode"+this.taskCodeNumber_++)}catch(te){this.throwException(this.SYNTAX_ERROR,"Invalid code: "+te.message)}y.type="EvalProgram_",y.body=W.body;var ie=d.node.arguments[0],Q=ie?ie.start:void 0,ee=ie?ie.end:void 0;c.stripLocations_(y,Q,ee),w=this.globalScope,g.length=0}var Ee=new c.Task(G,g,w,y,o?S:-1);return this.scheduleTask_(Ee,S),Ee.pid},c.prototype.scheduleTask_=function(o,a){o.time=Date.now()+a,this.tasks.push(o),this.tasks.sort(function(d,g){return d.time-g.time})},c.prototype.deleteTask_=function(o){for(var a=0;a<this.tasks.length;a++)if(this.tasks[a].pid==o){this.tasks.splice(a,1);break}},c.prototype.nextTask_=function(){var o=this.tasks[0];if(!o||o.time>Date.now())return null;this.tasks.shift(),o.interval>=0&&this.scheduleTask_(o,o.interval);var a=new c.State(o.node,o.scope);return o.functionRef&&(a.doneCallee_=2,a.funcThis_=this.globalObject,a.func_=o.functionRef,a.doneArgs_=!0,a.arguments_=o.argsArray),a},c.prototype.createGetter_=function(o,a){if(!this.getterStep_)throw Error("Unexpected call to createGetter");this.getterStep_=!1;var d=Array.isArray(a)?a[0]:a,g=this.newNode();g.type="CallExpression";var R=new c.State(g,this.stateStack[this.stateStack.length-1].scope);return R.doneCallee_=2,R.funcThis_=d,R.func_=o,R.doneArgs_=!0,R.arguments_=[],R},c.prototype.createSetter_=function(o,a,d){if(!this.setterStep_)throw Error("Unexpected call to createSetter");this.setterStep_=!1;var g=Array.isArray(a)?a[0]:this.globalObject,R=this.newNode();R.type="CallExpression";var S=new c.State(R,this.stateStack[this.stateStack.length-1].scope);return S.doneCallee_=2,S.funcThis_=g,S.func_=o,S.doneArgs_=!0,S.arguments_=[d],S},c.prototype.boxThis_=function(o){if(o==null)return this.globalObject;if(!(o instanceof c.Object)){var a=this.createObjectProto(this.getPrototype(o));return a.data=o,a}return o},c.prototype.getGlobalScope=function(){return this.globalScope},c.prototype.getStateStack=function(){return this.stateStack},c.prototype.setStateStack=function(o){this.stateStack=o},c.Value,c.State=function(o,a){this.node=o,this.scope=a},c.Scope=function(o,a,d){this.parentScope=o,this.strict=a,this.object=d},c.Object=function(o){this.getter=Object.create(null),this.setter=Object.create(null),this.properties=Object.create(null),this.proto=o},c.Object.prototype.proto=null,c.Object.prototype.class="Object",c.Object.prototype.data=null,c.Object.prototype.toString=function(){if(!c.currentInterpreter_)return"[object Interpreter.Object]";if(!(this instanceof c.Object))return String(this);if(this.class==="Array"){var o=c.toStringCycles_;o.push(this);try{var a=[],d=this.properties.length,g=!1;d>1024&&(d=1e3,g=!0);for(var R=0;R<d;R++){var S=this.properties[R];a[R]=S instanceof c.Object&&o.indexOf(S)!==-1?"...":S}g&&a.push("...")}finally{o.pop()}return a.join(",")}if(this.class==="Error"){var o=c.toStringCycles_;if(o.indexOf(this)!==-1)return"[object Error]";var y,w,G=this;do if("name"in G.properties){y=G.properties.name;break}while(G=G.proto);G=this;do if("message"in G.properties){w=G.properties.message;break}while(G=G.proto);o.push(this);try{y=y&&String(y),w=w&&String(w)}finally{o.pop()}return w?y+": "+w:String(y)}return this.data!==null?String(this.data):"[object "+this.class+"]"},c.Object.prototype.valueOf=function(){return c.currentInterpreter_?this.data===void 0||this.data===null||this.data instanceof RegExp?this:this.data instanceof Date?this.data.valueOf():this.data:this},c.Task=function(o,a,d,g,R){this.functionRef=o,this.argsArray=a,this.scope=d,this.node=g,this.interval=R,this.pid=++c.Task.pid,this.time=0},c.Task.pid=0,c.prototype.stepArrayExpression=function(o,a,d){var g=d.elements,R=a.n_||0;for(a.array_?(this.setProperty(a.array_,R,a.value),R++):(a.array_=this.createArray(),a.array_.properties.length=g.length);R<g.length;){if(g[R])return a.n_=R,new c.State(g[R],a.scope);R++}o.pop(),o[o.length-1].value=a.array_},c.prototype.stepAssignmentExpression=function(o,a,d){if(!a.doneLeft_){a.doneLeft_=!0;var g=new c.State(d.left,a.scope);return g.components=!0,g}if(!a.doneRight_){if(a.leftReference_||(a.leftReference_=a.value),a.doneGetter_&&(a.leftValue_=a.value),!a.doneGetter_&&d.operator!=="="){var R=this.getValue(a.leftReference_);if(a.leftValue_=R,this.getterStep_){a.doneGetter_=!0;var S=R;return this.createGetter_(S,a.leftReference_)}}return a.doneRight_=!0,d.operator==="="&&d.left.type==="Identifier"&&(a.destinationName=d.left.name),new c.State(d.right,a.scope)}if(a.doneSetter_){o.pop(),o[o.length-1].value=a.setterValue_;return}var y=a.leftValue_,w=a.value;switch(d.operator){case"=":y=w;break;case"+=":y+=w;break;case"-=":y-=w;break;case"*=":y*=w;break;case"/=":y/=w;break;case"%=":y%=w;break;case"<<=":y<<=w;break;case">>=":y>>=w;break;case">>>=":y>>>=w;break;case"&=":y&=w;break;case"^=":y^=w;break;case"|=":y|=w;break;default:throw SyntaxError("Unknown assignment expression: "+d.operator)}var G=this.setValue(a.leftReference_,y);if(G)return a.doneSetter_=!0,a.setterValue_=y,this.createSetter_(G,a.leftReference_,y);o.pop(),o[o.length-1].value=y},c.prototype.stepBinaryExpression=function(o,a,d){if(!a.doneLeft_)return a.doneLeft_=!0,new c.State(d.left,a.scope);if(!a.doneRight_)return a.doneRight_=!0,a.leftValue_=a.value,new c.State(d.right,a.scope);o.pop();var g=a.leftValue_,R=a.value,S;switch(d.operator){case"==":S=g==R;break;case"!=":S=g!=R;break;case"===":S=g===R;break;case"!==":S=g!==R;break;case">":S=g>R;break;case">=":S=g>=R;break;case"<":S=g<R;break;case"<=":S=g<=R;break;case"+":S=g+R;break;case"-":S=g-R;break;case"*":S=g*R;break;case"/":S=g/R;break;case"%":S=g%R;break;case"&":S=g&R;break;case"|":S=g|R;break;case"^":S=g^R;break;case"<<":S=g<<R;break;case">>":S=g>>R;break;case">>>":S=g>>>R;break;case"in":R instanceof c.Object||this.throwException(this.TYPE_ERROR,"'in' expects an object, not '"+R+"'"),S=this.hasProperty(R,g);break;case"instanceof":this.isa(R,this.FUNCTION)||this.throwException(this.TYPE_ERROR,"'instanceof' expects an object, not '"+R+"'"),S=g instanceof c.Object?this.isa(g,R):!1;break;default:throw SyntaxError("Unknown binary operator: "+d.operator)}o[o.length-1].value=S},c.prototype.stepBlockStatement=function(o,a,d){var g=a.n_||0,R=d.body[g];if(R)return a.n_=g+1,new c.State(R,a.scope);o.pop()},c.prototype.stepBreakStatement=function(o,a,d){var g=d.label&&d.label.name;this.unwind(c.Completion.BREAK,void 0,g)},c.prototype.evalCodeNumber_=0,c.prototype.stepCallExpression=function(o,a,d){if(!a.doneCallee_){a.doneCallee_=1;var g=new c.State(d.callee,a.scope);return g.components=!0,g}if(a.doneCallee_===1){a.doneCallee_=2;var R=a.value;if(Array.isArray(R)){if(a.func_=this.getValue(R),R[0]===c.SCOPE_REFERENCE?a.directEval_=R[1]==="eval":a.funcThis_=R[0],R=a.func_,this.getterStep_)return a.doneCallee_=1,this.createGetter_(R,a.value)}else a.func_=R;a.arguments_=[],a.n_=0}var R=a.func_;if(!a.doneArgs_){if(a.n_!==0&&a.arguments_.push(a.value),d.arguments[a.n_])return new c.State(d.arguments[a.n_++],a.scope);if(d.type==="NewExpression"){if((!(R instanceof c.Object)||R.illegalConstructor)&&this.throwException(this.TYPE_ERROR,this.nodeSummary(d.callee)+" is not a constructor"),R===this.ARRAY)a.funcThis_=this.createArray();else{var S=R.properties.prototype;(typeof S!="object"||S===null)&&(S=this.OBJECT_PROTO),a.funcThis_=this.createObjectProto(S)}a.isConstructor=!0}a.doneArgs_=!0}if(a.doneExec_)o.pop(),a.isConstructor&&typeof a.value!="object"?o[o.length-1].value=a.funcThis_:o[o.length-1].value=a.value;else{a.doneExec_=!0,R instanceof c.Object||this.throwException(this.TYPE_ERROR,this.nodeSummary(d.callee)+" is not a function");var y=R.node;if(y){for(var w=this.createScope(y.body,R.parentScope),G=this.createArray(),W=0;W<a.arguments_.length;W++)this.setProperty(G,W,a.arguments_[W]);this.setProperty(w.object,"arguments",G);for(var W=0;W<y.params.length;W++){var ie=y.params[W].name,Q=a.arguments_.length>W?a.arguments_[W]:void 0;this.setProperty(w.object,ie,Q)}return w.strict||(a.funcThis_=this.boxThis_(a.funcThis_)),this.setProperty(w.object,"this",a.funcThis_,c.READONLY_DESCRIPTOR),a.value=void 0,new c.State(y.body,w)}else if(R.eval){var ee=a.arguments_[0];if(typeof ee!="string")a.value=ee;else{try{var Ee=this.parse_(String(ee),"eval"+this.evalCodeNumber_++)}catch(Ne){this.throwException(this.SYNTAX_ERROR,"Invalid code: "+Ne.message)}var te=this.newNode();te.type="EvalProgram_",te.body=Ee.body,c.stripLocations_(te,d.start,d.end);var w=a.directEval_?a.scope:this.globalScope;return w.strict?w=this.createScope(Ee,w):this.populateScope_(Ee,w),this.value=void 0,new c.State(te,w)}}else if(R.nativeFunc)a.scope.strict||(a.funcThis_=this.boxThis_(a.funcThis_)),a.value=R.nativeFunc.apply(a.funcThis_,a.arguments_);else if(R.asyncFunc){var we=this,je=function(De){a.value=De,we.paused_=!1},Le=R.asyncFunc.length-1,Xe=a.arguments_.concat(new Array(Le)).slice(0,Le);Xe.push(je),this.paused_=!0,a.scope.strict||(a.funcThis_=this.boxThis_(a.funcThis_)),R.asyncFunc.apply(a.funcThis_,Xe);return}else this.throwException(this.TYPE_ERROR,this.nodeSummary(d.callee)+" is not callable")}},c.prototype.stepConditionalExpression=function(o,a,d){var g=a.mode_||0;if(g===0)return a.mode_=1,new c.State(d.test,a.scope);if(g===1){a.mode_=2;var R=!!a.value;if(R&&d.consequent)return new c.State(d.consequent,a.scope);if(!R&&d.alternate)return new c.State(d.alternate,a.scope);this.value=void 0}o.pop(),d.type==="ConditionalExpression"&&(o[o.length-1].value=a.value)},c.prototype.stepContinueStatement=function(o,a,d){var g=d.label&&d.label.name;this.unwind(c.Completion.CONTINUE,void 0,g)},c.prototype.stepDebuggerStatement=function(o,a,d){o.pop()},c.prototype.stepDoWhileStatement=function(o,a,d){if(d.type==="DoWhileStatement"&&a.test_===void 0&&(a.value=!0,a.test_=!0),!a.test_)return a.test_=!0,new c.State(d.test,a.scope);if(!a.value)o.pop();else if(d.body)return a.test_=!1,a.isLoop=!0,new c.State(d.body,a.scope)},c.prototype.stepEmptyStatement=function(o,a,d){o.pop()},c.prototype.stepEvalProgram_=function(o,a,d){var g=a.n_||0,R=d.body[g];if(R)return a.n_=g+1,new c.State(R,a.scope);o.pop(),o[o.length-1].value=this.value},c.prototype.stepExpressionStatement=function(o,a,d){if(!a.done_)return this.value=void 0,a.done_=!0,new c.State(d.expression,a.scope);o.pop(),this.value=a.value},c.prototype.stepForInStatement=function(o,a,d){if(!a.doneInit_&&(a.doneInit_=!0,d.left.declarations&&d.left.declarations[0].init))return a.scope.strict&&this.throwException(this.SYNTAX_ERROR,"for-in loop variable declaration may not have an initializer"),new c.State(d.left,a.scope);if(!a.doneObject_)return a.doneObject_=!0,a.variable_||(a.variable_=a.value),new c.State(d.right,a.scope);if(a.isLoop||(a.isLoop=!0,a.object_=a.value,a.visited_=Object.create(null)),a.name_===void 0)e:for(;;){if(a.object_ instanceof c.Object)for(a.props_||(a.props_=Object.getOwnPropertyNames(a.object_.properties));;){var g=a.props_.shift();if(g===void 0)break;if(Object.prototype.hasOwnProperty.call(a.object_.properties,g)&&!a.visited_[g]&&(a.visited_[g]=!0,!!Object.prototype.propertyIsEnumerable.call(a.object_.properties,g))){a.name_=g;break e}}else if(a.object_!==null&&a.object_!==void 0)for(a.props_||(a.props_=Object.getOwnPropertyNames(a.object_));;){var g=a.props_.shift();if(g===void 0)break;if(a.visited_[g]=!0,!!Object.prototype.propertyIsEnumerable.call(a.object_,g)){a.name_=g;break e}}if(a.object_=this.getPrototype(a.object_),a.props_=null,a.object_===null){o.pop();return}}if(!a.doneVariable_){a.doneVariable_=!0;var R=d.left;if(R.type==="VariableDeclaration")a.variable_=[c.SCOPE_REFERENCE,R.declarations[0].id.name];else{a.variable_=null;var S=new c.State(R,a.scope);return S.components=!0,S}}if(a.variable_||(a.variable_=a.value),!a.doneSetter_){a.doneSetter_=!0;var y=a.name_,w=this.setValue(a.variable_,y);if(w)return this.createSetter_(w,a.variable_,y)}if(a.name_=void 0,a.doneVariable_=!1,a.doneSetter_=!1,d.body)return new c.State(d.body,a.scope)},c.prototype.stepForStatement=function(o,a,d){switch(a.mode_){default:if(a.mode_=1,d.init)return new c.State(d.init,a.scope);break;case 1:if(a.mode_=2,d.test)return new c.State(d.test,a.scope);break;case 2:if(a.mode_=3,d.test&&!a.value)o.pop();else return a.isLoop=!0,new c.State(d.body,a.scope);break;case 3:if(a.mode_=1,d.update)return new c.State(d.update,a.scope);break}},c.prototype.stepFunctionDeclaration=function(o,a,d){o.pop()},c.prototype.stepFunctionExpression=function(o,a,d){o.pop(),a=o[o.length-1];var g=a.scope;d.id&&(g=this.createSpecialScope(g)),a.value=this.createFunction(d,g,a.destinationName),d.id&&this.setProperty(g.object,d.id.name,a.value,c.READONLY_DESCRIPTOR)},c.prototype.stepIdentifier=function(o,a,d){if(o.pop(),a.components){o[o.length-1].value=[c.SCOPE_REFERENCE,d.name];return}var g=this.getValueFromScope(d.name);if(this.getterStep_){var R=g;return this.createGetter_(R,this.globalObject)}o[o.length-1].value=g},c.prototype.stepIfStatement=c.prototype.stepConditionalExpression,c.prototype.stepLabeledStatement=function(o,a,d){o.pop();var g=a.labels||[];g.push(d.label.name);var R=new c.State(d.body,a.scope);return R.labels=g,R},c.prototype.stepLiteral=function(o,a,d){o.pop();var g=d.value;if(g instanceof RegExp){var R=this.createObjectProto(this.REGEXP_PROTO);this.populateRegExp(R,g),g=R}o[o.length-1].value=g},c.prototype.stepLogicalExpression=function(o,a,d){if(d.operator!=="&&"&&d.operator!=="||")throw SyntaxError("Unknown logical operator: "+d.operator);if(!a.doneLeft_)return a.doneLeft_=!0,new c.State(d.left,a.scope);if(a.doneRight_)o.pop(),o[o.length-1].value=a.value;else if(d.operator==="&&"&&!a.value||d.operator==="||"&&a.value)o.pop(),o[o.length-1].value=a.value;else return a.doneRight_=!0,new c.State(d.right,a.scope)},c.prototype.stepMemberExpression=function(o,a,d){if(!a.doneObject_)return a.doneObject_=!0,new c.State(d.object,a.scope);var g;if(!d.computed)a.object_=a.value,g=d.property.name;else if(a.doneProperty_)g=a.value;else return a.object_=a.value,a.doneProperty_=!0,new c.State(d.property,a.scope);if(o.pop(),a.components)o[o.length-1].value=[a.object_,g];else{var R=this.getProperty(a.object_,g);if(this.getterStep_){var S=R;return this.createGetter_(S,a.object_)}o[o.length-1].value=R}},c.prototype.stepNewExpression=c.prototype.stepCallExpression,c.prototype.stepObjectExpression=function(o,a,d){var g=a.n_||0,R=d.properties[g];if(!a.object_)a.object_=this.createObjectProto(this.OBJECT_PROTO),a.properties_=Object.create(null);else{var S=a.destinationName;a.properties_[S]||(a.properties_[S]={}),a.properties_[S][R.kind]=a.value,a.n_=++g,R=d.properties[g]}if(R){var y=R.key;if(y.type==="Identifier")var S=y.name;else if(y.type==="Literal")var S=y.value;else throw SyntaxError("Unknown object structure: "+y.type);return a.destinationName=S,new c.State(R.value,a.scope)}for(var y in a.properties_){var w=a.properties_[y];if("get"in w||"set"in w){var G={configurable:!0,enumerable:!0,get:w.get,set:w.set};this.setProperty(a.object_,y,c.VALUE_IN_DESCRIPTOR,G)}else this.setProperty(a.object_,y,w.init)}o.pop(),o[o.length-1].value=a.object_},c.prototype.stepProgram=function(o,a,d){var g=d.body.shift();if(g)return a.done=!1,new c.State(g,a.scope);a.done=!0},c.prototype.stepReturnStatement=function(o,a,d){if(d.argument&&!a.done_)return a.done_=!0,new c.State(d.argument,a.scope);this.unwind(c.Completion.RETURN,a.value,void 0)},c.prototype.stepSequenceExpression=function(o,a,d){var g=a.n_||0,R=d.expressions[g];if(R)return a.n_=g+1,new c.State(R,a.scope);o.pop(),o[o.length-1].value=a.value},c.prototype.stepSwitchStatement=function(o,a,d){if(!a.test_)return a.test_=1,new c.State(d.discriminant,a.scope);for(a.test_===1&&(a.test_=2,a.switchValue_=a.value,a.defaultCase_=-1);;){var g=a.index_||0,R=d.cases[g];if(!a.matched_&&R&&!R.test){a.defaultCase_=g,a.index_=g+1;continue}if(!R&&!a.matched_&&a.defaultCase_!==-1){a.matched_=!0,a.index_=a.defaultCase_;continue}if(R){if(!a.matched_&&!a.tested_&&R.test)return a.tested_=!0,new c.State(R.test,a.scope);if(a.matched_||a.value===a.switchValue_){a.matched_=!0;var S=a.n_||0;if(R.consequent[S])return a.isSwitch=!0,a.n_=S+1,new c.State(R.consequent[S],a.scope)}a.tested_=!1,a.n_=0,a.index_=g+1}else{o.pop();return}}},c.prototype.stepThisExpression=function(o,a,d){o.pop(),o[o.length-1].value=this.getValueFromScope("this")},c.prototype.stepThrowStatement=function(o,a,d){if(a.done_)this.throwException(a.value);else return a.done_=!0,new c.State(d.argument,a.scope)},c.prototype.stepTryStatement=function(o,a,d){if(!a.doneBlock_)return a.doneBlock_=!0,new c.State(d.block,a.scope);if(a.cv&&a.cv.type===c.Completion.THROW&&!a.doneHandler_&&d.handler){a.doneHandler_=!0;var g=this.createSpecialScope(a.scope);return this.setProperty(g.object,d.handler.param.name,a.cv.value),a.cv=void 0,new c.State(d.handler.body,g)}if(!a.doneFinalizer_&&d.finalizer)return a.doneFinalizer_=!0,new c.State(d.finalizer,a.scope);o.pop(),a.cv&&this.unwind(a.cv.type,a.cv.value,a.cv.label)},c.prototype.stepUnaryExpression=function(o,a,d){if(!a.done_){a.done_=!0;var g=new c.State(d.argument,a.scope);return g.components=d.operator==="delete",g}o.pop();var R=a.value;switch(d.operator){case"-":R=-R;break;case"+":R=+R;break;case"!":R=!R;break;case"~":R=~R;break;case"delete":var S=!0;if(Array.isArray(R)){var y=R[0];y===c.SCOPE_REFERENCE&&(y=a.scope);var w=String(R[1]);try{delete y.properties[w]}catch{a.scope.strict?this.throwException(this.TYPE_ERROR,"Cannot delete property '"+w+"' of '"+y+"'"):S=!1}}R=S;break;case"typeof":R=R&&R.class==="Function"?"function":typeof R;break;case"void":R=void 0;break;default:throw SyntaxError("Unknown unary operator: "+d.operator)}o[o.length-1].value=R},c.prototype.stepUpdateExpression=function(o,a,d){if(!a.doneLeft_){a.doneLeft_=!0;var g=new c.State(d.argument,a.scope);return g.components=!0,g}if(a.leftSide_||(a.leftSide_=a.value),a.doneGetter_&&(a.leftValue_=a.value),!a.doneGetter_){var S=this.getValue(a.leftSide_);if(a.leftValue_=S,this.getterStep_){a.doneGetter_=!0;var R=S;return this.createGetter_(R,a.leftSide_)}}if(a.doneSetter_){o.pop(),o[o.length-1].value=a.setterValue_;return}var S=Number(a.leftValue_),y;if(d.operator==="++")y=S+1;else if(d.operator==="--")y=S-1;else throw SyntaxError("Unknown update expression: "+d.operator);var w=d.prefix?y:S,G=this.setValue(a.leftSide_,y);if(G)return a.doneSetter_=!0,a.setterValue_=w,this.createSetter_(G,a.leftSide_,y);o.pop(),o[o.length-1].value=w},c.prototype.stepVariableDeclaration=function(o,a,d){var g=d.declarations,R=a.n_||0,S=g[R];for(a.init_&&S&&(this.setValueToScope(S.id.name,a.value),a.init_=!1,S=g[++R]);S;){if(S.init)return a.n_=R,a.init_=!0,a.destinationName=S.id.name,new c.State(S.init,a.scope);S=g[++R]}o.pop()},c.prototype.stepWithStatement=function(o,a,d){if(!a.doneObject_)return a.doneObject_=!0,new c.State(d.object,a.scope);o.pop();var g=this.createSpecialScope(a.scope,a.value);return new c.State(d.body,g)},c.prototype.stepWhileStatement=c.prototype.stepDoWhileStatement,c.nativeGlobal.Interpreter=c,c.prototype.step=c.prototype.step,c.prototype.run=c.prototype.run,c.prototype.appendCode=c.prototype.appendCode,c.prototype.createObject=c.prototype.createObject,c.prototype.createObjectProto=c.prototype.createObjectProto,c.prototype.createAsyncFunction=c.prototype.createAsyncFunction,c.prototype.createNativeFunction=c.prototype.createNativeFunction,c.prototype.getProperty=c.prototype.getProperty,c.prototype.setProperty=c.prototype.setProperty,c.prototype.getStatus=c.prototype.getStatus,c.prototype.nativeToPseudo=c.prototype.nativeToPseudo,c.prototype.pseudoToNative=c.prototype.pseudoToNative,c.prototype.getGlobalScope=c.prototype.getGlobalScope,c.prototype.getStateStack=c.prototype.getStateStack,c.prototype.setStateStack=c.prototype.setStateStack,c.VALUE_IN_DESCRIPTOR=c.VALUE_IN_DESCRIPTOR,c.Status=c.Status,N.exports={Interpreter:c}},"./original-repo/acorn.js":function(N,C){(function(D,c){return c(C)})(this,function(D){D.version="0.5.0";var c,o="",a,d;D.parse=function(x,I){return o=String(x),a=o.length,R(I),mn(),Cn(c.program)};var g={strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function R(x){c=x||{};for(var I in g)Object.prototype.hasOwnProperty.call(c,I)||(c[I]=g[I]);d=c.sourceFile}var S=function(x,I){for(var B=1,$=0;;){hr.lastIndex=$;var ye=hr.exec(x);if(ye&&ye.index<I)++B,$=ye.index+ye[0].length;else break}return{line:B,column:I-$}},y=0,w=0,G=0,W,ie,Q,ee,Ee,te,we,je=0,Le=0,Xe,De,Ne,$e;function me(x,I){var B=S(o,x);I+=" ("+B.line+":"+B.column+")";var $=new SyntaxError(I);throw $.pos=x,$.loc=B,$.raisedAt=y,$}var wt=[],it={type:"num"},mt={type:"regexp"},Pt={type:"string"},Be={type:"name"},st={type:"eof"},ct={keyword:"break"},Ot={keyword:"case",beforeExpr:!0},gt={keyword:"catch"},bt={keyword:"continue"},Tt={keyword:"debugger"},Ct={keyword:"default"},Gt={keyword:"do",isLoop:!0},vt={keyword:"else",beforeExpr:!0},Lt={keyword:"finally"},xe={keyword:"for",isLoop:!0},Se={keyword:"function"},se={keyword:"if"},be={keyword:"return",beforeExpr:!0},Ce={keyword:"switch"},ht={keyword:"throw",beforeExpr:!0},Pe={keyword:"try"},Me={keyword:"var"},Ke={keyword:"while",isLoop:!0},Zt={keyword:"with"},Qt={keyword:"new",beforeExpr:!0},er={keyword:"this"},tt={keyword:"null",atomValue:null},ft={keyword:"true",atomValue:!0},$t={keyword:"false",atomValue:!1},Yt={keyword:"in",binop:7,beforeExpr:!0},tr={break:ct,case:Ot,catch:gt,continue:bt,debugger:Tt,default:Ct,do:Gt,else:vt,finally:Lt,for:xe,function:Se,if:se,return:be,switch:Ce,throw:ht,try:Pe,var:Me,while:Ke,with:Zt,null:tt,true:ft,false:$t,new:Qt,in:Yt,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:er,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},br={type:"[",beforeExpr:!0},Rr={type:"]"},rr={type:"{",beforeExpr:!0},Xt={type:"}"},St={type:"(",beforeExpr:!0},yt={type:")"},kt={type:",",beforeExpr:!0},Nt={type:";",beforeExpr:!0},nr={type:":",beforeExpr:!0},Mr={type:"."},Ur={type:"?",beforeExpr:!0},Lr={binop:10,beforeExpr:!0},Fr={isAssign:!0,beforeExpr:!0},Ft={isAssign:!0,beforeExpr:!0},tn={postfix:!0,prefix:!0,isUpdate:!0},Br={prefix:!0,beforeExpr:!0},jr={binop:1,beforeExpr:!0},zr={binop:2,beforeExpr:!0},rn={binop:3,beforeExpr:!0},nn={binop:4,beforeExpr:!0},an={binop:5,beforeExpr:!0},on={binop:6,beforeExpr:!0},sn={binop:7,beforeExpr:!0},un={binop:8,beforeExpr:!0},cn={binop:9,prefix:!0,beforeExpr:!0},ln={binop:10,beforeExpr:!0};function fr(x){for(var I=x.split(" "),B=Object.create(null),$=0;$<I.length;$++)B[I[$]]=!0;return function(ye){return B[ye]||!1}}var fn=fr("class enum extends super const export import"),Vr=fr("implements interface let package private protected public static yield"),pr=fr("eval arguments"),pn=fr("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),dn=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Gr="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",hn="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",$r=new RegExp("["+Gr+"]"),En=new RegExp("["+Gr+hn+"]"),dr=/[\n\r\u2028\u2029]/,hr=/\r\n|[\n\r\u2028\u2029]/g,Er=function(x){return x<65?x===36:x<91?!0:x<97?x===95:x<123?!0:x>=170&&$r.test(String.fromCharCode(x))},Wr=function(x){return x<48?x===36:x<58?!0:x<65?!1:x<91?!0:x<97?x===95:x<123?!0:x>=170&&En.test(String.fromCharCode(x))};function jt(){this.line=te,this.column=y-we}function mn(){te=1,y=we=0,Ee=!0,ir()}function ze(x,I){G=y,c.locations&&(ie=new jt),Q=x,ir(),ee=I,Ee=x.beforeExpr}function vn(){var x=c.onComment&&c.locations&&new jt,I=y,B=o.indexOf("*/",y+=2);if(B===-1&&me(y-2,"Unterminated comment"),y=B+2,c.locations){hr.lastIndex=I;for(var $;($=hr.exec(o))&&$.index<y;)++te,we=$.index+$[0].length}c.onComment&&c.onComment(!0,o.slice(I+2,B),I,y,x,c.locations&&new jt)}function _r(){for(var x=y,I=c.onComment&&c.locations&&new jt,B=o.charCodeAt(y+=2);y<a&&B!==10&&B!==13&&B!==8232&&B!==8233;)++y,B=o.charCodeAt(y);c.onComment&&c.onComment(!1,o.slice(x+2,y),x,y,I,c.locations&&new jt)}function ir(){for(;y<a;){var x=o.charCodeAt(y);if(x===32)++y;else if(x===13){++y;var I=o.charCodeAt(y);I===10&&++y,c.locations&&(++te,we=y)}else if(x===10||x===8232||x===8233)++y,c.locations&&(++te,we=y);else if(x>8&&x<14)++y;else if(x===47){var I=o.charCodeAt(y+1);if(I===42)vn();else if(I===47)_r();else break}else if(x===160)++y;else if(x>=5760&&dn.test(String.fromCharCode(x)))++y;else break}}function yn(){var x=o.charCodeAt(y+1);x>=48&&x<=57?Yr(!0):(++y,ze(Mr))}function gn(){var x=o.charCodeAt(y+1);Ee?(++y,Hr()):x===61?Ve(Ft,2):Ve(Lr,1)}function bn(){var x=o.charCodeAt(y+1);x===61?Ve(Ft,2):Ve(ln,1)}function Rn(x){var I=o.charCodeAt(y+1);I===x?Ve(x===124?jr:zr,2):I===61?Ve(Ft,2):Ve(x===124?rn:an,1)}function _n(){var x=o.charCodeAt(y+1);x===61?Ve(Ft,2):Ve(nn,1)}function Nn(x){var I=o.charCodeAt(y+1);if(I===x){if(I===45&&o.charCodeAt(y+2)===62&&dr.test(o.slice(Le,y))){y+=3,_r(),ir(),Jt();return}Ve(tn,2)}else I===61?Ve(Ft,2):Ve(cn,1)}function xn(x){var I=o.charCodeAt(y+1),B=1;if(I===x){B=x===62&&o.charCodeAt(y+2)===62?3:2,o.charCodeAt(y+B)===61?Ve(Ft,B+1):Ve(un,B);return}if(I===33&&x===60&&o.charCodeAt(y+2)===45&&o.charCodeAt(y+3)===45){y+=4,_r(),ir(),Jt();return}I===61&&(B=o.charCodeAt(y+2)===61?3:2),Ve(sn,B)}function wn(x){var I=o.charCodeAt(y+1);I===61?Ve(on,o.charCodeAt(y+2)===61?3:2):Ve(x===61?Fr:Br,1)}function Pn(x){switch(x){case 46:return yn();case 40:return++y,ze(St);case 41:return++y,ze(yt);case 59:return++y,ze(Nt);case 44:return++y,ze(kt);case 91:return++y,ze(br);case 93:return++y,ze(Rr);case 123:return++y,ze(rr);case 125:return++y,ze(Xt);case 58:return++y,ze(nr);case 63:return++y,ze(Ur);case 48:var I=o.charCodeAt(y+1);if(I===120||I===88)return On();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Yr(!1);case 34:case 39:return Tn(x);case 47:return gn();case 37:case 42:return bn();case 124:case 38:return Rn(x);case 94:return _n();case 43:case 45:return Nn(x);case 60:case 62:return xn(x);case 61:case 33:return wn(x);case 126:return Ve(Br,1)}return!1}function Jt(x){if(x?y=w+1:w=y,c.locations&&(W=new jt),x)return Hr();if(y>=a)return ze(st);var I=o.charCodeAt(y);if(Er(I)||I===92)return Jr();var B=Pn(I);if(B===!1){var $=String.fromCharCode(I);if($==="\\"||$r.test($))return Jr();me(y,"Unexpected character '"+$+"'")}}function Ve(x,I){var B=o.slice(y,y+I);y+=I,ze(x,B)}function Hr(){for(var x,I,B=y;;){y>=a&&me(B,"Unterminated regexp");var $=o.charAt(y);if(dr.test($)&&me(B,"Unterminated regexp"),x)x=!1;else{if($==="[")I=!0;else if($==="]"&&I)I=!1;else if($==="/"&&!I)break;x=$==="\\"}++y}var ye=o.slice(B,y);++y;var he=Xr();he&&!/^[gmi]*$/.test(he)&&me(B,"Invalid regexp flag");try{var ge=new RegExp(ye,he)}catch(Oe){throw Oe instanceof SyntaxError&&me(B,Oe.message),Oe}ze(mt,ge)}function or(x,I){for(var B=y,$=0,ye=I===void 0?1/0:I,he=0;he<ye;++he){var ge=o.charCodeAt(y),Oe;if(ge>=97?Oe=ge-97+10:ge>=65?Oe=ge-65+10:ge>=48&&ge<=57?Oe=ge-48:Oe=1/0,Oe>=x)break;++y,$=$*x+Oe}return y===B||I!==void 0&&y-B!==I?null:$}function On(){y+=2;var x=or(16);x===null&&me(w+2,"Expected hexadecimal number"),Er(o.charCodeAt(y))&&me(y,"Identifier directly after number"),ze(it,x)}function Yr(x){var I=y,B=!1,$=o.charCodeAt(y)===48;!x&&or(10)===null&&me(I,"Invalid number"),o.charCodeAt(y)===46&&(++y,or(10),B=!0);var ye=o.charCodeAt(y);(ye===69||ye===101)&&(ye=o.charCodeAt(++y),(ye===43||ye===45)&&++y,or(10)===null&&me(I,"Invalid number"),B=!0),Er(o.charCodeAt(y))&&me(y,"Identifier directly after number");var he=o.slice(I,y),ge;B?ge=parseFloat(he):!$||he.length===1?ge=parseInt(he,10):/[89]/.test(he)||$e?me(I,"Invalid number"):ge=parseInt(he,8),ze(it,ge)}function Tn(x){y++;for(var I="";;){y>=a&&me(w,"Unterminated string constant");var B=o.charCodeAt(y);if(B===x){++y,ze(Pt,I);return}if(B===92){B=o.charCodeAt(++y);var $=/^[0-7]+/.exec(o.slice(y,y+3));for($&&($=$[0]);$&&parseInt($,8)>255;)$=$.slice(0,-1);if($==="0"&&($=null),++y,$)$e&&me(y-2,"Octal literal in strict mode"),I+=String.fromCharCode(parseInt($,8)),y+=$.length-1;else switch(B){case 110:I+=`
`;break;case 114:I+="\r";break;case 120:I+=String.fromCharCode(mr(2));break;case 117:I+=String.fromCharCode(mr(4));break;case 85:I+=String.fromCharCode(mr(8));break;case 116:I+="	";break;case 98:I+="\b";break;case 118:I+="\v";break;case 102:I+="\f";break;case 48:I+="\0";break;case 13:o.charCodeAt(y)===10&&++y;case 10:c.locations&&(we=y,++te);break;default:I+=String.fromCharCode(B);break}}else(B===13||B===10||B===8232||B===8233)&&me(w,"Unterminated string constant"),I+=String.fromCharCode(B),++y}}function mr(x){var I=or(16,x);return I===null&&me(w,"Bad character escape sequence"),I}var qt;function Xr(){qt=!1;for(var x,I=!0,B=y;;){var $=o.charCodeAt(y);if(Wr($))qt&&(x+=o.charAt(y)),++y;else if($===92){qt||(x=o.slice(B,y)),qt=!0,o.charCodeAt(++y)!==117&&me(y,"Expecting Unicode escape sequence \\uXXXX"),++y;var ye=mr(4),he=String.fromCharCode(ye);he||me(y-1,"Invalid Unicode escape"),(I?Er(ye):Wr(ye))||me(y-4,"Invalid Unicode escape"),x+=he}else break;I=!1}return qt?x:o.slice(B,y)}function Jr(){var x=Xr(),I=Be;!qt&&pn(x)&&(I=tr[x]),ze(I,x)}function _e(){je=w,Le=G,Xe=ie,Jt()}function Sr(x){if($e=x,y=w,c.locations)for(;y<we;)we=o.lastIndexOf(`
`,we-2)+1,--te;ir(),Jt()}function qr(){this.type=null,this.start=w,this.end=null}function Kr(){this.start=W,this.end=null,d&&(this.source=d)}function We(){var x=new qr;return c.locations&&(x.loc=new Kr),c.directSourceFile&&(x.sourceFile=c.directSourceFile),c.ranges&&(x.range=[w,0]),x}function Dt(x){var I=new qr;return I.start=x.start,c.locations&&(I.loc=new Kr,I.loc.start=x.loc.start),c.ranges&&(I.range=[x.range[0],0]),I}function ve(x,I){return x.type=I,x.end=Le,c.locations&&(x.loc.end=Xe),c.ranges&&(x.range[1]=Le),x}function Nr(x){return x.type==="ExpressionStatement"&&x.expression.type==="Literal"&&x.expression.value==="use strict"}function Ae(x){return Q===x?(_e(),!0):!1}function vr(){return!c.strictSemicolons&&(Q===st||Q===Xt||dr.test(o.slice(Le,w)))}function Vt(){!Ae(Nt)&&!vr()&&xt()}function Fe(x){Q===x?_e():xt()}function xt(){me(w,"Unexpected token")}function yr(x){x.type!=="Identifier"&&x.type!=="MemberExpression"&&me(x.start,"Assigning to rvalue"),$e&&x.type==="Identifier"&&pr(x.name)&&me(x.start,"Assigning to "+x.name+" in strict mode")}function Cn(x){je=Le=y,c.locations&&(Xe=new jt),De=$e=!1,Ne=[],Jt();var I=x||We(),B=!0;for(x||(I.body=[]);Q!==st;){var $=Et();I.body.push($),B&&Nr($)&&Sr(!0),B=!1}return ve(I,"Program")}var xr={kind:"loop"},An={kind:"switch"};function Et(){(Q===Lr||Q===Ft&&ee==="/=")&&Jt(!0);var x=Q,I=We();switch(x){case ct:case bt:_e();var B=x===ct;Ae(Nt)||vr()?I.label=null:Q!==Be?xt():(I.label=Mt(),Vt());for(var $=0;$<Ne.length;++$){var ye=Ne[$];if((I.label===null||ye.name===I.label.name)&&(ye.kind!==null&&(B||ye.kind==="loop")||I.label&&B))break}return $===Ne.length&&me(I.start,"Unsyntactic "+x.keyword),ve(I,B?"BreakStatement":"ContinueStatement");case Tt:return _e(),Vt(),ve(I,"DebuggerStatement");case Gt:return _e(),Ne.push(xr),I.body=Et(),Ne.pop(),Fe(Ke),I.test=sr(),Vt(),ve(I,"DoWhileStatement");case xe:if(_e(),Ne.push(xr),Fe(St),Q===Nt)return wr(I,null);if(Q===Me){var he=We();return _e(),Qr(he,!0),ve(he,"VariableDeclaration"),he.declarations.length===1&&Ae(Yt)?Zr(I,he):wr(I,he)}var he=Je(!1,!0);return Ae(Yt)?(yr(he),Zr(I,he)):wr(I,he);case Se:return _e(),Ar(I,!0);case se:return _e(),I.test=sr(),I.consequent=Et(),I.alternate=Ae(vt)?Et():null,ve(I,"IfStatement");case be:return!De&&!c.allowReturnOutsideFunction&&me(w,"'return' outside of function"),_e(),Ae(Nt)||vr()?I.argument=null:(I.argument=Je(),Vt()),ve(I,"ReturnStatement");case Ce:_e(),I.discriminant=sr(),I.cases=[],Fe(rr),Ne.push(An);for(var ge,Oe;Q!==Xt;)if(Q===Ot||Q===Ct){var lr=Q===Ot;ge&&ve(ge,"SwitchCase"),I.cases.push(ge=We()),ge.consequent=[],_e(),lr?ge.test=Je():(Oe&&me(je,"Multiple default clauses"),Oe=!0,ge.test=null),Fe(nr)}else ge||xt(),ge.consequent.push(Et());return ge&&ve(ge,"SwitchCase"),_e(),Ne.pop(),ve(I,"SwitchStatement");case ht:return _e(),dr.test(o.slice(Le,w))&&me(Le,"Illegal newline after throw"),I.argument=Je(),Vt(),ve(I,"ThrowStatement");case Pe:if(_e(),I.block=ur(),I.handler=null,Q===gt){var Kt=We();_e(),Fe(St),Kt.param=Mt(),$e&&pr(Kt.param.name)&&me(Kt.param.start,"Binding "+Kt.param.name+" in strict mode"),Fe(yt),Kt.body=ur(),I.handler=ve(Kt,"CatchClause")}return I.finalizer=Ae(Lt)?ur():null,!I.handler&&!I.finalizer&&me(I.start,"Missing catch or finally clause"),ve(I,"TryStatement");case Me:return _e(),Qr(I),Vt(),ve(I,"VariableDeclaration");case Ke:return _e(),I.test=sr(),Ne.push(xr),I.body=Et(),Ne.pop(),ve(I,"WhileStatement");case Zt:return $e&&me(w,"'with' in strict mode"),_e(),I.object=sr(),I.body=Et(),ve(I,"WithStatement");case rr:return ur();case Nt:return _e(),ve(I,"EmptyStatement");default:var kr=ee,gr=Je();if(x===Be&&gr.type==="Identifier"&&Ae(nr)){for(var $=0;$<Ne.length;++$)Ne[$].name===kr&&me(gr.start,"Label '"+kr+"' is already declared");var Ln=Q.isLoop?"loop":Q===Ce?"switch":null;return Ne.push({name:kr,kind:Ln}),I.body=Et(),Ne.pop(),I.label=gr,ve(I,"LabeledStatement")}else return I.expression=gr,Vt(),ve(I,"ExpressionStatement")}}function sr(){Fe(St);var x=Je();return Fe(yt),x}function ur(x){var I=We(),B=!0,$=!1,ye;for(I.body=[],Fe(rr);!Ae(Xt);){var he=Et();I.body.push(he),B&&x&&Nr(he)&&(ye=$,Sr($=!0)),B=!1}return $&&!ye&&Sr(!1),ve(I,"BlockStatement")}function wr(x,I){return x.init=I,Fe(Nt),x.test=Q===Nt?null:Je(),Fe(Nt),x.update=Q===yt?null:Je(),Fe(yt),x.body=Et(),Ne.pop(),ve(x,"ForStatement")}function Zr(x,I){return x.left=I,x.right=Je(),Fe(yt),x.body=Et(),Ne.pop(),ve(x,"ForInStatement")}function Qr(x,I){for(x.declarations=[],x.kind="var";;){var B=We();if(B.id=Mt(),$e&&pr(B.id.name)&&me(B.id.start,"Binding "+B.id.name+" in strict mode"),B.init=Ae(Fr)?Je(!0,I):null,x.declarations.push(ve(B,"VariableDeclarator")),!Ae(kt))break}}function Je(x,I){var B=Pr(I);if(!x&&Q===kt){var $=Dt(B);for($.expressions=[B];Ae(kt);)$.expressions.push(Pr(I));return ve($,"SequenceExpression")}return B}function Pr(x){var I=In(x);if(Q.isAssign){var B=Dt(I);return B.operator=ee,B.left=I,_e(),B.right=Pr(x),yr(I),ve(B,"AssignmentExpression")}return I}function In(x){var I=kn(x);if(Ae(Ur)){var B=Dt(I);return B.test=I,B.consequent=Je(!0),Fe(nr),B.alternate=Je(!0,x),ve(B,"ConditionalExpression")}return I}function kn(x){return Or(Tr(),-1,x)}function Or(x,I,B){var $=Q.binop;if($!==null&&(!B||Q!==Yt)&&$>I){var ye=Dt(x);ye.left=x,ye.operator=ee;var he=Q;_e(),ye.right=Or(Tr(),$,B);var ge=ve(ye,he===jr||he===zr?"LogicalExpression":"BinaryExpression");return Or(ge,I,B)}return x}function Tr(){if(Q.prefix){var x=We(),I=Q.isUpdate;return x.operator=ee,x.prefix=!0,Ee=!0,_e(),x.argument=Tr(),I?yr(x.argument):$e&&x.operator==="delete"&&x.argument.type==="Identifier"&&me(x.start,"Deleting local variable in strict mode"),ve(x,I?"UpdateExpression":"UnaryExpression")}for(var B=Dn();Q.postfix&&!vr();){var x=Dt(B);x.operator=ee,x.prefix=!1,x.argument=B,yr(B),_e(),B=ve(x,"UpdateExpression")}return B}function Dn(){return cr(Cr())}function cr(x,I){var B;return Ae(Mr)?(B=Dt(x),B.object=x,B.property=Mt(!0),B.computed=!1,cr(ve(B,"MemberExpression"),I)):Ae(br)?(B=Dt(x),B.object=x,B.property=Je(),B.computed=!0,Fe(Rr),cr(ve(B,"MemberExpression"),I)):!I&&Ae(St)?(B=Dt(x),B.callee=x,B.arguments=Ir(yt,!1),cr(ve(B,"CallExpression"),I)):x}function Cr(){var x;switch(Q){case er:return x=We(),_e(),ve(x,"ThisExpression");case Be:return Mt();case it:case Pt:case mt:return x=We(),x.value=ee,x.raw=o.slice(w,G),_e(),ve(x,"Literal");case tt:case ft:case $t:return x=We(),x.value=Q.atomValue,x.raw=Q.keyword,_e(),ve(x,"Literal");case St:var I=W,B=w;_e();var $=Je();return $.start=B,$.end=G,c.locations&&($.loc.start=I,$.loc.end=ie),c.ranges&&($.range=[B,G]),Fe(yt),$;case br:return x=We(),_e(),x.elements=Ir(Rr,!0,!0),ve(x,"ArrayExpression");case rr:return Un();case Se:return x=We(),_e(),Ar(x,!1);case Qt:return Mn()}xt()}function Mn(){var x=We();return _e(),x.callee=cr(Cr(),!0),x.arguments=Ae(St)?Ir(yt,!1):wt,ve(x,"NewExpression")}function Un(){var x=We(),I=!0,B=!1;for(x.properties=[],_e();!Ae(Xt);){if(I)I=!1;else if(Fe(kt),c.allowTrailingCommas&&Ae(Xt))break;var $={key:en()},ye=!1,he;if(Ae(nr)?($.value=Je(!0),he=$.kind="init"):$.key.type==="Identifier"&&($.key.name==="get"||$.key.name==="set")?(ye=B=!0,he=$.kind=$.key.name,$.key=en(),Q!==St&&xt(),$.value=Ar(We(),!1)):xt(),$.key.type==="Identifier"&&($e||B))for(var ge=0;ge<x.properties.length;++ge){var Oe=x.properties[ge];if(Oe.key.name===$.key.name){var lr=he===Oe.kind||ye&&Oe.kind==="init"||he==="init"&&(Oe.kind==="get"||Oe.kind==="set");lr&&!$e&&he==="init"&&Oe.kind==="init"&&(lr=!1),lr&&me($.key.start,"Redefinition of property")}}x.properties.push($)}return ve(x,"ObjectExpression")}function en(){return Q===it||Q===Pt?Cr():Mt(!0)}function Ar(x,I){Q===Be?x.id=Mt():I?xt():x.id=null,x.params=[];var B=!0;for(Fe(St);!Ae(yt);)B?B=!1:Fe(kt),x.params.push(Mt());var $=De,ye=Ne;if(De=!0,Ne=[],x.body=ur(!0),De=$,Ne=ye,$e||x.body.body.length&&Nr(x.body.body[0]))for(var he=x.id?-1:0;he<x.params.length;++he){var ge=he<0?x.id:x.params[he];if((Vr(ge.name)||pr(ge.name))&&me(ge.start,"Defining '"+ge.name+"' in strict mode"),he>=0)for(var Oe=0;Oe<he;++Oe)ge.name===x.params[Oe].name&&me(ge.start,"Argument name clash in strict mode")}return ve(x,I?"FunctionDeclaration":"FunctionExpression")}function Ir(x,I,B){for(var $=[],ye=!0;!Ae(x);){if(ye)ye=!1;else if(Fe(kt),I&&c.allowTrailingCommas&&Ae(x))break;$.push(B&&Q===kt?null:Je(!0))}return $}function Mt(x){var I=We();return x&&c.forbidReserved==="everywhere"&&(x=!1),Q===Be?(!x&&(c.forbidReserved&&fn(ee)||$e&&Vr(ee))&&o.slice(w,G).indexOf("\\")===-1&&me(w,"The keyword '"+ee+"' is reserved"),I.name=ee):x&&Q.keyword?I.name=Q.keyword:xt(),Ee=!1,_e(),ve(I,"Identifier")}})},vm:N=>{N.exports=requireVmBrowserify()}},v={};function b(N){var C=v[N];if(C!==void 0)return C.exports;var D=v[N]={exports:{}};return f[N].call(D.exports,D,D.exports,b),D.exports}b.d=(N,C)=>{for(var D in C)b.o(C,D)&&!b.o(N,D)&&Object.defineProperty(N,D,{enumerable:!0,get:C[D]})},b.o=(N,C)=>Object.prototype.hasOwnProperty.call(N,C),b.r=N=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})};var _={};return(()=>{b.r(_),b.d(_,{default:()=>D});const N=b("./original-repo/acorn.js");globalThis.acorn=N;const{Interpreter:C}=b("./original-repo/interpreter.js"),D=C})(),_=_.default,_})())})(jsInterpreter);var jsInterpreterExports=jsInterpreter.exports;const vo=getDefaultExportFromCjs(jsInterpreterExports);var oe=reactExports.createContext({registerProblem:noop$1});oe.displayName="ContestContext";function Ue({children:i}){let{student:s,setStudent:f,terminated:v}=h(),[b,_]=reactExports.useState({}),N=reactExports.useCallback((o,a)=>{_(d=>({...d,[o]:a}))},[]),[C,D]=reactExports.useState(!1),c=reactExports.useRef(null);return reactExports.useEffect(()=>{var o;v!==C&&(D(v),C||((o=c.current)==null||o.showModal()))},[v,C]),s.startedAt?P.createElement(oe.Provider,{value:{registerProblem:N}},P.createElement("div",{className:"break-before-page"},P.createElement("main",{className:"gap-x-10 [column-rule:solid_1px_var(--tw-prose-hr)] print:columns-2"},i)),P.createElement(Ht,{ref:c,schema:b})):P.createElement("div",{className:"flex h-[50vh] flex-col justify-center"},P.createElement(U,null,P.createElement(F,{className:"btn-success btn-lg",onClick:()=>{f({...s,startedAt:new Date,variant:Ht$1()})}},"Inizia")))}var Ht=reactExports.forwardRef(function({schema:i},s){let{student:f}=h(),v=Object.keys(i);v.sort((N,C)=>N.localeCompare(C,void 0,{numeric:!0}));let b=reactExports.useMemo(()=>{let N={id:f.variant,contestId:f.contestId,schema:i};return Sn(f,{[N.id]:N})},[i,f]),_=sumBy(Object.values(i),"pointsCorrect");return P.createElement(Te,{ref:s,title:"Prova terminata"},P.createElement("p",null,"La prova è terminata."),b!==void 0&&P.createElement(P.Fragment,null,P.createElement("p",null,"Hai ottenuto un punteggio di ",P.createElement("b",null,b)," su ",P.createElement("b",null,_),"."),P.createElement("div",{className:"w-full"},P.createElement("table",{className:"table-fixed prose-td:truncate"},P.createElement("thead",null,P.createElement("tr",null,P.createElement("th",{scope:"col"},"Domanda"),P.createElement("th",{scope:"col"},"Risposta"),P.createElement("th",{scope:"col"},"Soluzione"),P.createElement("th",{scope:"col"},"Punteggio"))),P.createElement("tbody",null,v.map(N=>{var c,o,a,d;let C=(a=(o=(c=f.answers)==null?void 0:c[N])==null?void 0:o.toString())==null?void 0:a.trim(),D=i[N];return P.createElement("tr",{key:N},P.createElement("td",null,N),P.createElement("td",null,C??"-"),P.createElement("td",null,(d=D.optionsCorrect)==null?void 0:d.join(", ")),P.createElement("td",null,Ut(D,C)))}))))))});function j(){return reactExports.useContext(oe)}var L=reactExports.createContext({id:void 0,points:[0,0,0]});L.displayName="ProblemContext";function He({id:i,points:s,statement:f}){let{student:v}=h(),[b,_]=reactExports.useState(1),[N,C]=reactExports.useState(()=>v.variant?Wt(`r#problem#${v.variant}#${i}`):0),D=reactExports.useCallback(()=>N,[N]),c=reactExports.useCallback(a=>{a&&a!==b&&defer(()=>_(a))},[b]),o=reactExports.useMemo(()=>reactExports.memo(f),[f]);return P.createElement(L.Provider,{value:{id:i,points:s}},P.createElement("div",{className:"relative"},!1,P.createElement(o,{variant:D,setVariantCount:c})),P.createElement("hr",{className:"last:hidden"}))}function Ge({subId:i,children:s}){let{id:f,points:v}=reactExports.useContext(L),b=i?`${f}.${i}`:`${f}`;return P.createElement(L.Provider,{value:{id:b,points:v}},P.createElement("div",{className:"break-inside-avoid"},P.createElement("h3",null,"Domanda ",b),s))}function O(){return reactExports.useContext(L)}var re=reactExports.createContext({id:""});re.displayName="AnswerContext";function Ye({children:i}){let{student:s}=h(),{id:f}=O(),v=reactExports.useMemo(()=>{let b=reactExports.Children.toArray(i);return s.variant&&new j$1(`r#answers#${s.variant}#${f}`).shuffle(b),b},[s.variant,f,i]);return P.createElement("form",{className:j$2("answer-group my-5 flex-wrap rounded-xl bg-base-200 p-3","prose-p:my-1 print:flex print:border print:border-[var(--tw-prose-hr)] print:p-1")},v.map((b,_)=>P.createElement(re.Provider,{key:_,value:{id:String.fromCodePoint(65+_)}},b)))}function Qe({correct:i,children:s}){var d;let{id:f}=reactExports.useContext(re),{registerProblem:v}=j(),{id:b,points:_}=O(),{student:N,setStudent:C,terminated:D}=h(),c=(d=N.answers)==null?void 0:d[b],o=async g=>{await C({...N,answers:{...N.answers,[b]:g}})},a=reactExports.useId();return reactExports.useEffect(()=>{i&&v(`${b}`,{type:"text",pointsCorrect:_[0],pointsBlank:_[1],pointsWrong:_[2],optionsCorrect:[f]})},[v,f,b,i,_]),P.createElement("div",{className:j$2("answer relative my-1 flex rounded-lg pl-2 pr-1 hover:bg-base-300 print:mr-4",D&&{"border-2 border-success":i===!0,"border-2 border-error":c===f&&i===!1})},P.createElement("input",{id:a,checked:c===f,className:j$2("radio radio-sm my-auto mr-4 bg-base-100 [print-color-adjust:exact] disabled:opacity-90 print:mr-2",D&&c===f&&{"radio-success":i===!0,"radio-error":i===!1}),onChange:g=>o(g.target.checked?f:void 0),type:"radio",disabled:D}),P.createElement("div",{className:"my-auto w-6 screen:hidden"},f,")"),P.createElement("label",{htmlFor:a,className:"grow"},s),P.createElement("div",{className:"absolute right-0 top-0 mr-1 flex h-full justify-center print:hidden"},P.createElement("button",{className:j$2("btn btn-square btn-ghost btn-sm my-auto",(c!==f||D)&&"hidden"),type:"button",onClick:()=>o(void 0),"aria-label":"Cancella risposta"},P.createElement(Trash2,{size:20}))))}function Ze({correct:i,type:s}){var o;let{registerProblem:f}=j(),{id:v,points:b}=O(),{student:_,setStudent:N,terminated:C}=h(),D=(o=_.answers)==null?void 0:o[v],c=async a=>{await N({..._,answers:{..._.answers,[v]:a}})};return reactExports.useEffect(()=>{f(`${v}`,{type:"text",pointsCorrect:b[0],pointsBlank:b[1],pointsWrong:b[2],optionsCorrect:i?[i]:void 0})},[f,v,i,b]),P.createElement("div",{className:"px-2"},P.createElement("input",{className:j$2("input input-bordered w-72 max-w-full border-2 print:placeholder:text-transparent",C&&i!==void 0&&{"disabled:input-success":i===D,"disabled:input-error":i!==D}),onChange:a=>c(a.target.value||void 0),onWheel:a=>a.currentTarget.blur(),placeholder:"Inserisci la risposta",type:s,value:D??"",disabled:C,"aria-label":"Risposta"}))}function qe({children:i}){let{terminated:s}=h();if(s)return P.createElement("div",{className:"my-5 rounded-xl bg-base-200 print:hidden"},P.createElement("div",{className:"collapse"},P.createElement("input",{type:"checkbox"}),P.createElement("div",{className:"collapse-title text-xl font-medium"},"Mostra soluzione"),P.createElement("div",{className:"collapse-content"},i)))}var Re=z.enum(["Number","String","Array","Boolean"]),ro=z.object({type:z.literal("input_value"),name:z.string(),check:Re}),et=z.object({type:z.string(),message0:z.string(),args0:z.array(ro).optional(),colour:z.union([z.number(),z.string()]),tooltip:z.string(),helpUrl:z.string(),maxInstances:z.number().optional()}),no=et.extend({nextStatement:z.literal(null).optional(),previousStatement:z.literal(null).optional(),js:z.string()}).superRefine((i,s)=>{}),so=et.extend({output:Re,js:z.tuple([z.string().trim(),z.string().startsWith("ORDER_")])}).superRefine((i,s)=>{}),ot=z.union([no,so]),mo=reactExports.lazy(()=>__vitePreload(()=>import("./code-highlight-VP7P46EV-D-X4iBDT.js"),__vite__mapDeps([0,1,2])));function V(i){return i.inline?P.createElement(co,{...i}):P.createElement(uo,{...i})}function co(i){return P.createElement("code",{className:"bg-transparent px-0.5"},P.createElement(nt,{...i,noLineNumbers:!0}))}function uo({noLineNumbers:i,...s}){return P.createElement("pre",{className:"bg-base-200 text-base-content print:px-0"},P.createElement("code",{className:j$2("block *:block *:min-w-fit *:rounded hover:*:bg-base-300 print:*:whitespace-pre-wrap","[counter-reset:line] *:before:content-[counter(line)] *:before:[counter-increment:line]","*:before:mr-6 *:before:inline-block *:before:w-7 *:before:text-right",i&&"*:before:hidden")},P.createElement(nt,{...s})))}function nt({language:i,...s}){return!i||i==="text"?P.createElement(rt,{...s}):P.createElement(reactExports.Suspense,{fallback:P.createElement(rt,{...s})},P.createElement(mo,{language:i,...s}))}function rt({code:i}){return i.split(`
`).map((s,f)=>P.createElement("span",{key:f},P.createElement("span",null,s)))}var at={kind:"categoryToolbox",contents:[{kind:"category",name:"Variabili",categorystyle:"variable_category",custom:"VARIABLE"},{kind:"category",name:"Matematica",categorystyle:"math_category",contents:[{kind:"block",type:"math_number",fields:{NUM:123}},{kind:"block",type:"math_arithmetic",fields:{OP:"ADD"}},{kind:"block",type:"math_number_property",fields:{PROPERTY:"EVEN"}},{kind:"block",type:"math_on_list",fields:{OP:"SUM"}}]},{kind:"category",name:"Logica",categorystyle:"logic_category",contents:[{kind:"block",type:"logic_compare"},{kind:"block",type:"logic_operation"},{kind:"block",type:"logic_negate"},{kind:"block",type:"controls_if"},{kind:"block",type:"controls_if",extraState:{hasElse:"true"}}]},{kind:"category",name:"Cicli",categorystyle:"loop_category",contents:[{kind:"block",type:"controls_repeat_ext",inputs:{TIMES:{block:{type:"math_number",fields:{NUM:10}}}}},{kind:"block",type:"controls_whileUntil"},{kind:"block",type:"controls_for",fields:{VAR:"i"},inputs:{FROM:{block:{type:"math_number",fields:{NUM:1}}},TO:{block:{type:"math_number",fields:{NUM:10}}},BY:{block:{type:"math_number",fields:{NUM:1}}}}},{kind:"block",type:"controls_forEach"}]},{kind:"category",name:"Liste",categorystyle:"list_category",contents:[{kind:"block",type:"lists_create_empty"},{kind:"block",type:"lists_repeat",inputs:{NUM:{block:{type:"math_number",fields:{NUM:5}}}}},{kind:"block",type:"lists_length"},{kind:"block",type:"lists_getIndex",fields:{MODE:"GET",WHERE:"FROM_START"}},{kind:"block",type:"lists_setIndex",fields:{MODE:"SET",WHERE:"FROM_START"}}]}]},lt={blocks:{languageVersion:0,blocks:[{type:"start",id:"y=zq)Uya2A/{vyOtN[i6",x:30,y:30}]},variables:[]},yo=1e3,T=class extends vo{constructor(i,s){super(i,(f,v)=>{f.setProperty(v,"highlightBlock",f.createNativeFunction(b=>{this.highlightedBlock=b,this.stepFinished=!0})),f.setProperty(v,"exit",f.createNativeFunction((b,_)=>{this.running=!1,this.correct=b,this.msg=_})),f.setProperty(v,"hiddenState",f.nativeToPseudo(s)),f.setProperty(v,"loopTrap",yo)}),this.stepFinished=!1,this.highlightedBlock="",this.running=!0,this.correct=!1,this.step=()=>{if(!this.running)return!1;do{this.stepFinished=!1;try{this.running=super.step()&&this.running}catch{this.running=!1}}while(this.running&&!this.stepFinished);return this.running}}};function ae(i,s){let[f,v]=reactExports.useState(),[b,_]=reactExports.useState({highlightedBlock:"",running:!0,correct:!1,msg:"",globalScope:{}}),N=reactExports.useCallback(()=>{let C=new T(i,s);v(C),_({highlightedBlock:(C==null?void 0:C.highlightedBlock)??"",running:(C==null?void 0:C.running)??!1,correct:(C==null?void 0:C.correct)??!1,msg:(C==null?void 0:C.msg)??"",globalScope:(C==null?void 0:C.pseudoToNative(C.globalScope.object))??{}})},[i,s]);return reactExports.useEffect(()=>{N()},[N,i,s]),{step:()=>{f==null||f.step(),_({highlightedBlock:(f==null?void 0:f.highlightedBlock)??"",running:(f==null?void 0:f.running)??!1,correct:(f==null?void 0:f.correct)??!1,msg:(f==null?void 0:f.msg)??"",globalScope:(f==null?void 0:f.pseudoToNative(f.globalScope.object))??{}})},reset:N,...b}}function le(i,s){return reactExports.useEffect(()=>{return window.addEventListener("message",f),()=>window.removeEventListener("message",f);function f(v){v.source===i&&s(v.data)}},[i,s]),reactExports.useCallback(f=>i==null?void 0:i.postMessage(f,"*"),[i])}function ce({toolbox:i,initialBlocks:s,testcases:f,debug:v,customBlocks:b,Visualizer:_}){var Se;let{student:N,setStudent:C,terminated:D}=h(),{registerProblem:c}=j(),{id:o,points:a}=O();reactExports.useEffect(()=>{for(let se=0;se<f.length;se++)c(`${o}.${se+1}`,{type:"text",pointsCorrect:a[0],pointsBlank:a[1],pointsWrong:a[2],optionsCorrect:["✅"]})},[c,o,f,a]);let d=(Se=N.extraData)==null?void 0:Se[`blockly-${o}`],g=d?JSON.parse(d):s??lt,R=async se=>{await C({...N,extraData:{...N.extraData,[`blockly-${o}`]:JSON.stringify(se)}})},[S,y]=reactExports.useState(null),[w,G]=reactExports.useState(!1),[W,ie]=reactExports.useState(!0),[Q,ee]=reactExports.useState(!1),[Ee,te]=reactExports.useState({}),[we,je]=reactExports.useState(""),[Le,Xe]=reactExports.useState(""),[De,Ne]=reactExports.useState(0),[$e,me]=reactExports.useState(()=>range(f.length).map(se=>({correct:!1,index:se}))),{step:wt,reset:it,running:mt,highlightedBlock:Pt,globalScope:Be,correct:st,msg:ct}=ae(Le,f[De]),Ot=reactExports.useMemo(()=>Object.fromEntries(Object.entries(Ee).map(([se,be])=>[be,Be[se]])),[Ee,Be]),gt=reactExports.useMemo(()=>_t(ot.array(),b,{prefix:"Invalid custom block definition"}),[b]),bt=le(S==null?void 0:S.contentWindow,se=>{switch(se.cmd){case"init":{bt({cmd:"init",toolbox:i??at,initialBlocks:g,debug:v,customBlocks:gt,readonly:D});break}case"ready":{G(!0);break}case"blocks":{R(se.blocks),v!=null&&v.logBlocks&&console.info(JSON.stringify(se.blocks,void 0,2));break}case"code":{Xe(se.code),ee(!1),ie(!0),v!=null&&v.logJs&&console.info(se.code);break}case"variables":{te(se.variablesMapping),v!=null&&v.logVariables&&console.info(se.variablesMapping);break}case"svg":{je(se.svg);break}}});reactExports.useEffect(()=>{bt({cmd:"highlight",highlightedBlock:Pt})},[bt,Pt]),reactExports.useEffect(()=>{mt||ee(!1)},[mt]);let Tt=reactExports.useRef(D);reactExports.useEffect(()=>{var se;Tt.current!==D&&(Tt.current=D,G(!1),(se=S==null?void 0:S.contentWindow)==null||se.location.reload())},[D,S==null?void 0:S.contentWindow]);let[Ct,Gt]=reactExports.useState(3);reactExports.useEffect(()=>{let se=[5e3,2e3,1e3,500,200,100,10];if(Q){let be=setInterval(wt,se[Ct]);return()=>clearInterval(be)}},[wt,Ct,Q]);let vt=async()=>{let se=await Promise.all(f.map(async(Ce,ht)=>{let Pe=new T(Le,Ce);for(let Me=0;Pe.running;Me++)Pe.step(),Me%64===0&&await new Promise(Ke=>setTimeout(Ke,5));return{...Pe,index:ht}}));me(se),ie(!1);let be={...N.answers};for(let Ce=0;Ce<f.length;Ce++)be[`${o}.${Ce+1}`]=se[Ce].correct?"✅":"❌";await C({...N,answers:be})},[Lt,xe]=reactExports.useState(!1);return reactExports.useEffect(()=>xe(!1),[ct]),P.createElement("div",{className:j$2("not-prose relative inset-y-0 left-1/2 w-screen -translate-x-1/2 p-2 pt-8","flex flex-col-reverse items-start justify-between gap-6 overflow-x-hidden lg:flex-row")},P.createElement("div",{className:"flex h-full max-h-[min(720px,90vh)] basis-[min(auto,50%)] flex-col gap-6 self-stretch overflow-x-hidden"},P.createElement("div",{className:"join join-horizontal"},$e.map(({index:se,correct:be,msg:Ce})=>P.createElement("button",{key:se,onClick:()=>{Ne(se),ee(!1)},className:j$2("btn join-item z-10 rounded-lg",!W&&"tooltip",se===De&&"btn-info"),"data-tip":Ce},P.createElement("div",{className:"flex items-center gap-3"},P.createElement("p",null,"Livello ",se+1),W?P.createElement(CircleHelp,{size:32}):be?P.createElement(CircleCheck,{size:32,className:"fill-success stroke-success-content"}):P.createElement(CircleX,{size:32,className:"fill-error stroke-error-content"}))))),P.createElement("div",{className:"relative flex flex-col overflow-hidden shadow-xl"},P.createElement("div",{className:"overflow-auto rounded-xl border-2 border-[#c6c6c6] bg-white [color-scheme:light]"},_&&P.createElement(_,{variables:{blocklyVariables:Ot,hiddenState:Be==null?void 0:Be.hiddenState,msg:ct}}),ct&&!Lt&&P.createElement("div",{className:"absolute inset-x-0 bottom-0 z-50 p-4"},P.createElement("div",{role:"alert",className:j$2("alert",st?"alert-success":"alert-error")},st?P.createElement(CircleCheckBig,null):P.createElement(TriangleAlert,null),P.createElement("span",null,ct),P.createElement("button",{onClick:()=>xe(!0),"aria-label":"Nascondi messaggio"},P.createElement(MessageSquareOff,null))))))),P.createElement("div",{className:"flex min-h-[min(720px,90vh)] flex-[1_0_50%] flex-col-reverse gap-6 self-stretch lg:flex-col"},P.createElement("div",{className:"flex gap-6"},P.createElement("div",{className:"join join-horizontal"},P.createElement("div",{className:"join-item tooltip","data-tip":"Esegui/pausa"},P.createElement("button",{className:"btn btn-info rounded-[inherit]",disabled:!mt||W,onClick:()=>ee(!Q),"aria-label":"Esugui un blocco"},Q?P.createElement(Pause,{className:"size-6"}):P.createElement(Play,{className:"size-6"}))),P.createElement("div",{className:"join-item tooltip","data-tip":"Esegui un blocco"},P.createElement("button",{className:"btn btn-info rounded-[inherit]",disabled:!mt||W,onClick:wt,"aria-label":"Esugui un blocco"},P.createElement(SkipForward,{className:"size-6"}))),P.createElement("div",{className:"join-item tooltip","data-tip":"Esegui da capo"},P.createElement("button",{className:"btn btn-info rounded-[inherit]","aria-label":"Esegui da capo",disabled:W,onClick:()=>{it(),ee(!1)}},P.createElement(RotateCcw,{className:"size-6"})))),P.createElement("div",{className:"tooltip","data-tip":"Correggi la soluzione"},P.createElement("button",{className:"btn btn-success","aria-label":"Correggi la soluzione",disabled:!W||!w,onClick:vt},P.createElement(Send,{className:"size-6"}))),P.createElement("div",null,P.createElement("input",{className:"range",type:"range",min:"0",max:"6",value:Ct,onChange:se=>Gt(+se.target.value),"aria-label":"Velocità di esecuzione"}),P.createElement("div",{className:"flex w-full justify-between px-2 text-xs"},P.createElement("span",null,"Lento"),P.createElement("span",null,"Veloce"))),!1),P.createElement($o,{ref:y,ready:w})))}var $o=reactExports.forwardRef(function({ready:i},s){return P.createElement("div",{className:"relative flex grow flex-col overflow-hidden rounded-xl border-2 border-[#c6c6c6]"},P.createElement("iframe",{ref:s,src:new URL("iframe-B7hT0YUN.html",import.meta.url).href,className:"grow",title:"Area di lavoro di Blockly",loading:"lazy"}),!i&&P.createElement("div",{className:"absolute inset-0 z-50 bg-white text-slate-700"},P.createElement(Ie,null)))});function de({src:i,alt:s,title:f}){return P.createElement("img",{className:"max-h-[90vh] min-w-0 p-4 first:rounded-l-xl last:rounded-r-xl dark:bg-white print:m-0 print:max-h-[60vh] print:max-w-full",src:i.src,width:i.width,height:i.height,alt:s,title:f,style:{maxWidth:`min(100%, calc(90vh * ${i.width} / ${i.height}))`}})}function ue({display:i,children:s}){let f=reactExports.useRef(null);return reactExports.useEffect(()=>{f.current&&katex.render(s,f.current,{displayMode:i})},[f,s,i]),P.createElement("span",{ref:f})}function dt({children:i}){return i}var Y={Answer:Qe,AnswerGroup:Ye,Blockly:ce,Code:V,Contest:Ue,Explanation:qe,Image:de,MathExpr:reactExports.memo(ue),OpenAnswer:Ze,Problem:He,Section:dt,SubProblem:Ge};function pe({children:i}){return P.createElement(MDXProvider,{components:Y},P.createElement("div",{className:j$2("prose prose-lg mx-auto my-5 px-4 print:prose-sm screen:pb-10 lg:max-w-4xl print:max-w-full print:text-xs","prose-table:text-center print:prose-headings:mt-2 print:prose-hr:my-4","prose-headings:break-after-avoid prose-p:break-inside-avoid prose-ul:break-before-avoid prose-ul:break-inside-avoid")},i))}function pt({children:i}){var a,d;let s=reactExports.useRef(null),{contest:f,student:v,reset:b,participation:_,terminated:N,logout:C}=h(),D=(a=v.personalInformation)==null?void 0:a.name,c=(d=v.personalInformation)==null?void 0:d.surname,o=Math.round(sumBy(Object.values(v.answers??{}),g=>+!!g)/f.problemIds.length*100);return reactExports.useEffect(()=>{},[]),P.createElement(po,null,P.createElement(oe$1,{user:`${D} ${c}`,userIcon:User,logout:C,color:"bg-base-300 text-base-content",flow:"flex-row"},P.createElement("div",{className:"h-full gap-3"},P.createElement(V$1,{className:"hidden w-20 sm:block",percentage:o},o,"%"),P.createElement("div",{className:"flex-none px-3"},N||!_.startingTime||!f.duration?P.createElement("span",{className:"font-mono"},"00:00"):P.createElement(ke,{startTime:_.startingTime,duration:f.duration})),P.createElement("div",{className:"h-full flex-none py-0.5"},N&&b?P.createElement("button",{className:"btn btn-warning btn-sm h-full",onClick:b},"Ricomincia"):P.createElement("button",{className:"btn btn-success btn-sm h-full",disabled:N||!_.startingTime,onClick:()=>{var g;return(g=s.current)==null?void 0:g.showModal()}},"Termina")))),P.createElement(Ko,{ref:s}),P.createElement(pe,null,f.longName&&P.createElement("h1",{className:"text-pretty"},f.longName),i))}var Ko=reactExports.forwardRef(function(i,s){let{student:f,setStudent:v,submit:b}=h(),_=H();return P.createElement(Te,{ref:s,title:"Confermi di voler terminare?"},P.createElement("p",null,"Confermando non potrai più modificare le tue risposte."),P.createElement(U,{className:"mt-3"},P.createElement(F,{className:"btn-info"},"Annulla"),P.createElement(F,{className:"btn-error",onClick:async()=>{var N;await v({...f,submittedAt:_()}),await(b==null?void 0:b()),s&&"current"in s&&((N=s.current)==null||N.close())}},"Conferma")))}),fe=reactExports.createContext({});fe.displayName="StudentContext";function A({children:i,...s}){let f={...s,terminated:s.terminated||!!s.student.submittedAt};return P.createElement(fe.Provider,{value:f},P.createElement(pt,null,i))}function h(){return reactExports.useContext(fe)}function ws({contestName:i,duration:s,questionCount:f,children:v}){let[b,_]=ar("student",{id:"",personalInformation:{name:"Utente",surname:"anonimo"},answers:{},variant:"0"}),N=reactExports.useMemo(()=>b.startedAt&&addMinutes(b.startedAt,s),[b.startedAt,s]),C=Z(N),D={id:"",name:i,longName:i,problemIds:range(f??0).map(a=>a.toString()),duration:s,personalInformation:[],hasVariants:!0,hasOnline:!0,hasPdf:!0,allowRestart:!0,allowStudentImport:!0,allowStudentEdit:!0,allowStudentDelete:!0,allowAnswerEdit:!0,statementVersion:1},c={id:"",schoolId:"",contestId:"",name:"",teacher:"",startingTime:b.startedAt,finalized:!1},o=reactExports.useCallback(async()=>{_(a=>({...a,answers:{},extraData:{},startedAt:void 0,submittedAt:void 0}))},[_]);return P.createElement(A,{contest:D,participation:c,student:b,setStudent:async a=>_(a),reset:o,terminated:C},v)}function ar(i,s,f){let v=`${window.location.pathname}#${i}`,b=localStorage.getItem(v),[_,N]=reactExports.useState(b?(f??JSON.parse)(b):s),C=reactExports.useCallback(D=>{N(c=>{let o=isFunction$1(D)?D(c):D;return o===void 0?localStorage.removeItem(v):localStorage.setItem(v,JSON.stringify(o)),o})},[v]);return[_,C]}const OlinfoAuth=({children:i,...s})=>jsxRuntimeExports.jsx(ws,{...s,children:jsxRuntimeExports.jsx(OlinfoWrapper,{children:i})});function OlinfoWrapper({children:i}){const{student:s,setStudent:f}=h(),[v,b]=reactExports.useState();return reactExports.useEffect(()=>{getUser().then(b).catch(_=>console.log(`Error: failed to get user: ${_.message}`))},[]),reactExports.useEffect(()=>{const _=s.personalInformation;v&&(v.name!==_.name||v.surname!==_.surname)&&f({...s,personalInformation:{..._,...v}})},[s,v]),i}async function getUser(){const s=cookie.parse(window.document.cookie).training_token;if(!s)throw new Error("Not logged in");const v=jwtDecode(s).username,_=await(await fetch("https://training.olinfo.it/api/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"get",username:v})})).json();return{name:_.first_name,surname:_.last_name}}export{OlinfoAuth as O,j$2 as j,range as r,useMDXComponents as u};
//# sourceMappingURL=olinfo-auth-CoKTiOIu.js.map
