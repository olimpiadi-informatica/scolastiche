/*! For licenses information, see LICENSES.txt */
"use client";import{a as toNumber,i as isObject,b as baseGetTag,r as root,d as isObjectLike,f as freeGlobal,e as isSymbol,S as Symbol$1,g as createLucideIcon,j as jsxRuntimeExports,E as Et,h as Dn,H as He,l as Lo,R as Ro,s as se,V as Vn,$ as $n,K as Kn,m as f$2,n as H,_,Y as Yt,Z as Zt,o as _t,p as jt,B as B$2,q as Vt,u as addMinutes,c as clsx,T as TriangleAlert}from"../_virtual_quizms-routes-09086dad.js";import{r as reactExports}from"../s/00dd80a9-react-dom.js";import{z as z$1}from"../t/0aea33bc-zod.js";import{i as isArray,t as toString}from"../y/339f9ca0-toString.js";import{c as commonjsGlobal,g as getDefaultExportFromCjs}from"../v/e5f47ee0-commonjs-helper.js";import{k as katex}from"../h/b7b1c18b-katex.js";var INFINITY$1=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(r){if(!r)return r===0?r:0;if(r=toNumber(r),r===INFINITY$1||r===-INFINITY$1){var s=r<0?-1:1;return s*MAX_INTEGER}return r===r?r:0}function identity(r){return r}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(r){if(!isObject(r))return!1;var s=baseGetTag(r);return s==funcTag$1||s==genTag||s==asyncTag||s==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var r=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function isMasked(r){return!!maskSrcKey&&maskSrcKey in r}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(r){if(r!=null){try{return funcToString$1.call(r)}catch{}try{return r+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$9=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$7=objectProto$9.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$7).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(r){if(!isObject(r)||isMasked(r))return!1;var s=isFunction(r)?reIsNative:reIsHostCtor;return s.test(toSource(r))}function getValue(r,s){return r?.[s]}function getNative(r,s){var c=getValue(r,s);return baseIsNative(c)?c:void 0}var WeakMap=getNative(root,"WeakMap");function noop(){}var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(r,s){var c=typeof r;return s=s??MAX_SAFE_INTEGER$1,!!s&&(c=="number"||c!="symbol"&&reIsUint.test(r))&&r>-1&&r%1==0&&r<s}function eq(r,s){return r===s||r!==r&&s!==s}var MAX_SAFE_INTEGER=9007199254740991;function isLength(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=MAX_SAFE_INTEGER}function isArrayLike(r){return r!=null&&isLength(r.length)&&!isFunction(r)}function isIterateeCall(r,s,c){if(!isObject(c))return!1;var O=typeof s;return(O=="number"?isArrayLike(c)&&isIndex(s,c.length):O=="string"&&s in c)?eq(c[s],r):!1}var objectProto$8=Object.prototype;function isPrototype(r){var s=r&&r.constructor,c=typeof s=="function"&&s.prototype||objectProto$8;return r===c}function baseTimes(r,s){for(var c=-1,O=Array(r);++c<r;)O[c]=s(c);return O}var argsTag$2="[object Arguments]";function baseIsArguments(r){return isObjectLike(r)&&baseGetTag(r)==argsTag$2}var objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(r){return isObjectLike(r)&&hasOwnProperty$6.call(r,"callee")&&!propertyIsEnumerable$1.call(r,"callee")};function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer=moduleExports$1?root.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$2="[object Object]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$1]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$2]=typedArrayTags[dateTag$1]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag$1]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag$1]=typedArrayTags[setTag$2]=typedArrayTags[stringTag$1]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(r){return isObjectLike(r)&&isLength(r.length)&&!!typedArrayTags[baseGetTag(r)]}function baseUnary(r){return function(s){return r(s)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var r=freeModule&&freeModule.require&&freeModule.require("util").types;return r||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function arrayLikeKeys(r,s){var c=isArray(r),O=!c&&isArguments(r),S=!c&&!O&&isBuffer(r),j=!c&&!O&&!S&&isTypedArray(r),k=c||O||S||j,L=k?baseTimes(r.length,String):[],F=L.length;for(var i in r)hasOwnProperty$5.call(r,i)&&!(k&&(i=="length"||S&&(i=="offset"||i=="parent")||j&&(i=="buffer"||i=="byteLength"||i=="byteOffset")||isIndex(i,F)))&&L.push(i);return L}function overArg(r,s){return function(c){return r(s(c))}}var nativeKeys=overArg(Object.keys,Object),objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function baseKeys(r){if(!isPrototype(r))return nativeKeys(r);var s=[];for(var c in Object(r))hasOwnProperty$4.call(r,c)&&c!="constructor"&&s.push(c);return s}function keys(r){return isArrayLike(r)?arrayLikeKeys(r):baseKeys(r)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(r,s){if(isArray(r))return!1;var c=typeof r;return c=="number"||c=="symbol"||c=="boolean"||r==null||isSymbol(r)?!0:reIsPlainProp.test(r)||!reIsDeepProp.test(r)||s!=null&&r in Object(s)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(r){var s=this.has(r)&&delete this.__data__[r];return this.size-=s?1:0,s}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function hashGet(r){var s=this.__data__;if(nativeCreate){var c=s[r];return c===HASH_UNDEFINED$2?void 0:c}return hasOwnProperty$3.call(s,r)?s[r]:void 0}var objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function hashHas(r){var s=this.__data__;return nativeCreate?s[r]!==void 0:hasOwnProperty$2.call(s,r)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(r,s){var c=this.__data__;return this.size+=this.has(r)?0:1,c[r]=nativeCreate&&s===void 0?HASH_UNDEFINED$1:s,this}function Hash(r){var s=-1,c=r==null?0:r.length;for(this.clear();++s<c;){var O=r[s];this.set(O[0],O[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(r,s){for(var c=r.length;c--;)if(eq(r[c][0],s))return c;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(r){var s=this.__data__,c=assocIndexOf(s,r);if(c<0)return!1;var O=s.length-1;return c==O?s.pop():splice.call(s,c,1),--this.size,!0}function listCacheGet(r){var s=this.__data__,c=assocIndexOf(s,r);return c<0?void 0:s[c][1]}function listCacheHas(r){return assocIndexOf(this.__data__,r)>-1}function listCacheSet(r,s){var c=this.__data__,O=assocIndexOf(c,r);return O<0?(++this.size,c.push([r,s])):c[O][1]=s,this}function ListCache(r){var s=-1,c=r==null?0:r.length;for(this.clear();++s<c;){var O=r[s];this.set(O[0],O[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function isKeyable(r){var s=typeof r;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?r!=="__proto__":r===null}function getMapData(r,s){var c=r.__data__;return isKeyable(s)?c[typeof s=="string"?"string":"hash"]:c.map}function mapCacheDelete(r){var s=getMapData(this,r).delete(r);return this.size-=s?1:0,s}function mapCacheGet(r){return getMapData(this,r).get(r)}function mapCacheHas(r){return getMapData(this,r).has(r)}function mapCacheSet(r,s){var c=getMapData(this,r),O=c.size;return c.set(r,s),this.size+=c.size==O?0:1,this}function MapCache(r){var s=-1,c=r==null?0:r.length;for(this.clear();++s<c;){var O=r[s];this.set(O[0],O[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(r,s){if(typeof r!="function"||s!=null&&typeof s!="function")throw new TypeError(FUNC_ERROR_TEXT);var c=function(){var O=arguments,S=s?s.apply(this,O):O[0],j=c.cache;if(j.has(S))return j.get(S);var k=r.apply(this,O);return c.cache=j.set(S,k)||j,k};return c.cache=new(memoize.Cache||MapCache),c}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(r){var s=memoize(r,function(O){return c.size===MAX_MEMOIZE_SIZE&&c.clear(),O}),c=s.cache;return s}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(r){var s=[];return r.charCodeAt(0)===46&&s.push(""),r.replace(rePropName,function(c,O,S,j){s.push(S?j.replace(reEscapeChar,"$1"):O||c)}),s});function castPath(r,s){return isArray(r)?r:isKey(r,s)?[r]:stringToPath(toString(r))}var INFINITY=1/0;function toKey(r){if(typeof r=="string"||isSymbol(r))return r;var s=r+"";return s=="0"&&1/r==-INFINITY?"-0":s}function baseGet(r,s){s=castPath(s,r);for(var c=0,O=s.length;r!=null&&c<O;)r=r[toKey(s[c++])];return c&&c==O?r:void 0}function get(r,s,c){var O=r==null?void 0:baseGet(r,s);return O===void 0?c:O}function arrayPush(r,s){for(var c=-1,O=s.length,S=r.length;++c<O;)r[S+c]=s[c];return r}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(r){var s=this.__data__,c=s.delete(r);return this.size=s.size,c}function stackGet(r){return this.__data__.get(r)}function stackHas(r){return this.__data__.has(r)}var LARGE_ARRAY_SIZE=200;function stackSet(r,s){var c=this.__data__;if(c instanceof ListCache){var O=c.__data__;if(!Map||O.length<LARGE_ARRAY_SIZE-1)return O.push([r,s]),this.size=++c.size,this;c=this.__data__=new MapCache(O)}return c.set(r,s),this.size=c.size,this}function Stack(r){var s=this.__data__=new ListCache(r);this.size=s.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayFilter(r,s){for(var c=-1,O=r==null?0:r.length,S=0,j=[];++c<O;){var k=r[c];s(k,c,r)&&(j[S++]=k)}return j}function stubArray(){return[]}var objectProto$2=Object.prototype,propertyIsEnumerable=objectProto$2.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(r){return r==null?[]:(r=Object(r),arrayFilter(nativeGetSymbols(r),function(s){return propertyIsEnumerable.call(r,s)}))}:stubArray;function baseGetAllKeys(r,s,c){var O=s(r);return isArray(r)?O:arrayPush(O,c(r))}function getAllKeys(r){return baseGetAllKeys(r,keys,getSymbols)}var DataView=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set=getNative(root,"Set"),mapTag$1="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag="[object WeakMap]",dataViewTag$1="[object DataView]",dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag$1||Map&&getTag(new Map)!=mapTag$1||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag$1||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(r){var s=baseGetTag(r),c=s==objectTag$1?r.constructor:void 0,O=c?toSource(c):"";if(O)switch(O){case dataViewCtorString:return dataViewTag$1;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}return s});var Uint8Array=root.Uint8Array,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(r){return this.__data__.set(r,HASH_UNDEFINED),this}function setCacheHas(r){return this.__data__.has(r)}function SetCache(r){var s=-1,c=r==null?0:r.length;for(this.__data__=new MapCache;++s<c;)this.add(r[s])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(r,s){for(var c=-1,O=r==null?0:r.length;++c<O;)if(s(r[c],c,r))return!0;return!1}function cacheHas(r,s){return r.has(s)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(r,s,c,O,S,j){var k=c&COMPARE_PARTIAL_FLAG$5,L=r.length,F=s.length;if(L!=F&&!(k&&F>L))return!1;var i=j.get(r),t=j.get(s);if(i&&t)return i==s&&t==r;var e=-1,o=!0,p=c&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(j.set(r,s),j.set(s,r);++e<L;){var E=r[e],y=s[e];if(O)var u=k?O(y,E,e,s,r,j):O(E,y,e,r,s,j);if(u!==void 0){if(u)continue;o=!1;break}if(p){if(!arraySome(s,function(m,A){if(!cacheHas(p,A)&&(E===m||S(E,m,c,O,j)))return p.push(A)})){o=!1;break}}else if(!(E===y||S(E,y,c,O,j))){o=!1;break}}return j.delete(r),j.delete(s),o}function mapToArray(r){var s=-1,c=Array(r.size);return r.forEach(function(O,S){c[++s]=[S,O]}),c}function setToArray(r){var s=-1,c=Array(r.size);return r.forEach(function(O){c[++s]=O}),c}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(r,s,c,O,S,j,k){switch(c){case dataViewTag:if(r.byteLength!=s.byteLength||r.byteOffset!=s.byteOffset)return!1;r=r.buffer,s=s.buffer;case arrayBufferTag:return!(r.byteLength!=s.byteLength||!j(new Uint8Array(r),new Uint8Array(s)));case boolTag:case dateTag:case numberTag:return eq(+r,+s);case errorTag:return r.name==s.name&&r.message==s.message;case regexpTag:case stringTag:return r==s+"";case mapTag:var L=mapToArray;case setTag:var F=O&COMPARE_PARTIAL_FLAG$4;if(L||(L=setToArray),r.size!=s.size&&!F)return!1;var i=k.get(r);if(i)return i==s;O|=COMPARE_UNORDERED_FLAG$2,k.set(r,s);var t=equalArrays(L(r),L(s),O,S,j,k);return k.delete(r),t;case symbolTag:if(symbolValueOf)return symbolValueOf.call(r)==symbolValueOf.call(s)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects(r,s,c,O,S,j){var k=c&COMPARE_PARTIAL_FLAG$3,L=getAllKeys(r),F=L.length,i=getAllKeys(s),t=i.length;if(F!=t&&!k)return!1;for(var e=F;e--;){var o=L[e];if(!(k?o in s:hasOwnProperty$1.call(s,o)))return!1}var p=j.get(r),E=j.get(s);if(p&&E)return p==s&&E==r;var y=!0;j.set(r,s),j.set(s,r);for(var u=k;++e<F;){o=L[e];var m=r[o],A=s[o];if(O)var U=k?O(A,m,o,s,r,j):O(m,A,o,r,s,j);if(!(U===void 0?m===A||S(m,A,c,O,j):U)){y=!1;break}u||(u=o=="constructor")}if(y&&!u){var Y=r.constructor,V=s.constructor;Y!=V&&"constructor"in r&&"constructor"in s&&!(typeof Y=="function"&&Y instanceof Y&&typeof V=="function"&&V instanceof V)&&(y=!1)}return j.delete(r),j.delete(s),y}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep(r,s,c,O,S,j){var k=isArray(r),L=isArray(s),F=k?arrayTag:getTag(r),i=L?arrayTag:getTag(s);F=F==argsTag?objectTag:F,i=i==argsTag?objectTag:i;var t=F==objectTag,e=i==objectTag,o=F==i;if(o&&isBuffer(r)){if(!isBuffer(s))return!1;k=!0,t=!1}if(o&&!t)return j||(j=new Stack),k||isTypedArray(r)?equalArrays(r,s,c,O,S,j):equalByTag(r,s,F,c,O,S,j);if(!(c&COMPARE_PARTIAL_FLAG$2)){var p=t&&hasOwnProperty.call(r,"__wrapped__"),E=e&&hasOwnProperty.call(s,"__wrapped__");if(p||E){var y=p?r.value():r,u=E?s.value():s;return j||(j=new Stack),S(y,u,c,O,j)}}return o?(j||(j=new Stack),equalObjects(r,s,c,O,S,j)):!1}function baseIsEqual(r,s,c,O,S){return r===s?!0:r==null||s==null||!isObjectLike(r)&&!isObjectLike(s)?r!==r&&s!==s:baseIsEqualDeep(r,s,c,O,baseIsEqual,S)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(r,s,c,O){var S=c.length,j=S;if(r==null)return!j;for(r=Object(r);S--;){var k=c[S];if(k[2]?k[1]!==r[k[0]]:!(k[0]in r))return!1}for(;++S<j;){k=c[S];var L=k[0],F=r[L],i=k[1];if(k[2]){if(F===void 0&&!(L in r))return!1}else{var t=new Stack,e;if(!(e===void 0?baseIsEqual(i,F,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,O,t):e))return!1}}return!0}function isStrictComparable(r){return r===r&&!isObject(r)}function getMatchData(r){for(var s=keys(r),c=s.length;c--;){var O=s[c],S=r[O];s[c]=[O,S,isStrictComparable(S)]}return s}function matchesStrictComparable(r,s){return function(c){return c==null?!1:c[r]===s&&(s!==void 0||r in Object(c))}}function baseMatches(r){var s=getMatchData(r);return s.length==1&&s[0][2]?matchesStrictComparable(s[0][0],s[0][1]):function(c){return c===r||baseIsMatch(c,r,s)}}function baseHasIn(r,s){return r!=null&&s in Object(r)}function hasPath(r,s,c){s=castPath(s,r);for(var O=-1,S=s.length,j=!1;++O<S;){var k=toKey(s[O]);if(!(j=r!=null&&c(r,k)))break;r=r[k]}return j||++O!=S?j:(S=r==null?0:r.length,!!S&&isLength(S)&&isIndex(k,S)&&(isArray(r)||isArguments(r)))}function hasIn(r,s){return r!=null&&hasPath(r,s,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(r,s){return isKey(r)&&isStrictComparable(s)?matchesStrictComparable(toKey(r),s):function(c){var O=get(c,r);return O===void 0&&O===s?hasIn(c,r):baseIsEqual(s,O,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(r){return function(s){return s?.[r]}}function basePropertyDeep(r){return function(s){return baseGet(s,r)}}function property(r){return isKey(r)?baseProperty(toKey(r)):basePropertyDeep(r)}function baseIteratee(r){return typeof r=="function"?r:r==null?identity:typeof r=="object"?isArray(r)?baseMatchesProperty(r[0],r[1]):baseMatches(r):property(r)}function isEqual(r,s){return baseIsEqual(r,s)}function baseSum(r,s){for(var c,O=-1,S=r.length;++O<S;){var j=s(r[O]);j!==void 0&&(c=c===void 0?j:c+j)}return c}var nativeCeil=Math.ceil,nativeMax=Math.max;function baseRange(r,s,c,O){for(var S=-1,j=nativeMax(nativeCeil((s-r)/(c||1)),0),k=Array(j);j--;)k[++S]=r,r+=c;return k}function createRange(r){return function(s,c,O){return O&&typeof O!="number"&&isIterateeCall(s,c,O)&&(c=O=void 0),s=toFinite(s),c===void 0?(c=s,s=0):c=toFinite(c),O=O===void 0?s<c?1:-1:toFinite(O),baseRange(s,c,O)}}var range=createRange();function sumBy(r,s){return r&&r.length?baseSum(r,baseIteratee(s)):0}const CircleCheck=createLucideIcon("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const CircleHelp=createLucideIcon("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const CircleX=createLucideIcon("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const FileChartColumn=createLucideIcon("FileChartColumn",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-1",key:"zg0ygc"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"M16 18v-3",key:"j5jt4h"}]]);const LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const MessageSquareOff=createLucideIcon("MessageSquareOff",[["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M3.6 3.6c-.4.3-.6.8-.6 1.4v16l4-4h10",key:"pwpm4a"}]]);const Pause=createLucideIcon("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const Play=createLucideIcon("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const RotateCcw=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const RotateCw=createLucideIcon("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);const Send=createLucideIcon("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const SkipForward=createLucideIcon("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ErrorBoundaryContext=reactExports.createContext(null),initialState={didCatch:!1,error:null};class ErrorBoundary extends reactExports.Component{constructor(s){super(s),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=initialState}static getDerivedStateFromError(s){return{didCatch:!0,error:s}}resetErrorBoundary(){const{error:s}=this.state;if(s!==null){for(var c,O,S=arguments.length,j=new Array(S),k=0;k<S;k++)j[k]=arguments[k];(c=(O=this.props).onReset)===null||c===void 0||c.call(O,{args:j,reason:"imperative-api"}),this.setState(initialState)}}componentDidCatch(s,c){var O,S;(O=(S=this.props).onError)===null||O===void 0||O.call(S,s,c)}componentDidUpdate(s,c){const{didCatch:O}=this.state,{resetKeys:S}=this.props;if(O&&c.error!==null&&hasArrayChanged(s.resetKeys,S)){var j,k;(j=(k=this.props).onReset)===null||j===void 0||j.call(k,{next:S,prev:s.resetKeys,reason:"keys"}),this.setState(initialState)}}render(){const{children:s,fallbackRender:c,FallbackComponent:O,fallback:S}=this.props,{didCatch:j,error:k}=this.state;let L=s;if(j){const F={error:k,resetErrorBoundary:this.resetErrorBoundary};if(typeof c=="function")L=c(F);else if(O)L=reactExports.createElement(O,F);else if(S===null||reactExports.isValidElement(S))L=S;else throw k}return reactExports.createElement(ErrorBoundaryContext.Provider,{value:{didCatch:j,error:k,resetErrorBoundary:this.resetErrorBoundary}},L)}}function hasArrayChanged(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return r.length!==s.length||r.some((c,O)=>!Object.is(c,s[O]))}function assertErrorBoundaryContext(r){if(r==null||typeof r.didCatch!="boolean"||typeof r.resetErrorBoundary!="function")throw new Error("ErrorBoundaryContext not found")}function useErrorBoundary(){const r=reactExports.useContext(ErrorBoundaryContext);assertErrorBoundaryContext(r);const[s,c]=reactExports.useState({error:null,hasError:!1}),O=reactExports.useMemo(()=>({resetBoundary:()=>{r.resetErrorBoundary(),c({error:null,hasError:!1})},showBoundary:S=>c({error:S,hasError:!0})}),[r.resetErrorBoundary]);if(s.hasError)throw s.error;return O}var a=!1,n=class extends Error{constructor(r,s,c){super(r,{cause:c}),this.frame=s}};function x({children:r,...s}){return jsxRuntimeExports.jsx(ErrorBoundary,{...s,FallbackComponent:d,children:r})}function d({error:r,resetErrorBoundary:s}){return reactExports.useEffect(()=>()=>{},[]),jsxRuntimeExports.jsxs("div",{className:"not-prose text-base-content text-base flex w-full grow flex-col items-center justify-center p-4 gap-4",children:[jsxRuntimeExports.jsxs("p",{className:"break-words text-center text-error font-bold",children:["Errore: ",r.message]}),s&&jsxRuntimeExports.jsx(Et,{className:"btn-error",icon:RotateCw,onClick:()=>s(),children:"Ricarica"}),a]})}var l=z$1.object({name:z$1.string(),label:z$1.string(),size:z$1.enum(["xs","sm","md","lg","xl"]).optional(),pinned:z$1.boolean().optional()}),I$1=l.extend({type:z$1.literal("text")}),D=l.extend({type:z$1.literal("number"),min:z$1.number().optional(),max:z$1.number().optional()}),z=l.extend({type:z$1.literal("date"),min:z$1.date(),max:z$1.date()});z$1.object({id:z$1.string(),name:z$1.string(),longName:z$1.string(),problemIds:z$1.coerce.string().array(),contestWindowStart:z$1.date().optional(),contestWindowEnd:z$1.date().optional(),duration:z$1.coerce.number().positive().optional(),statementVersion:z$1.number(),userData:z$1.array(z$1.discriminatedUnion("type",[I$1,D,z])),hasVariants:z$1.boolean(),hasOnline:z$1.boolean(),hasPdf:z$1.boolean(),allowRestart:z$1.boolean(),allowStudentImport:z$1.boolean(),allowStudentEdit:z$1.boolean(),allowAnswerEdit:z$1.boolean(),allowStudentDelete:z$1.boolean(),instructions:z$1.string().optional()});z$1.object({id:z$1.string(),contestId:z$1.string(),schema:z$1.record(z$1.object({type:z$1.enum(["text","number","points"]),originalId:z$1.coerce.string().optional(),optionsCorrect:z$1.string().array().optional(),optionsBlank:z$1.string().array().optional(),optionsWrong:z$1.string().array().optional(),pointsCorrect:z$1.number().optional(),pointsBlank:z$1.number().optional(),pointsWrong:z$1.number().optional()}))});z$1.object({id:z$1.string(),variant:z$1.string()});function P(r,s){if(r.absent||r.disabled)return;let c=r.answers;if(!s||!c)return;let O=0;for(let S in s){if(!(S in c))continue;let j=s[S],k=c[S]?.toString()?.trim(),L=$(j,k);if(L===void 0)return;O+=L}return O}function $(r,s){if(r.type==="points")return Number(s||0);if(!(r.pointsCorrect===void 0||r.pointsBlank===void 0||r.pointsWrong===void 0||r.optionsCorrect===void 0))return s===void 0||r.optionsBlank?.includes(s)?r.pointsBlank:r.optionsCorrect.includes(s)?r.pointsCorrect:r.pointsWrong}z$1.object({id:z$1.string(),createdAt:z$1.date(),contestIds:z$1.string().array(),level:z$1.enum(["info","warning","error"]),title:z$1.string(),body:z$1.string()});z$1.object({id:z$1.string(),schoolId:z$1.string(),contestId:z$1.string(),name:z$1.string(),teacher:z$1.string(),token:z$1.string().optional(),startingTime:z$1.date().optional(),endingTime:z$1.date().optional(),finalized:z$1.boolean().default(!1),pdfVariants:z$1.array(z$1.coerce.string()).optional()});z$1.object({id:z$1.string(),participationId:z$1.string(),contestId:z$1.string(),startingTime:z$1.date(),endingTime:z$1.date()});var b=z$1.object({uid:z$1.string(),userData:z$1.record(z$1.union([z$1.string(),z$1.number(),z$1.date()]).optional()),absent:z$1.boolean(),disabled:z$1.boolean(),participationId:z$1.string(),contestId:z$1.string(),token:z$1.string(),startedAt:z$1.date(),finishedAt:z$1.date(),variant:z$1.string(),answers:z$1.record(z$1.union([z$1.string(),z$1.number(),z$1.null()])),score:z$1.number(),maxScore:z$1.number(),extraData:z$1.record(z$1.any()),createdAt:z$1.coerce.date(),updatedAt:z$1.date()}).partial().extend({id:z$1.string()});z$1.object({id:z$1.string(),studentId:z$1.string()});z$1.object({id:z$1.string(),studentId:z$1.string(),participationId:z$1.string()});z$1.object({id:z$1.string(),studentId:z$1.string(),participationId:z$1.string(),token:z$1.string(),name:z$1.string(),surname:z$1.string()});z$1.object({id:z$1.string(),uid:z$1.string(),student:b,submittedAt:z$1.date().optional()});function B$1({children:r}){let s=reactExports.useRef(null),c=reactExports.useRef(null),{contest:O,student:S,schema:j,reset:k,participation:L,terminated:F}=f$1(),i=sumBy(Object.values(S.answers??{}),p=>+(p===0||!!p)),t=Math.max(Object.keys(j).length,1),e=Math.round(i/t*100),o=async()=>{let p=c.current;p&&(p.returnValue="0",p.showModal(),await new Promise(E=>{p.onclose=()=>E()}),p.returnValue==="1"&&s.current?.showModal())};return reactExports.useEffect(()=>{},[]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Vn,{color:"bg-base-300 text-base-content",children:[jsxRuntimeExports.jsx($n,{children:jsxRuntimeExports.jsx("div",{className:"flex items-center h-full font-bold",children:O.name})}),jsxRuntimeExports.jsx(Kn,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(f$2,{className:"hidden w-20 sm:block",percentage:e,children:[e,"%"]}),jsxRuntimeExports.jsx("div",{className:"px-3",children:F||!L.startingTime||!O.duration?jsxRuntimeExports.jsx("span",{className:"font-mono",children:"00:00"}):jsxRuntimeExports.jsx(H,{startTime:L.startingTime,duration:O.duration,noAnimation:!0})}),F&&k?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"tooltip tooltip-bottom h-full","data-tip":"Mostra risultati",children:jsxRuntimeExports.jsx(Et,{className:"btn-primary btn-sm h-full",onClick:()=>s.current?.showModal(),"aria-label":"Mostra risultati",children:jsxRuntimeExports.jsx(FileChartColumn,{})})}),jsxRuntimeExports.jsx("div",{className:"tooltip tooltip-bottom h-full","data-tip":"Ricomincia",children:jsxRuntimeExports.jsx(Et,{className:"btn-primary btn-sm h-full",onClick:k,"aria-label":"Ricomincia",children:jsxRuntimeExports.jsx(RotateCcw,{})})})]}):jsxRuntimeExports.jsx(Et,{className:"btn-primary btn-sm h-full",disabled:F||!L.startingTime,onClick:o,children:"Termina"}),jsxRuntimeExports.jsx(G,{})]})})]}),jsxRuntimeExports.jsx("div",{className:"mx-auto flex w-full max-w-screen-xl grow flex-col p-4 pb-8",children:jsxRuntimeExports.jsxs(x,{children:[jsxRuntimeExports.jsx(J,{ref:s,schema:j}),jsxRuntimeExports.jsx(K$1,{ref:c}),jsxRuntimeExports.jsxs(_,{children:[O.longName&&jsxRuntimeExports.jsx("h1",{className:"text-pretty",children:O.longName}),r]})]})})]})}function G(){let{student:r,logout:s}=f$1(),c=r.userData?.name,O=r.userData?.surname;return jsxRuntimeExports.jsxs(Yt,{className:"dropdown-end",children:[jsxRuntimeExports.jsx(Zt,{children:jsxRuntimeExports.jsxs("div",{className:"truncate uppercase",children:[c," ",O]})}),jsxRuntimeExports.jsx(_t,{children:jsxRuntimeExports.jsx(jt,{children:jsxRuntimeExports.jsxs("button",{type:"button",className:"flex justify-between gap-4",onClick:s,children:["Esci ",jsxRuntimeExports.jsx(LogOut,{size:20})]})})})]})}var J=reactExports.forwardRef(function({schema:r},s){let{student:c}=f$1(),O=Object.keys(r);O.sort((j,k)=>j.localeCompare(k,void 0,{numeric:!0}));let S=sumBy(Object.values(r),"pointsCorrect");return jsxRuntimeExports.jsxs(Dn,{ref:s,title:"Prova terminata",children:[jsxRuntimeExports.jsx("p",{children:"La prova è terminata."}),c.score!==void 0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("p",{children:["Hai ottenuto un punteggio di ",jsxRuntimeExports.jsx("b",{children:c.score})," su ",jsxRuntimeExports.jsx("b",{children:S}),"."]}),jsxRuntimeExports.jsxs("table",{className:"table table-sm text-center mt-4",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{scope:"col",children:"Domanda"}),jsxRuntimeExports.jsx("th",{scope:"col",children:"Risposta"}),jsxRuntimeExports.jsx("th",{scope:"col",children:"Soluzione"}),jsxRuntimeExports.jsx("th",{scope:"col",children:"Punteggio"})]})}),jsxRuntimeExports.jsx("tbody",{children:O.map(j=>{let k=c.answers?.[j]?.toString()?.trim(),L=r[j];return jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:j}),jsxRuntimeExports.jsx("td",{children:k??"-"}),jsxRuntimeExports.jsx("td",{children:L.optionsCorrect?.join(", ")}),jsxRuntimeExports.jsx("td",{children:$(L,k)})]},j)})})]})]})]})}),K$1=reactExports.forwardRef(function(r,s){let{student:c,setStudent:O,onSubmit:S}=f$1(),j=()=>{s&&"current"in s&&s.current?.close()};return jsxRuntimeExports.jsxs(Dn,{ref:s,title:"Confermi di voler terminare?",children:[jsxRuntimeExports.jsx("p",{children:"Confermando non potrai più modificare le tue risposte."}),jsxRuntimeExports.jsx(He,{onSubmit:async()=>{try{await O({...c,finishedAt:new Date}),await S?.(),s&&"current"in s&&s.current&&(s.current.returnValue="1")}finally{j()}},className:"!max-w-full",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[jsxRuntimeExports.jsx(Lo,{onClick:j,children:"Annulla"}),jsxRuntimeExports.jsx(Ro,{className:"btn-error",children:"Conferma"})]})})]})}),h=reactExports.createContext({});h.displayName="StudentContext";function vt$1({setStudent:r,children:s,student:c,...O}){let[S,j]=reactExports.useState({}),k=se(c.finishedAt)??!1,L={...O,student:c,setStudent:F=>r({...F,score:P(F,S)}),terminated:k,schema:S,registerSchema:j};return reactExports.useEffect(()=>{let F=0,i={...c.answers};for(let t in S)F+=S[t].pointsCorrect??0,i[t]??=null;if(F!==c.maxScore||!isEqual(i,c.answers)){let t={...c,maxScore:F,answers:i};t.score=P(t,S),r(t)}},[c,r,S]),jsxRuntimeExports.jsx(h.Provider,{value:L,children:jsxRuntimeExports.jsx(B$1,{children:s})})}function f$1(){return reactExports.useContext(h)}function f({contestName:r,contestLongName:s,duration:c,children:O}){let[S,j]=g({id:"",userData:{name:"Utente",surname:"anonimo"},answers:{},variant:"0"}),k={id:"",name:r,longName:s,problemIds:[],duration:c,userData:[],hasVariants:!0,hasOnline:!0,hasPdf:!0,allowRestart:!0,allowStudentImport:!0,allowStudentEdit:!0,allowStudentDelete:!0,allowAnswerEdit:!0,statementVersion:1},L={id:"",schoolId:"",contestId:"",name:"",teacher:"",startingTime:S.startedAt,finalized:!1},F=reactExports.useCallback(async()=>{j(i=>({...i,answers:{},extraData:{},startedAt:void 0,finishedAt:void 0}))},[j]);return jsxRuntimeExports.jsx(vt$1,{contest:k,participation:L,student:S,setStudent:j,reset:F,children:O})}function g(r){let s=window.location.pathname,[c,O]=reactExports.useState(()=>JSON.parse(localStorage.getItem("quizms")??"{}")[s]??r);return reactExports.useEffect(()=>{let S=JSON.parse(localStorage.getItem("quizms")??"{}");S[s]=c,localStorage.setItem("quizms",JSON.stringify(S))},[s,c]),[c,O]}var jsInterpreter={exports:{}},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(r,s){if(r.indexOf)return r.indexOf(s);for(var c=0;c<r.length;c++)if(r[c]===s)return c;return-1},Object_keys=function(r){if(Object.keys)return Object.keys(r);var s=[];for(var c in r)s.push(c);return s},forEach=function(r,s){if(r.forEach)return r.forEach(s);for(var c=0;c<r.length;c++)s(r[c],c,r)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(r,s,c){Object.defineProperty(r,s,{writable:!0,enumerable:!1,configurable:!0,value:c})}}catch{return function(s,c,O){s[c]=O}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(s){if(!(this instanceof Script))return new Script(s);this.code=s};Script.prototype.runInContext=function(r){if(!(r instanceof Context))throw new TypeError("needs a 'context' argument.");var s=document.createElement("iframe");s.style||(s.style={}),s.style.display="none",document.body.appendChild(s);var c=s.contentWindow,O=c.eval,S=c.execScript;!O&&S&&(S.call(c,"null"),O=c.eval),forEach(Object_keys(r),function(L){c[L]=r[L]}),forEach(globals,function(L){r[L]&&(c[L]=r[L])});var j=Object_keys(c),k=O.call(c,this.code);return forEach(Object_keys(c),function(L){(L in r||indexOf(j,L)===-1)&&(r[L]=c[L])}),forEach(globals,function(L){L in r||defineProp(r,L,c[L])}),document.body.removeChild(s),k},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(r){var s=Script.createContext(r),c=this.runInContext(s);return r&&forEach(Object_keys(s),function(O){r[O]=s[O]}),c},forEach(Object_keys(Script.prototype),function(r){exports[r]=Script[r]=function(s){var c=Script(s);return c[r].apply(c,[].slice.call(arguments,1))}}),exports.isContext=function(r){return r instanceof Context},exports.createScript=function(r){return exports.Script(r)},exports.createContext=Script.createContext=function(r){var s=new Context;return typeof r=="object"&&forEach(Object_keys(r),function(c){s[c]=r[c]}),s}}(vmBrowserify)),vmBrowserify}(function(r,s){(function(O,S){r.exports=S()})(commonjsGlobal,()=>(()=>{var c={"./original-repo/interpreter.js":function(k,L,F){var i=function(t,e){typeof t=="string"&&(t=this.parse_(t,"code"));var o=t.constructor;this.newNode=function(){return new o({options:{}})};var p=this.newNode();for(var E in t)p[E]=E==="body"?t[E].slice():t[E];this.ast=p,this.tasks=[],this.initFunc_=e,this.paused_=!1,this.polyfills_=[],this.functionCounter_=0,this.stepFunctions_=Object.create(null);var y=/^step([A-Z]\w*)$/,u;for(var m in this)typeof this[m]=="function"&&(u=m.match(y))&&(this.stepFunctions_[u[1]]=this[m].bind(this));this.globalScope=this.createScope(this.ast,null),this.globalObject=this.globalScope.object,this.ast=this.parse_(this.polyfills_.join(`
`),"polyfills"),this.polyfills_=void 0,i.stripLocations_(this.ast,void 0,void 0);var A=new i.State(this.ast,this.globalScope);A.done=!1,this.stateStack=[A],this.run(),this.value=void 0,this.ast=p,A=new i.State(this.ast,this.globalScope),A.done=!1,this.stateStack.length=0,this.stateStack[0]=A};i.Completion={NORMAL:0,BREAK:1,CONTINUE:2,RETURN:3,THROW:4},i.Status={DONE:0,STEP:1,TASK:2,ASYNC:3},i.PARSE_OPTIONS={locations:!0,ecmaVersion:5},i.READONLY_DESCRIPTOR={configurable:!0,enumerable:!0,writable:!1},i.NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!0},i.READONLY_NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!1},i.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR={configurable:!1,enumerable:!1,writable:!1},i.VARIABLE_DESCRIPTOR={configurable:!1,enumerable:!0,writable:!0},i.STEP_ERROR={STEP_ERROR:!0},i.SCOPE_REFERENCE={SCOPE_REFERENCE:!0},i.VALUE_IN_DESCRIPTOR={VALUE_IN_DESCRIPTOR:!0},i.REGEXP_TIMEOUT={REGEXP_TIMEOUT:!0},i.toStringCycles_=[],i.vm=null,i.currentInterpreter_=null,i.nativeGlobal=typeof globalThis>"u"?this||window:globalThis,i.WORKER_CODE=["onmessage = function(e) {","var result;","var data = e.data;","switch (data[0]) {","case 'split':","result = data[1].split(data[2], data[3]);","break;","case 'match':","result = data[1].match(data[2]);","break;","case 'search':","result = data[1].search(data[2]);","break;","case 'replace':","result = data[1].replace(data[2], data[3]);","break;","case 'exec':","var regexp = data[1];","regexp.lastIndex = data[2];","result = [regexp.exec(data[3]), data[1].lastIndex];","break;","default:","throw Error('Unknown RegExp operation: ' + data[0]);","}","postMessage(result);","close();","};"],i.legalArrayLength=function(t){var e=t>>>0;return e===Number(t)?e:NaN},i.legalArrayIndex=function(t){var e=t>>>0;return String(e)===String(t)&&e!==4294967295?e:NaN},i.stripLocations_=function(t,e,o){e?t.start=e:delete t.start,o?t.end=o:delete t.end;for(var p in t)if(p!=="loc"&&t.hasOwnProperty(p)){var E=t[p];E&&typeof E=="object"&&i.stripLocations_(E,e,o)}},i.prototype.REGEXP_MODE=2,i.prototype.REGEXP_THREAD_TIMEOUT=1e3,i.prototype.POLYFILL_TIMEOUT=1e3,i.prototype.getterStep_=!1,i.prototype.setterStep_=!1,i.prototype.appendCodeNumber_=0,i.prototype.taskCodeNumber_=0,i.prototype.parse_=function(t,e){var o={};for(var p in i.PARSE_OPTIONS)o[p]=i.PARSE_OPTIONS[p];return o.sourceFile=e,i.nativeGlobal.acorn.parse(t,o)},i.prototype.appendCode=function(t){var e=this.stateStack[0];if(!e||e.node.type!=="Program")throw Error("Expecting original AST to start with a Program node");if(typeof t=="string"&&(t=this.parse_(t,"appendCode"+this.appendCodeNumber_++)),!t||t.type!=="Program")throw Error("Expecting new AST to start with a Program node");this.populateScope_(t,e.scope),Array.prototype.push.apply(e.node.body,t.body),e.node.body.variableCache_=null,e.done=!1},i.prototype.step=function(){var t=this.stateStack,e;do{var o=t[t.length-1];if(this.paused_)return!0;if(!o||o.node.type==="Program"&&o.done){if(!this.tasks.length)return!1;if(o=this.nextTask_(),!o)return!0}var p=o.node,E=i.currentInterpreter_;i.currentInterpreter_=this;try{var y=this.stepFunctions_[p.type](t,o,p)}catch(u){if(u!==i.STEP_ERROR)throw this.value!==u&&(this.value=void 0),u}finally{i.currentInterpreter_=E}if(y&&t.push(y),this.getterStep_)throw this.value=void 0,Error("Getter not supported in this context");if(this.setterStep_)throw this.value=void 0,Error("Setter not supported in this context");!e&&!p.end&&(e=Date.now()+this.POLYFILL_TIMEOUT)}while(!p.end&&e>Date.now());return!0},i.prototype.run=function(){for(;!this.paused_&&this.step(););return this.paused_},i.prototype.getStatus=function(){if(this.paused_)return i.Status.ASYNC;var t=this.stateStack,e=t[t.length-1];if(e&&(e.node.type!=="Program"||!e.done))return i.Status.STEP;var o=this.tasks[0];return o?o.time>Date.now()?i.Status.TASK:i.Status.STEP:i.Status.DONE},i.prototype.initGlobal=function(t){this.setProperty(t,"NaN",NaN,i.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(t,"Infinity",1/0,i.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(t,"undefined",void 0,i.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(t,"window",t,i.READONLY_DESCRIPTOR),this.setProperty(t,"this",t,i.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(t,"self",t),this.OBJECT_PROTO=new i.Object(null),this.FUNCTION_PROTO=new i.Object(this.OBJECT_PROTO),this.initFunction(t),this.initObject(t),t.proto=this.OBJECT_PROTO,this.setProperty(t,"constructor",this.OBJECT,i.NONENUMERABLE_DESCRIPTOR),this.initArray(t),this.initString(t),this.initBoolean(t),this.initNumber(t),this.initDate(t),this.initRegExp(t),this.initError(t),this.initMath(t),this.initJSON(t);var e=this,o,p=this.createNativeFunction(function(u){throw EvalError("Can't happen")},!1);p.eval=!0,this.setProperty(t,"eval",p,i.NONENUMERABLE_DESCRIPTOR),this.setProperty(t,"parseInt",this.createNativeFunction(parseInt,!1),i.NONENUMERABLE_DESCRIPTOR),this.setProperty(t,"parseFloat",this.createNativeFunction(parseFloat,!1),i.NONENUMERABLE_DESCRIPTOR),this.setProperty(t,"isNaN",this.createNativeFunction(isNaN,!1),i.NONENUMERABLE_DESCRIPTOR),this.setProperty(t,"isFinite",this.createNativeFunction(isFinite,!1),i.NONENUMERABLE_DESCRIPTOR);for(var E=[[escape,"escape"],[unescape,"unescape"],[decodeURI,"decodeURI"],[decodeURIComponent,"decodeURIComponent"],[encodeURI,"encodeURI"],[encodeURIComponent,"encodeURIComponent"]],y=0;y<E.length;y++)o=function(u){return function(m){try{return u(m)}catch(A){e.throwException(e.URI_ERROR,A.message)}}}(E[y][0]),this.setProperty(t,E[y][1],this.createNativeFunction(o,!1),i.NONENUMERABLE_DESCRIPTOR);o=function(m){return e.createTask_(!1,arguments)},this.setProperty(t,"setTimeout",this.createNativeFunction(o,!1),i.NONENUMERABLE_DESCRIPTOR),o=function(m){return e.createTask_(!0,arguments)},this.setProperty(t,"setInterval",this.createNativeFunction(o,!1),i.NONENUMERABLE_DESCRIPTOR),o=function(m){e.deleteTask_(m)},this.setProperty(t,"clearTimeout",this.createNativeFunction(o,!1),i.NONENUMERABLE_DESCRIPTOR),o=function(m){e.deleteTask_(m)},this.setProperty(t,"clearInterval",this.createNativeFunction(o,!1),i.NONENUMERABLE_DESCRIPTOR),this.OBJECT=this.OBJECT,this.OBJECT_PROTO=this.OBJECT_PROTO,this.FUNCTION=this.FUNCTION,this.FUNCTION_PROTO=this.FUNCTION_PROTO,this.ARRAY=this.ARRAY,this.ARRAY_PROTO=this.ARRAY_PROTO,this.REGEXP=this.REGEXP,this.REGEXP_PROTO=this.REGEXP_PROTO,this.DATE=this.DATE,this.DATE_PROTO=this.DATE_PROTO,this.initFunc_&&this.initFunc_(this,t)},i.prototype.functionCodeNumber_=0,i.prototype.initFunction=function(t){var e=this,o,p=/^[A-Za-z_$][\w$]*$/;o=function(y){if(arguments.length)var u=String(arguments[arguments.length-1]);else var u="";var m=Array.prototype.slice.call(arguments,0,-1).join(",").trim();if(m){for(var A=m.split(/\s*,\s*/),U=0;U<A.length;U++){var Y=A[U];p.test(Y)||e.throwException(e.SYNTAX_ERROR,"Invalid function argument: "+Y)}m=A.join(", ")}try{var V=e.parse_("(function("+m+") {"+u+"})","function"+e.functionCodeNumber_++)}catch(ee){e.throwException(e.SYNTAX_ERROR,"Invalid code: "+ee.message)}V.body.length!==1&&e.throwException(e.SYNTAX_ERROR,"Invalid code in function body");var q=V.body[0].expression;return e.createFunction(q,e.globalScope,"anonymous")},this.FUNCTION=this.createNativeFunction(o,!0),this.setProperty(t,"Function",this.FUNCTION,i.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.FUNCTION,"prototype",this.FUNCTION_PROTO,i.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.FUNCTION_PROTO,"constructor",this.FUNCTION,i.NONENUMERABLE_DESCRIPTOR),this.FUNCTION_PROTO.nativeFunc=function(){},this.FUNCTION_PROTO.nativeFunc.id=this.functionCounter_++,this.FUNCTION_PROTO.illegalConstructor=!0,this.setProperty(this.FUNCTION_PROTO,"length",0,i.READONLY_NONENUMERABLE_DESCRIPTOR),this.FUNCTION_PROTO.class="Function",o=function(y,u,m){var A=e.stateStack[e.stateStack.length-1];A.func_=y,A.funcThis_=u,A.arguments_=[],m!=null&&(m instanceof i.Object?A.arguments_=Array.from(m.properties):e.throwException(e.TYPE_ERROR,"CreateListFromArrayLike called on non-object")),A.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"apply",o),this.polyfills_.push("(function() {","var apply_ = Function.prototype.apply;","Function.prototype.apply = function apply(thisArg, args) {","var a2 = [];","for (var i = 0; i < args.length; i++) {","a2[i] = args[i];","}","return apply_(this, thisArg, a2);","};","})();"),o=function(y){var u=e.stateStack[e.stateStack.length-1];u.func_=this,u.funcThis_=y,u.arguments_=[];for(var m=1;m<arguments.length;m++)u.arguments_.push(arguments[m]);u.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"call",o),this.polyfills_.push("Object.defineProperty(Function.prototype, 'bind',","{configurable: true, writable: true, value:","function bind(oThis) {","if (typeof this !== 'function') {","throw TypeError('What is trying to be bound is not callable');","}","var aArgs   = Array.prototype.slice.call(arguments, 1),","fToBind = this,","fNOP    = function() {},","fBound  = function() {","return fToBind.apply(this instanceof fNOP","? this",": oThis,","aArgs.concat(Array.prototype.slice.call(arguments)));","};","if (this.prototype) {","fNOP.prototype = this.prototype;","}","fBound.prototype = new fNOP();","return fBound;","}","});",""),o=function(){return String(this)},this.setNativeFunctionPrototype(this.FUNCTION,"toString",o),this.setProperty(this.FUNCTION,"toString",this.createNativeFunction(o,!1),i.NONENUMERABLE_DESCRIPTOR),o=function(){return this.valueOf()},this.setNativeFunctionPrototype(this.FUNCTION,"valueOf",o),this.setProperty(this.FUNCTION,"valueOf",this.createNativeFunction(o,!1),i.NONENUMERABLE_DESCRIPTOR)},i.prototype.initObject=function(t){var e=this,o;o=function(y){if(y==null)return e.calledWithNew()?this:e.createObjectProto(e.OBJECT_PROTO);if(!(y instanceof i.Object)){var u=e.createObjectProto(e.getPrototype(y));return u.data=y,u}return y},this.OBJECT=this.createNativeFunction(o,!0),this.setProperty(this.OBJECT,"prototype",this.OBJECT_PROTO,i.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.OBJECT_PROTO,"constructor",this.OBJECT,i.NONENUMERABLE_DESCRIPTOR),this.setProperty(t,"Object",this.OBJECT,i.NONENUMERABLE_DESCRIPTOR);var p=function(E){E==null&&e.throwException(e.TYPE_ERROR,"Cannot convert '"+E+"' to object")};o=function(y){p(y);var u=y instanceof i.Object?y.properties:y;return e.nativeToPseudo(Object.getOwnPropertyNames(u))},this.setProperty(this.OBJECT,"getOwnPropertyNames",this.createNativeFunction(o,!1),i.NONENUMERABLE_DESCRIPTOR),o=function(y){return p(y),y instanceof i.Object&&(y=y.properties),e.nativeToPseudo(Object.keys(y))},this.setProperty(this.OBJECT,"keys",this.createNativeFunction(o,!1),i.NONENUMERABLE_DESCRIPTOR),o=function(y){return y===null?e.createObjectProto(null):(y instanceof i.Object||e.throwException(e.TYPE_ERROR,"Object prototype may only be an Object or null, not "+y),e.createObjectProto(y))},this.setProperty(this.OBJECT,"create",this.createNativeFunction(o,!1),i.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("(function() {","var create_ = Object.create;","Object.create = function create(proto, props) {","var obj = create_(proto);","props && Object.defineProperties(obj, props);","return obj;","};","})();",""),o=function(y,u,m){return u=String(u),y instanceof i.Object||e.throwException(e.TYPE_ERROR,"Object.defineProperty called on non-object: "+y),m instanceof i.Object||e.throwException(e.TYPE_ERROR,"Property description must be an object"),y.preventExtensions&&!(u in y.properties)&&e.throwException(e.TYPE_ERROR,"Can't define property '"+u+"', object is not extensible"),e.setProperty(y,u,i.VALUE_IN_DESCRIPTOR,m.properties),y},this.setProperty(this.OBJECT,"defineProperty",this.createNativeFunction(o,!1),i.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("(function() {","var defineProperty_ = Object.defineProperty;","Object.defineProperty = function defineProperty(obj, prop, d1) {","var d2 = {};","if ('configurable' in d1) d2.configurable = d1.configurable;","if ('enumerable' in d1) d2.enumerable = d1.enumerable;","if ('writable' in d1) d2.writable = d1.writable;","if ('value' in d1) d2.value = d1.value;","if ('get' in d1) d2.get = d1.get;","if ('set' in d1) d2.set = d1.set;","return defineProperty_(obj, prop, d2);","};","})();","Object.defineProperty(Object, 'defineProperties',","{configurable: true, writable: true, value:","function defineProperties(obj, props) {","var keys = Object.keys(props);","for (var i = 0; i < keys.length; i++) {","Object.defineProperty(obj, keys[i], props[keys[i]]);","}","return obj;","}","});",""),o=function(y,u){if(y instanceof i.Object||e.throwException(e.TYPE_ERROR,"Object.getOwnPropertyDescriptor called on non-object: "+y),u=String(u),u in y.properties){var m=Object.getOwnPropertyDescriptor(y.properties,u),A=y.getter[u],U=y.setter[u],Y=e.createObjectProto(e.OBJECT_PROTO);return A||U?(e.setProperty(Y,"get",A),e.setProperty(Y,"set",U)):(e.setProperty(Y,"value",m.value),e.setProperty(Y,"writable",m.writable)),e.setProperty(Y,"configurable",m.configurable),e.setProperty(Y,"enumerable",m.enumerable),Y}},this.setProperty(this.OBJECT,"getOwnPropertyDescriptor",this.createNativeFunction(o,!1),i.NONENUMERABLE_DESCRIPTOR),o=function(y){return p(y),e.getPrototype(y)},this.setProperty(this.OBJECT,"getPrototypeOf",this.createNativeFunction(o,!1),i.NONENUMERABLE_DESCRIPTOR),o=function(y){return!!y&&!y.preventExtensions},this.setProperty(this.OBJECT,"isExtensible",this.createNativeFunction(o,!1),i.NONENUMERABLE_DESCRIPTOR),o=function(y){return y instanceof i.Object&&(y.preventExtensions=!0),y},this.setProperty(this.OBJECT,"preventExtensions",this.createNativeFunction(o,!1),i.NONENUMERABLE_DESCRIPTOR),this.setNativeFunctionPrototype(this.OBJECT,"toString",i.Object.prototype.toString),this.setNativeFunctionPrototype(this.OBJECT,"toLocaleString",i.Object.prototype.toString),this.setNativeFunctionPrototype(this.OBJECT,"valueOf",i.Object.prototype.valueOf),o=function(y){return p(this),this instanceof i.Object?String(y)in this.properties:this.hasOwnProperty(y)},this.setNativeFunctionPrototype(this.OBJECT,"hasOwnProperty",o),o=function(y){return p(this),this instanceof i.Object?Object.prototype.propertyIsEnumerable.call(this.properties,y):this.propertyIsEnumerable(y)},this.setNativeFunctionPrototype(this.OBJECT,"propertyIsEnumerable",o),o=function(y){for(;;){if(y=e.getPrototype(y),!y)return!1;if(y===this)return!0}},this.setNativeFunctionPrototype(this.OBJECT,"isPrototypeOf",o)},i.prototype.initArray=function(t){var e=this,o;o=function(E){if(e.calledWithNew())var y=this;else var y=e.createArray();var u=arguments[0];if(arguments.length===1&&typeof u=="number")isNaN(i.legalArrayLength(u))&&e.throwException(e.RANGE_ERROR,"Invalid array length: "+u),y.properties.length=u;else{for(var m=0;m<arguments.length;m++)y.properties[m]=arguments[m];y.properties.length=m}return y},this.ARRAY=this.createNativeFunction(o,!0),this.ARRAY_PROTO=this.ARRAY.properties.prototype,this.setProperty(t,"Array",this.ARRAY,i.NONENUMERABLE_DESCRIPTOR),o=function(E){return E&&E.class==="Array"},this.setProperty(this.ARRAY,"isArray",this.createNativeFunction(o,!1),i.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ARRAY_PROTO,"length",0,{configurable:!1,enumerable:!1,writable:!0}),this.ARRAY_PROTO.class="Array",this.polyfills_.push("(function() {","function createArrayMethod_(name, func) {","Object.defineProperty(func, 'name', {value: name});","Object.defineProperty(Array.prototype, name,","{configurable: true, writable: true, value: func});","}","createArrayMethod_('pop',","function() {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","if (!len || len < 0) {","o.length = 0;","return undefined;","}","len--;","var x = o[len];","delete o[len];","o.length = len;","return x;","}",");","createArrayMethod_('push',","function(var_args) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","for (var i = 0; i < arguments.length; i++) {","o[len] = arguments[i];","len++;","}","o.length = len;","return len;","}",");","createArrayMethod_('shift',","function() {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","if (!len || len < 0) {","o.length = 0;","return undefined;","}","var value = o[0];","for (var i = 0; i < len - 1; i++) {","if ((i + 1) in o) {","o[i] = o[i + 1];","} else {","delete o[i];","}","}","delete o[i];","o.length = len - 1;","return value;","}",");","createArrayMethod_('unshift',","function(var_args) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","if (!len || len < 0) {","len = 0;","}","for (var i = len - 1; i >= 0; i--) {","if (i in o) {","o[i + arguments.length] = o[i];","} else {","delete o[i + arguments.length];","}","}","for (var i = 0; i < arguments.length; i++) {","o[i] = arguments[i];","}","return (o.length = len + arguments.length);","}",");","createArrayMethod_('reverse',","function() {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","if (!len || len < 2) {","return o;","}","for (var i = 0; i < len / 2 - 0.5; i++) {","var x = o[i];","var hasX = i in o;","if ((len - i - 1) in o) {","o[i] = o[len - i - 1];","} else {","delete o[i];","}","if (hasX) {","o[len - i - 1] = x;","} else {","delete o[len - i - 1];","}","}","return o;","}",");","createArrayMethod_('indexOf',","function(searchElement, fromIndex) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","var n = fromIndex | 0;","if (!len || n >= len) {","return -1;","}","var i = Math.max(n >= 0 ? n : len - Math.abs(n), 0);","while (i < len) {","if (i in o && o[i] === searchElement) {","return i;","}","i++;","}","return -1;","}",");","createArrayMethod_('lastIndexOf',","function(searchElement, fromIndex) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","if (!len) {","return -1;","}","var n = len - 1;","if (arguments.length > 1) {","n = fromIndex | 0;","if (n) {","n = (n > 0 || -1) * Math.floor(Math.abs(n));","}","}","var i = n >= 0 ? Math.min(n, len - 1) : len - Math.abs(n);","while (i >= 0) {","if (i in o && o[i] === searchElement) {","return i;","}","i--;","}","return -1;","}",");","createArrayMethod_('slice',","function(start, end) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","start |= 0;","start = (start >= 0) ? start : Math.max(0, len + start);","if (typeof end !== 'undefined') {","if (end !== Infinity) {","end |= 0;","}","if (end < 0) {","end = len + end;","} else {","end = Math.min(end, len);","}","} else {","end = len;","}","var size = end - start;","var cloned = new Array(size);","for (var i = 0; i < size; i++) {","if ((start + i) in o) {","cloned[i] = o[start + i];","}","}","return cloned;","}",");","createArrayMethod_('splice',","function(start, deleteCount, var_args) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","start |= 0;","if (start < 0) {","start = Math.max(len + start, 0);","} else {","start = Math.min(start, len);","}","if (arguments.length < 2) {","deleteCount = len - start;","} else {","deleteCount |= 0;","deleteCount = Math.max(0, Math.min(deleteCount, len - start));","}","var removed = [];","for (var i = start; i < start + deleteCount; i++) {","if (i in o) {","removed.push(o[i]);","} else {","removed.length++;","}","if ((i + deleteCount) in o) {","o[i] = o[i + deleteCount];","} else {","delete o[i];","}","}","for (var i = start + deleteCount; i < len - deleteCount; i++) {","if ((i + deleteCount) in o) {","o[i] = o[i + deleteCount];","} else {","delete o[i];","}","}","for (var i = len - deleteCount; i < len; i++) {","delete o[i];","}","len -= deleteCount;","if (arguments.length > 2) {","var arl = arguments.length - 2;","for (var i = len - 1; i >= start; i--) {","if (i in o) {","o[i + arl] = o[i];","} else {","delete o[i + arl];","}","}","len += arl;","for (var i = 2; i < arguments.length; i++) {","o[start + i - 2] = arguments[i];","}","}","o.length = len;","return removed;","}",");","createArrayMethod_('concat',","function(var_args) {","if (!this) throw TypeError();","var o = Object(this);","var cloned = [];","for (var i = -1; i < arguments.length; i++) {","var value = (i === -1) ? o : arguments[i];","if (Array.isArray(value)) {","for (var j = 0, l = value.length; j < l; j++) {","if (j in value) {","cloned.push(value[j]);","} else {","cloned.length++;","}","}","} else {","cloned.push(value);","}","}","return cloned;","}",");","createArrayMethod_('join',","function(opt_separator) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","var sep = typeof opt_separator === 'undefined' ?","',' : ('' + opt_separator);","var str = '';","for (var i = 0; i < len; i++) {","if (i && sep) str += sep;","str += (o[i] === null || o[i] === undefined) ? '' : o[i];","}","return str;","}",");","createArrayMethod_('every',","function(callback, thisArg) {","if (!this || typeof callback !== 'function') throw TypeError();","var t, k = 0;","var o = Object(this), len = o.length >>> 0;","if (arguments.length > 1) t = thisArg;","while (k < len) {","if (k in o && !callback.call(t, o[k], k, o)) return false;","k++;","}","return true;","}",");","createArrayMethod_('filter',","function(callback, var_args) {","if (!this || typeof callback !== 'function') throw TypeError();","var o = Object(this), len = o.length >>> 0;","var res = [];","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in o) {","var val = o[i];","if (callback.call(thisArg, val, i, o)) res.push(val);","}","}","return res;","}",");","createArrayMethod_('forEach',","function(callback, thisArg) {","if (!this || typeof callback !== 'function') throw TypeError();","var t, k = 0;","var o = Object(this), len = o.length >>> 0;","if (arguments.length > 1) t = thisArg;","while (k < len) {","if (k in o) callback.call(t, o[k], k, o);","k++;","}","}",");","createArrayMethod_('map',","function(callback, thisArg) {","if (!this || typeof callback !== 'function') throw TypeError();","var t, k = 0;","var o = Object(this), len = o.length >>> 0;","if (arguments.length > 1) t = thisArg;","var a = new Array(len);","while (k < len) {","if (k in o) a[k] = callback.call(t, o[k], k, o);","k++;","}","return a;","}",");","createArrayMethod_('reduce',","function(callback /*, initialValue*/) {","if (!this || typeof callback !== 'function') throw TypeError();","var o = Object(this), len = o.length >>> 0;","var k = 0, value;","if (arguments.length === 2) {","value = arguments[1];","} else {","while (k < len && !(k in o)) k++;","if (k >= len) {","throw TypeError('Reduce of empty array with no initial value');","}","value = o[k++];","}","for (; k < len; k++) {","if (k in o) value = callback(value, o[k], k, o);","}","return value;","}",");","createArrayMethod_('reduceRight',","function(callback /*, initialValue*/) {","if (!this || typeof callback !== 'function') throw TypeError();","var o = Object(this), len = o.length >>> 0;","var k = len - 1, value;","if (arguments.length >= 2) {","value = arguments[1];","} else {","while (k >= 0 && !(k in o)) k--;","if (k < 0) {","throw TypeError('Reduce of empty array with no initial value');","}","value = o[k--];","}","for (; k >= 0; k--) {","if (k in o) value = callback(value, o[k], k, o);","}","return value;","}",");","createArrayMethod_('some',","function(callback /*, thisArg*/) {","if (!this || typeof callback !== 'function') throw TypeError();","var o = Object(this), len = o.length >>> 0;","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in o && callback.call(thisArg, o[i], i, o)) return true;","}","return false;","}",");","createArrayMethod_('sort',","function(opt_comp) {","if (!this) throw TypeError();","if (typeof opt_comp !== 'function') {","opt_comp = undefined;","}","for (var i = 0; i < this.length; i++) {","var changes = 0;","for (var j = 0; j < this.length - i - 1; j++) {","if (opt_comp ? (opt_comp(this[j], this[j + 1]) > 0) :","(String(this[j]) > String(this[j + 1]))) {","var swap = this[j];","var hasSwap = j in this;","if ((j + 1) in this) {","this[j] = this[j + 1];","} else {","delete this[j];","}","if (hasSwap) {","this[j + 1] = swap;","} else {","delete this[j + 1];","}","changes++;","}","}","if (!changes) break;","}","return this;","}",");","createArrayMethod_('toLocaleString',","function() {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","var out = [];","for (var i = 0; i < len; i++) {","out[i] = (o[i] === null || o[i] === undefined) ? '' : o[i].toLocaleString();","}","return out.join(',');","}",");","})();","")},i.prototype.initString=function(t){var e=this,o;o=function(u){return u=arguments.length?i.nativeGlobal.String(u):"",e.calledWithNew()?(this.data=u,this):u},this.STRING=this.createNativeFunction(o,!0),this.setProperty(t,"String",this.STRING,i.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.STRING,"fromCharCode",this.createNativeFunction(String.fromCharCode,!1),i.NONENUMERABLE_DESCRIPTOR);for(var p=["charAt","charCodeAt","concat","indexOf","lastIndexOf","slice","substr","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim"],E=0;E<p.length;E++)this.setNativeFunctionPrototype(this.STRING,p[E],String.prototype[p[E]]);o=function(u,m,A){m=e.pseudoToNative(m),A=e.pseudoToNative(A);try{return String(this).localeCompare(u,m,A)}catch(U){e.throwException(e.ERROR,"localeCompare: "+U.message)}},this.setNativeFunctionPrototype(this.STRING,"localeCompare",o),o=function(u,m,A){var U=String(this);if(m=m?Number(m):void 0,e.isa(u,e.REGEXP)&&(u=u.data,e.maybeThrowRegExp(u,A),e.REGEXP_MODE===2)){if(i.vm){var Y={string:U,separator:u,limit:m},V="string.split(separator, limit)",ue=e.vmCall(V,Y,u,A);ue!==i.REGEXP_TIMEOUT&&A(e.nativeToPseudo(ue))}else{var q=e.createWorker(),ee=e.regExpTimeout(u,q,A);q.onmessage=function(ye){clearTimeout(ee),A(e.nativeToPseudo(ye.data))},q.postMessage(["split",U,u,m])}return}var ue=U.split(u,m);A(e.nativeToPseudo(ue))},this.setAsyncFunctionPrototype(this.STRING,"split",o),o=function(u,m){var A=String(this);if(u=e.isa(u,e.REGEXP)?u.data:new RegExp(u),e.maybeThrowRegExp(u,m),e.REGEXP_MODE===2){if(i.vm){var U={string:A,regexp:u},Y="string.match(regexp)",ee=e.vmCall(Y,U,u,m);ee!==i.REGEXP_TIMEOUT&&m(ee&&e.matchToPseudo_(ee))}else{var V=e.createWorker(),q=e.regExpTimeout(u,V,m);V.onmessage=function(ue){clearTimeout(q),m(ue.data&&e.matchToPseudo_(ue.data))},V.postMessage(["match",A,u])}return}var ee=A.match(u);m(ee&&e.matchToPseudo_(ee))},this.setAsyncFunctionPrototype(this.STRING,"match",o),o=function(u,m){var A=String(this);if(e.isa(u,e.REGEXP)?u=u.data:u=new RegExp(u),e.maybeThrowRegExp(u,m),e.REGEXP_MODE===2){if(i.vm){var U={string:A,regexp:u},Y="string.search(regexp)",V=e.vmCall(Y,U,u,m);V!==i.REGEXP_TIMEOUT&&m(V)}else{var q=e.createWorker(),ee=e.regExpTimeout(u,q,m);q.onmessage=function(ue){clearTimeout(ee),m(ue.data)},q.postMessage(["search",A,u])}return}m(A.search(u))},this.setAsyncFunctionPrototype(this.STRING,"search",o),o=function(u,m,A){var U=String(this);if(m=String(m),e.isa(u,e.REGEXP)&&(u=u.data,e.maybeThrowRegExp(u,A),e.REGEXP_MODE===2)){if(i.vm){var Y={string:U,substr:u,newSubstr:m},V="string.replace(substr, newSubstr)",q=e.vmCall(V,Y,u,A);q!==i.REGEXP_TIMEOUT&&A(q)}else{var ee=e.createWorker(),ue=e.regExpTimeout(u,ee,A);ee.onmessage=function(ye){clearTimeout(ue),A(ye.data)},ee.postMessage(["replace",U,u,m])}return}A(U.replace(u,m))},this.setAsyncFunctionPrototype(this.STRING,"replace",o),this.polyfills_.push("(function() {","var replace_ = String.prototype.replace;","String.prototype.replace = function replace(substr, newSubstr) {","if (typeof newSubstr !== 'function') {","return replace_.call(this, substr, newSubstr);","}","var str = this;","if (substr instanceof RegExp) {","var subs = [];","var m = substr.exec(str);","while (m) {","m.push(m.index, str);","var inject = newSubstr.apply(null, m);","subs.push([m.index, m[0].length, inject]);","m = substr.global ? substr.exec(str) : null;","}","for (var i = subs.length - 1; i >= 0; i--) {","str = str.substring(0, subs[i][0]) + subs[i][2] + ","str.substring(subs[i][0] + subs[i][1]);","}","} else {","var i = str.indexOf(substr);","if (i !== -1) {","var inject = newSubstr(str.substr(i, substr.length), i, str);","str = str.substring(0, i) + inject + ","str.substring(i + substr.length);","}","}","return str;","};","})();","")},i.prototype.initBoolean=function(t){var e=this,o;o=function(E){return E=i.nativeGlobal.Boolean(E),e.calledWithNew()?(this.data=E,this):E},this.BOOLEAN=this.createNativeFunction(o,!0),this.setProperty(t,"Boolean",this.BOOLEAN,i.NONENUMERABLE_DESCRIPTOR)},i.prototype.initNumber=function(t){var e=this,o;o=function(u){return u=arguments.length?i.nativeGlobal.Number(u):0,e.calledWithNew()?(this.data=u,this):u},this.NUMBER=this.createNativeFunction(o,!0),this.setProperty(t,"Number",this.NUMBER,i.NONENUMERABLE_DESCRIPTOR);for(var p=["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"],E=0;E<p.length;E++)this.setProperty(this.NUMBER,p[E],Number[p[E]],i.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);o=function(u){try{return Number(this).toExponential(u)}catch(m){e.throwException(e.ERROR,m.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toExponential",o),o=function(u){try{return Number(this).toFixed(u)}catch(m){e.throwException(e.ERROR,m.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toFixed",o),o=function(u){try{return Number(this).toPrecision(u)}catch(m){e.throwException(e.ERROR,m.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toPrecision",o),o=function(u){try{return Number(this).toString(u)}catch(m){e.throwException(e.ERROR,m.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toString",o),o=function(u,m){u=u?e.pseudoToNative(u):void 0,m=m?e.pseudoToNative(m):void 0;try{return Number(this).toLocaleString(u,m)}catch(A){e.throwException(e.ERROR,"toLocaleString: "+A.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toLocaleString",o)},i.prototype.initDate=function(t){var e=this,o;o=function(u,m){if(!e.calledWithNew())return i.nativeGlobal.Date();var A=[null].concat(Array.from(arguments));return this.data=new(Function.prototype.bind.apply(i.nativeGlobal.Date,A)),this},this.DATE=this.createNativeFunction(o,!0),this.DATE_PROTO=this.DATE.properties.prototype,this.setProperty(t,"Date",this.DATE,i.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.DATE,"now",this.createNativeFunction(Date.now,!1),i.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.DATE,"parse",this.createNativeFunction(Date.parse,!1),i.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.DATE,"UTC",this.createNativeFunction(Date.UTC,!1),i.NONENUMERABLE_DESCRIPTOR);for(var p=["getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toJSON","toGMTString","toLocaleDateString","toLocaleString","toLocaleTimeString","toTimeString","toUTCString"],E=0;E<p.length;E++)o=function(y){return function(u){var m=this.data;m instanceof Date||e.throwException(e.TYPE_ERROR,y+" not called on a Date");for(var A=[],U=0;U<arguments.length;U++)A[U]=e.pseudoToNative(arguments[U]);return m[y].apply(m,A)}}(p[E]),this.setNativeFunctionPrototype(this.DATE,p[E],o);o=function(){try{return this.data.toISOString()}catch(u){e.throwException(e.RANGE_ERROR,"toISOString: "+u.message)}},this.setNativeFunctionPrototype(this.DATE,"toISOString",o)},i.prototype.initRegExp=function(t){var e=this,o;o=function(E,y){if(e.calledWithNew())var u=this;else{if(y===void 0&&e.isa(E,e.REGEXP))return E;var u=e.createObjectProto(e.REGEXP_PROTO)}E=E===void 0?"":String(E),y=y?String(y):"",/^[gmi]*$/.test(y)||e.throwException(e.SYNTAX_ERROR,"Invalid regexp flag: "+y);try{var m=new i.nativeGlobal.RegExp(E,y)}catch(A){e.throwException(e.SYNTAX_ERROR,A.message)}return e.populateRegExp(u,m),u},this.REGEXP=this.createNativeFunction(o,!0),this.REGEXP_PROTO=this.REGEXP.properties.prototype,this.setProperty(t,"RegExp",this.REGEXP,i.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"global",void 0,i.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"ignoreCase",void 0,i.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"multiline",void 0,i.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"source","(?:)",i.READONLY_NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("Object.defineProperty(RegExp.prototype, 'test',","{configurable: true, writable: true, value:","function test(str) {","return !!this.exec(str);","}","});"),o=function(E,y){var u=this.data;if(E=String(E),u.lastIndex=Number(e.getProperty(this,"lastIndex")),e.maybeThrowRegExp(u,y),e.REGEXP_MODE===2){if(i.vm){var m={string:E,regexp:u},A="regexp.exec(string)",q=e.vmCall(A,m,u,y);q!==i.REGEXP_TIMEOUT&&(e.setProperty(this,"lastIndex",u.lastIndex),y(e.matchToPseudo_(q)))}else{var U=e.createWorker(),Y=e.regExpTimeout(u,U,y),V=this;U.onmessage=function(ee){clearTimeout(Y),e.setProperty(V,"lastIndex",ee.data[1]),y(e.matchToPseudo_(ee.data[0]))},U.postMessage(["exec",u,u.lastIndex,E])}return}var q=u.exec(E);e.setProperty(this,"lastIndex",u.lastIndex),y(e.matchToPseudo_(q))},this.setAsyncFunctionPrototype(this.REGEXP,"exec",o)},i.prototype.matchToPseudo_=function(t){if(t){for(var e=Object.getOwnPropertyNames(t),o=0;o<e.length;o++){var p=e[o];isNaN(Number(p))&&p!=="length"&&p!=="input"&&p!=="index"&&delete t[p]}return this.nativeToPseudo(t)}return null},i.prototype.initError=function(t){var e=this;this.ERROR=this.createNativeFunction(function(E){if(e.calledWithNew())var y=this;else var y=e.createObject(e.ERROR);return e.populateError(y,E),y},!0),this.setProperty(t,"Error",this.ERROR,i.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ERROR.properties.prototype,"message","",i.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ERROR.properties.prototype,"name","Error",i.NONENUMERABLE_DESCRIPTOR);var o=function(p){var E=e.createNativeFunction(function(y){if(e.calledWithNew())var u=this;else var u=e.createObject(E);return e.populateError(u,y),u},!0);return e.setProperty(E,"prototype",e.createObject(e.ERROR),i.NONENUMERABLE_DESCRIPTOR),e.setProperty(E.properties.prototype,"name",p,i.NONENUMERABLE_DESCRIPTOR),e.setProperty(t,p,E,i.NONENUMERABLE_DESCRIPTOR),E};this.EVAL_ERROR=o("EvalError"),this.RANGE_ERROR=o("RangeError"),this.REFERENCE_ERROR=o("ReferenceError"),this.SYNTAX_ERROR=o("SyntaxError"),this.TYPE_ERROR=o("TypeError"),this.URI_ERROR=o("URIError")},i.prototype.initMath=function(t){var e=this.createObjectProto(this.OBJECT_PROTO);this.setProperty(t,"Math",e,i.NONENUMERABLE_DESCRIPTOR);for(var o=["E","LN2","LN10","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],p=0;p<o.length;p++)this.setProperty(e,o[p],Math[o[p]],i.READONLY_NONENUMERABLE_DESCRIPTOR);for(var E=["abs","acos","asin","atan","atan2","ceil","cos","exp","floor","log","max","min","pow","random","round","sin","sqrt","tan"],p=0;p<E.length;p++)this.setProperty(e,E[p],this.createNativeFunction(Math[E[p]],!1),i.NONENUMERABLE_DESCRIPTOR)},i.prototype.initJSON=function(t){var e,o=this,p=o.createObjectProto(this.OBJECT_PROTO);this.setProperty(t,"JSON",p,i.NONENUMERABLE_DESCRIPTOR),e=function(y){try{var u=JSON.parse(String(y))}catch(m){o.throwException(o.SYNTAX_ERROR,m.message)}return o.nativeToPseudo(u)},this.setProperty(p,"parse",this.createNativeFunction(e,!1)),e=function(y,u,m){u&&u.class==="Function"?o.throwException(o.TYPE_ERROR,"Function replacer on JSON.stringify not supported"):u&&u.class==="Array"?(u=o.pseudoToNative(u),u=u.filter(function(Y){return typeof Y=="string"||typeof Y=="number"})):u=null,typeof m!="string"&&typeof m!="number"&&(m=void 0);var A=o.pseudoToNative(y);try{var U=JSON.stringify(A,u,m)}catch(Y){o.throwException(o.TYPE_ERROR,Y.message)}return U},this.setProperty(p,"stringify",this.createNativeFunction(e,!1))},i.prototype.isa=function(t,e){if(t==null||!e)return!1;var o=e.properties.prototype;if(t===o)return!0;for(t=this.getPrototype(t);t;){if(t===o)return!0;t=t.proto}return!1},i.prototype.populateRegExp=function(t,e){t.data=new RegExp(e.source,e.flags),this.setProperty(t,"lastIndex",e.lastIndex,i.NONENUMERABLE_DESCRIPTOR),this.setProperty(t,"source",e.source,i.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(t,"global",e.global,i.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(t,"ignoreCase",e.ignoreCase,i.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(t,"multiline",e.multiline,i.READONLY_NONENUMERABLE_DESCRIPTOR)},i.prototype.populateError=function(t,e){e&&this.setProperty(t,"message",String(e),i.NONENUMERABLE_DESCRIPTOR);for(var o=[],p=this.stateStack.length-1;p>=0;p--){var E=this.stateStack[p],y=E.node;if(y.type==="CallExpression"){var u=E.func_;u&&o.length&&(o[o.length-1].datumName=this.getProperty(u,"name"))}y.loc&&(!o.length||y.type==="CallExpression")&&o.push({datumLoc:y.loc})}for(var m=String(this.getProperty(t,"name")),A=String(this.getProperty(t,"message")),U=m+": "+A+`
`,p=0;p<o.length;p++){var Y=o[p].datumLoc,V=o[p].datumName,q=Y.source+":"+Y.start.line+":"+Y.start.column;V?U+="  at "+V+" ("+q+`)
`:U+="  at "+q+`
`}this.setProperty(t,"stack",U.trim(),i.NONENUMERABLE_DESCRIPTOR)},i.prototype.createWorker=function(){var t=this.createWorker.blob_;return t||(t=new Blob([i.WORKER_CODE.join(`
`)],{type:"application/javascript"}),this.createWorker.blob_=t),new Worker(URL.createObjectURL(t))},i.prototype.vmCall=function(t,e,o,p){var E={timeout:this.REGEXP_THREAD_TIMEOUT};try{return i.vm.runInNewContext(t,e,E)}catch{p(null),this.throwException(this.ERROR,"RegExp Timeout: "+o)}return i.REGEXP_TIMEOUT},i.prototype.maybeThrowRegExp=function(t,e){var o;if(this.REGEXP_MODE===0)o=!1;else if(this.REGEXP_MODE===1)o=!0;else if(i.vm)o=!0;else if(typeof Worker=="function"&&typeof URL=="function")o=!0;else{try{i.vm=F("vm")}catch{}o=!!i.vm}o||(e(null),this.throwException(this.ERROR,"Regular expressions not supported: "+t))},i.prototype.regExpTimeout=function(t,e,o){var p=this;return setTimeout(function(){e.terminate(),o(null);try{p.throwException(p.ERROR,"RegExp Timeout: "+t)}catch{}},this.REGEXP_THREAD_TIMEOUT)},i.prototype.createObject=function(t){return this.createObjectProto(t&&t.properties.prototype)},i.prototype.createObjectProto=function(t){if(typeof t!="object")throw Error("Non object prototype");var e=new i.Object(t);return this.isa(e,this.ERROR)&&(e.class="Error"),e},i.prototype.createArray=function(){var t=this.createObjectProto(this.ARRAY_PROTO);return this.setProperty(t,"length",0,{configurable:!1,enumerable:!1,writable:!0}),t.class="Array",t},i.prototype.createFunctionBase_=function(t,e){var o=this.createObjectProto(this.FUNCTION_PROTO);if(e){var p=this.createObjectProto(this.OBJECT_PROTO);this.setProperty(o,"prototype",p,i.NONENUMERABLE_DESCRIPTOR),this.setProperty(p,"constructor",o,i.NONENUMERABLE_DESCRIPTOR)}else o.illegalConstructor=!0;return this.setProperty(o,"length",t,i.READONLY_NONENUMERABLE_DESCRIPTOR),o.class="Function",o},i.prototype.createFunction=function(t,e,o){var p=this.createFunctionBase_(t.params.length,!0);p.parentScope=e,p.node=t;var E=t.id?String(t.id.name):o||"";return this.setProperty(p,"name",E,i.READONLY_NONENUMERABLE_DESCRIPTOR),p},i.prototype.createNativeFunction=function(t,e){var o=this.createFunctionBase_(t.length,e);return o.nativeFunc=t,t.id=this.functionCounter_++,this.setProperty(o,"name",t.name,i.READONLY_NONENUMERABLE_DESCRIPTOR),o},i.prototype.createAsyncFunction=function(t){var e=this.createFunctionBase_(t.length,!0);return e.asyncFunc=t,t.id=this.functionCounter_++,this.setProperty(e,"name",t.name,i.READONLY_NONENUMERABLE_DESCRIPTOR),e},i.prototype.nativeToPseudo=function(t,e){if(t==null||t===!0||t===!1||typeof t=="string"||typeof t=="number")return t;if(t instanceof i.Object)throw Error("Object is already pseudo");var o=e||{pseudo:[],native:[]},p=o.native.indexOf(t);if(p!==-1)return o.pseudo[p];if(o.native.push(t),t instanceof RegExp){var E=this.createObjectProto(this.REGEXP_PROTO);return this.populateRegExp(E,t),o.pseudo.push(E),E}if(t instanceof Date){var y=this.createObjectProto(this.DATE_PROTO);return y.data=new Date(t.valueOf()),o.pseudo.push(y),y}if(typeof t=="function"){var u=this,m=function(){var q=Array.prototype.slice.call(arguments).map(function(ue){return u.pseudoToNative(ue)}),ee=t.apply(u,q);return u.nativeToPseudo(ee)},A=Object.getOwnPropertyDescriptor(t,"prototype"),U=this.createNativeFunction(m,!!A);return o.pseudo.push(U),U}var Y;Array.isArray(t)?Y=this.createArray():Y=this.createObjectProto(this.OBJECT_PROTO),o.pseudo.push(Y);for(var V in t)this.setProperty(Y,V,this.nativeToPseudo(t[V],o));return Y},i.prototype.pseudoToNative=function(t,e){if(t==null||t===!0||t===!1||typeof t=="string"||typeof t=="number")return t;if(!(t instanceof i.Object))throw Error("Object is not pseudo");var o=e||{pseudo:[],native:[]},p=o.pseudo.indexOf(t);if(p!==-1)return o.native[p];if(o.pseudo.push(t),this.isa(t,this.REGEXP)){var E=new RegExp(t.data.source,t.data.flags);return E.lastIndex=t.data.lastIndex,o.native.push(E),E}if(this.isa(t,this.DATE)){var y=new Date(t.data.valueOf());return o.native.push(y),y}var u=this.isa(t,this.ARRAY)?[]:{};o.native.push(u);var m;for(var A in t.properties)m=this.pseudoToNative(t.properties[A],o),Object.defineProperty(u,A,{value:m,writable:!0,enumerable:!0,configurable:!0});return u},i.prototype.getPrototype=function(t){switch(typeof t){case"number":return this.NUMBER.properties.prototype;case"boolean":return this.BOOLEAN.properties.prototype;case"string":return this.STRING.properties.prototype}return t?t.proto:null},i.prototype.getProperty=function(t,e){if(this.getterStep_)throw Error("Getter not supported in that context");if(e=String(e),t==null&&this.throwException(this.TYPE_ERROR,"Cannot read property '"+e+"' of "+t),typeof t=="object"&&!(t instanceof i.Object))throw TypeError("Expecting native value or pseudo object");if(e==="length"){if(this.isa(t,this.STRING))return String(t).length}else if(e.charCodeAt(0)<64&&this.isa(t,this.STRING)){var o=i.legalArrayIndex(e);if(!isNaN(o)&&o<String(t).length)return String(t)[o]}do if(t.properties&&e in t.properties){var p=t.getter[e];return p?(this.getterStep_=!0,p):t.properties[e]}while(t=this.getPrototype(t))},i.prototype.hasProperty=function(t,e){if(!(t instanceof i.Object))throw TypeError("Primitive data type has no properties");if(e=String(e),e==="length"&&this.isa(t,this.STRING))return!0;if(this.isa(t,this.STRING)){var o=i.legalArrayIndex(e);if(!isNaN(o)&&o<String(t).length)return!0}do if(t.properties&&e in t.properties)return!0;while(t=this.getPrototype(t));return!1},i.prototype.setProperty=function(t,e,o,p){if(this.setterStep_)throw Error("Setter not supported in that context");if(e=String(e),t==null&&this.throwException(this.TYPE_ERROR,"Cannot set property '"+e+"' of "+t),typeof t=="object"&&!(t instanceof i.Object))throw TypeError("Expecting native value or pseudo object");p&&("get"in p||"set"in p)&&("value"in p||"writable"in p)&&this.throwException(this.TYPE_ERROR,"Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");var E=!this.stateStack||this.getScope().strict;if(!(t instanceof i.Object)){E&&this.throwException(this.TYPE_ERROR,"Can't create property '"+e+"' on '"+t+"'");return}if(this.isa(t,this.STRING)){var y=i.legalArrayIndex(e);if(e==="length"||!isNaN(y)&&y<String(t).length){E&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+e+"' of String '"+t.data+"'");return}}if(t.class==="Array"){var u=t.properties.length,m;if(e==="length"){if(p){if(!("value"in p))return;o=p.value}if(o=i.legalArrayLength(o),isNaN(o)&&this.throwException(this.RANGE_ERROR,"Invalid array length"),o<u)for(m in t.properties)m=i.legalArrayIndex(m),!isNaN(m)&&o<=m&&delete t.properties[m]}else isNaN(m=i.legalArrayIndex(e))||(t.properties.length=Math.max(u,m+1))}if(t.preventExtensions&&!(e in t.properties)){E&&this.throwException(this.TYPE_ERROR,"Can't add property '"+e+"', object is not extensible");return}if(p){var A={};"get"in p&&p.get&&(t.getter[e]=p.get,A.get=this.setProperty.placeholderGet_),"set"in p&&p.set&&(t.setter[e]=p.set,A.set=this.setProperty.placeholderSet_),"configurable"in p&&(A.configurable=p.configurable),"enumerable"in p&&(A.enumerable=p.enumerable),"writable"in p&&(A.writable=p.writable,delete t.getter[e],delete t.setter[e]),"value"in p?(A.value=p.value,delete t.getter[e],delete t.setter[e]):o!==i.VALUE_IN_DESCRIPTOR&&(A.value=o,delete t.getter[e],delete t.setter[e]);try{Object.defineProperty(t.properties,e,A)}catch{this.throwException(this.TYPE_ERROR,"Cannot redefine property: "+e)}"get"in p&&!p.get&&delete t.getter[e],"set"in p&&!p.set&&delete t.setter[e]}else{if(o===i.VALUE_IN_DESCRIPTOR)throw ReferenceError("Value not specified");for(var U=t;!(e in U.properties);)if(U=this.getPrototype(U),!U){U=t;break}if(U.setter&&U.setter[e])return this.setterStep_=!0,U.setter[e];if(U.getter&&U.getter[e])E&&this.throwException(this.TYPE_ERROR,"Cannot set property '"+e+"' of object '"+t+"' which only has a getter");else try{t.properties[e]=o}catch{E&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+e+"' of object '"+t+"'")}}},i.prototype.setProperty.placeholderGet_=function(){throw Error("Placeholder getter")},i.prototype.setProperty.placeholderSet_=function(){throw Error("Placeholder setter")},i.prototype.setNativeFunctionPrototype=function(t,e,o){this.setProperty(t.properties.prototype,e,this.createNativeFunction(o,!1),i.NONENUMERABLE_DESCRIPTOR)},i.prototype.setAsyncFunctionPrototype=function(t,e,o){this.setProperty(t.properties.prototype,e,this.createAsyncFunction(o),i.NONENUMERABLE_DESCRIPTOR)},i.prototype.getScope=function(){var t=this.stateStack[this.stateStack.length-1].scope;if(!t)throw Error("No scope found");return t},i.prototype.createScope=function(t,e){var o=!1;if(e&&e.strict)o=!0;else{var p=t.body&&t.body[0];p&&p.expression&&p.expression.type==="Literal"&&p.expression.value==="use strict"&&(o=!0)}var E=this.createObjectProto(null),y=new i.Scope(e,o,E);return e||this.initGlobal(y.object),this.populateScope_(t,y),y},i.prototype.createSpecialScope=function(t,e){if(!t)throw Error("parentScope required");var o=e||this.createObjectProto(null);return new i.Scope(t,t.strict,o)},i.prototype.getValueFromScope=function(t){for(var e=this.getScope();e&&e!==this.globalScope;){if(t in e.object.properties)return e.object.properties[t];e=e.parentScope}if(e===this.globalScope&&this.hasProperty(e.object,t))return this.getProperty(e.object,t);var o=this.stateStack[this.stateStack.length-1].node;o.type==="UnaryExpression"&&o.operator==="typeof"||this.throwException(this.REFERENCE_ERROR,t+" is not defined")},i.prototype.setValueToScope=function(t,e){for(var o=this.getScope(),p=o.strict;o&&o!==this.globalScope;){if(t in o.object.properties){try{o.object.properties[t]=e}catch{p&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only variable '"+t+"'")}return}o=o.parentScope}if(o===this.globalScope&&(!p||this.hasProperty(o.object,t)))return this.setProperty(o.object,t,e);this.throwException(this.REFERENCE_ERROR,t+" is not defined")},i.prototype.populateScope_=function(t,e){var o;if(t.variableCache_)o=t.variableCache_;else{switch(o=Object.create(null),t.type){case"VariableDeclaration":for(var p=0;p<t.declarations.length;p++)o[t.declarations[p].id.name]=!0;break;case"FunctionDeclaration":o[t.id.name]=t;break;case"BlockStatement":case"CatchClause":case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"Program":case"SwitchCase":case"SwitchStatement":case"TryStatement":case"WithStatement":case"WhileStatement":var E=t.constructor;for(var y in t)if(y!=="loc"){var u=t[y];if(u&&typeof u=="object"){var m;if(Array.isArray(u)){for(var p=0;p<u.length;p++)if(u[p]&&u[p].constructor===E){m=this.populateScope_(u[p],e);for(var y in m)o[y]=m[y]}}else if(u.constructor===E){m=this.populateScope_(u,e);for(var y in m)o[y]=m[y]}}}}t.variableCache_=o}for(var y in o)o[y]===!0?this.setProperty(e.object,y,void 0,i.VARIABLE_DESCRIPTOR):this.setProperty(e.object,y,this.createFunction(o[y],e),i.VARIABLE_DESCRIPTOR);return o},i.prototype.calledWithNew=function(){return this.stateStack[this.stateStack.length-1].isConstructor},i.prototype.getValue=function(t){return t[0]===i.SCOPE_REFERENCE?this.getValueFromScope(t[1]):this.getProperty(t[0],t[1])},i.prototype.setValue=function(t,e){return t[0]===i.SCOPE_REFERENCE?this.setValueToScope(t[1],e):this.setProperty(t[0],t[1],e)},i.prototype.throwException=function(t,e){if(!this.globalScope)throw e===void 0?t:e;if(e===void 0||!(t instanceof i.Object))var o=t;else{var o=this.createObject(t);this.populateError(o,e)}throw this.unwind(i.Completion.THROW,o,void 0),i.STEP_ERROR},i.prototype.unwind=function(t,e,o){if(t===i.Completion.NORMAL)throw TypeError("Should not unwind for NORMAL completions");e:for(var p=this.stateStack;p.length>0;p.pop()){var E=p[p.length-1];switch(E.node.type){case"TryStatement":E.cv={type:t,value:e,label:o};return;case"CallExpression":case"NewExpression":if(t===i.Completion.RETURN){E.value=e;return}else if(t===i.Completion.BREAK||t===i.Completion.CONTINUE)throw Error("Unsyntactic break/continue not rejected by Acorn");break;case"Program":if(t===i.Completion.RETURN)return;E.done=!0;break e}if(t===i.Completion.BREAK){if(o?E.labels&&E.labels.indexOf(o)!==-1:E.isLoop||E.isSwitch){p.pop();return}}else if(t===i.Completion.CONTINUE&&(o?E.labels&&E.labels.indexOf(o)!==-1:E.isLoop))return}var y;if(this.isa(e,this.ERROR)){var u={EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError},m=String(this.getProperty(e,"name")),A=this.getProperty(e,"message").valueOf(),U=u[m]||Error;y=U(A),y.stack=String(this.getProperty(e,"stack"))}else y=String(e);throw this.value=y,y},i.prototype.nodeSummary=function(t){switch(t.type){case"ArrayExpression":return"[...]";case"BinaryExpression":case"LogicalExpression":return this.nodeSummary(t.left)+" "+t.operator+" "+this.nodeSummary(t.right);case"CallExpression":return this.nodeSummary(t.callee)+"(...)";case"ConditionalExpression":return this.nodeSummary(t.test)+" ? "+this.nodeSummary(t.consequent)+" : "+this.nodeSummary(t.alternate);case"Identifier":return t.name;case"Literal":return t.raw;case"MemberExpression":var e=this.nodeSummary(t.object),o=this.nodeSummary(t.property);return t.computed?e+"["+o+"]":e+"."+o;case"NewExpression":return"new "+this.nodeSummary(t.callee)+"(...)";case"ObjectExpression":return"{...}";case"ThisExpression":return"this";case"UnaryExpression":return t.operator+" "+this.nodeSummary(t.argument);case"UpdateExpression":var p=this.nodeSummary(t.argument);return t.prefix?t.operator+p:p+t.operator}return"???"},i.prototype.createTask_=function(t,e){var o=this.stateStack[this.stateStack.length-1],p=Array.from(e),E=p.shift(),y=Math.max(Number(p.shift()||0),0),u=this.newNode(),m,A,U;if(E instanceof i.Object&&E.class==="Function")A=E,u.type="CallExpression",m=o.scope;else{try{U=this.parse_(String(E),"taskCode"+this.taskCodeNumber_++)}catch(ue){this.throwException(this.SYNTAX_ERROR,"Invalid code: "+ue.message)}u.type="EvalProgram_",u.body=U.body;var Y=o.node.arguments[0],V=Y?Y.start:void 0,q=Y?Y.end:void 0;i.stripLocations_(u,V,q),m=this.globalScope,p.length=0}var ee=new i.Task(A,p,m,u,t?y:-1);return this.scheduleTask_(ee,y),ee.pid},i.prototype.scheduleTask_=function(t,e){t.time=Date.now()+e,this.tasks.push(t),this.tasks.sort(function(o,p){return o.time-p.time})},i.prototype.deleteTask_=function(t){for(var e=0;e<this.tasks.length;e++)if(this.tasks[e].pid==t){this.tasks.splice(e,1);break}},i.prototype.nextTask_=function(){var t=this.tasks[0];if(!t||t.time>Date.now())return null;this.tasks.shift(),t.interval>=0&&this.scheduleTask_(t,t.interval);var e=new i.State(t.node,t.scope);return t.functionRef&&(e.doneCallee_=2,e.funcThis_=this.globalObject,e.func_=t.functionRef,e.doneArgs_=!0,e.arguments_=t.argsArray),e},i.prototype.createGetter_=function(t,e){if(!this.getterStep_)throw Error("Unexpected call to createGetter");this.getterStep_=!1;var o=Array.isArray(e)?e[0]:e,p=this.newNode();p.type="CallExpression";var E=new i.State(p,this.stateStack[this.stateStack.length-1].scope);return E.doneCallee_=2,E.funcThis_=o,E.func_=t,E.doneArgs_=!0,E.arguments_=[],E},i.prototype.createSetter_=function(t,e,o){if(!this.setterStep_)throw Error("Unexpected call to createSetter");this.setterStep_=!1;var p=Array.isArray(e)?e[0]:this.globalObject,E=this.newNode();E.type="CallExpression";var y=new i.State(E,this.stateStack[this.stateStack.length-1].scope);return y.doneCallee_=2,y.funcThis_=p,y.func_=t,y.doneArgs_=!0,y.arguments_=[o],y},i.prototype.boxThis_=function(t){if(t==null)return this.globalObject;if(!(t instanceof i.Object)){var e=this.createObjectProto(this.getPrototype(t));return e.data=t,e}return t},i.prototype.getGlobalScope=function(){return this.globalScope},i.prototype.getStateStack=function(){return this.stateStack},i.prototype.setStateStack=function(t){this.stateStack=t},i.Value,i.State=function(t,e){this.node=t,this.scope=e},i.Scope=function(t,e,o){this.parentScope=t,this.strict=e,this.object=o},i.Object=function(t){this.getter=Object.create(null),this.setter=Object.create(null),this.properties=Object.create(null),this.proto=t},i.Object.prototype.proto=null,i.Object.prototype.class="Object",i.Object.prototype.data=null,i.Object.prototype.toString=function(){if(!i.currentInterpreter_)return"[object Interpreter.Object]";if(!(this instanceof i.Object))return String(this);if(this.class==="Array"){var t=i.toStringCycles_;t.push(this);try{var e=[],o=this.properties.length,p=!1;o>1024&&(o=1e3,p=!0);for(var E=0;E<o;E++){var y=this.properties[E];e[E]=y instanceof i.Object&&t.indexOf(y)!==-1?"...":y}p&&e.push("...")}finally{t.pop()}return e.join(",")}if(this.class==="Error"){var t=i.toStringCycles_;if(t.indexOf(this)!==-1)return"[object Error]";var u,m,A=this;do if("name"in A.properties){u=A.properties.name;break}while(A=A.proto);A=this;do if("message"in A.properties){m=A.properties.message;break}while(A=A.proto);t.push(this);try{u=u&&String(u),m=m&&String(m)}finally{t.pop()}return m?u+": "+m:String(u)}return this.data!==null?String(this.data):"[object "+this.class+"]"},i.Object.prototype.valueOf=function(){return i.currentInterpreter_?this.data===void 0||this.data===null||this.data instanceof RegExp?this:this.data instanceof Date?this.data.valueOf():this.data:this},i.Task=function(t,e,o,p,E){this.functionRef=t,this.argsArray=e,this.scope=o,this.node=p,this.interval=E,this.pid=++i.Task.pid,this.time=0},i.Task.pid=0,i.prototype.stepArrayExpression=function(t,e,o){var p=o.elements,E=e.n_||0;for(e.array_?(this.setProperty(e.array_,E,e.value),E++):(e.array_=this.createArray(),e.array_.properties.length=p.length);E<p.length;){if(p[E])return e.n_=E,new i.State(p[E],e.scope);E++}t.pop(),t[t.length-1].value=e.array_},i.prototype.stepAssignmentExpression=function(t,e,o){if(!e.doneLeft_){e.doneLeft_=!0;var p=new i.State(o.left,e.scope);return p.components=!0,p}if(!e.doneRight_){if(e.leftReference_||(e.leftReference_=e.value),e.doneGetter_&&(e.leftValue_=e.value),!e.doneGetter_&&o.operator!=="="){var E=this.getValue(e.leftReference_);if(e.leftValue_=E,this.getterStep_){e.doneGetter_=!0;var y=E;return this.createGetter_(y,e.leftReference_)}}return e.doneRight_=!0,o.operator==="="&&o.left.type==="Identifier"&&(e.destinationName=o.left.name),new i.State(o.right,e.scope)}if(e.doneSetter_){t.pop(),t[t.length-1].value=e.setterValue_;return}var u=e.leftValue_,m=e.value;switch(o.operator){case"=":u=m;break;case"+=":u+=m;break;case"-=":u-=m;break;case"*=":u*=m;break;case"/=":u/=m;break;case"%=":u%=m;break;case"<<=":u<<=m;break;case">>=":u>>=m;break;case">>>=":u>>>=m;break;case"&=":u&=m;break;case"^=":u^=m;break;case"|=":u|=m;break;default:throw SyntaxError("Unknown assignment expression: "+o.operator)}var A=this.setValue(e.leftReference_,u);if(A)return e.doneSetter_=!0,e.setterValue_=u,this.createSetter_(A,e.leftReference_,u);t.pop(),t[t.length-1].value=u},i.prototype.stepBinaryExpression=function(t,e,o){if(!e.doneLeft_)return e.doneLeft_=!0,new i.State(o.left,e.scope);if(!e.doneRight_)return e.doneRight_=!0,e.leftValue_=e.value,new i.State(o.right,e.scope);t.pop();var p=e.leftValue_,E=e.value,y;switch(o.operator){case"==":y=p==E;break;case"!=":y=p!=E;break;case"===":y=p===E;break;case"!==":y=p!==E;break;case">":y=p>E;break;case">=":y=p>=E;break;case"<":y=p<E;break;case"<=":y=p<=E;break;case"+":y=p+E;break;case"-":y=p-E;break;case"*":y=p*E;break;case"/":y=p/E;break;case"%":y=p%E;break;case"&":y=p&E;break;case"|":y=p|E;break;case"^":y=p^E;break;case"<<":y=p<<E;break;case">>":y=p>>E;break;case">>>":y=p>>>E;break;case"in":E instanceof i.Object||this.throwException(this.TYPE_ERROR,"'in' expects an object, not '"+E+"'"),y=this.hasProperty(E,p);break;case"instanceof":this.isa(E,this.FUNCTION)||this.throwException(this.TYPE_ERROR,"'instanceof' expects an object, not '"+E+"'"),y=p instanceof i.Object?this.isa(p,E):!1;break;default:throw SyntaxError("Unknown binary operator: "+o.operator)}t[t.length-1].value=y},i.prototype.stepBlockStatement=function(t,e,o){var p=e.n_||0,E=o.body[p];if(E)return e.n_=p+1,new i.State(E,e.scope);t.pop()},i.prototype.stepBreakStatement=function(t,e,o){var p=o.label&&o.label.name;this.unwind(i.Completion.BREAK,void 0,p)},i.prototype.evalCodeNumber_=0,i.prototype.stepCallExpression=function(t,e,o){if(!e.doneCallee_){e.doneCallee_=1;var p=new i.State(o.callee,e.scope);return p.components=!0,p}if(e.doneCallee_===1){e.doneCallee_=2;var E=e.value;if(Array.isArray(E)){if(e.func_=this.getValue(E),E[0]===i.SCOPE_REFERENCE?e.directEval_=E[1]==="eval":e.funcThis_=E[0],E=e.func_,this.getterStep_)return e.doneCallee_=1,this.createGetter_(E,e.value)}else e.func_=E;e.arguments_=[],e.n_=0}var E=e.func_;if(!e.doneArgs_){if(e.n_!==0&&e.arguments_.push(e.value),o.arguments[e.n_])return new i.State(o.arguments[e.n_++],e.scope);if(o.type==="NewExpression"){if((!(E instanceof i.Object)||E.illegalConstructor)&&this.throwException(this.TYPE_ERROR,this.nodeSummary(o.callee)+" is not a constructor"),E===this.ARRAY)e.funcThis_=this.createArray();else{var y=E.properties.prototype;(typeof y!="object"||y===null)&&(y=this.OBJECT_PROTO),e.funcThis_=this.createObjectProto(y)}e.isConstructor=!0}e.doneArgs_=!0}if(e.doneExec_)t.pop(),e.isConstructor&&typeof e.value!="object"?t[t.length-1].value=e.funcThis_:t[t.length-1].value=e.value;else{e.doneExec_=!0,E instanceof i.Object||this.throwException(this.TYPE_ERROR,this.nodeSummary(o.callee)+" is not a function");var u=E.node;if(u){for(var m=this.createScope(u.body,E.parentScope),A=this.createArray(),U=0;U<e.arguments_.length;U++)this.setProperty(A,U,e.arguments_[U]);this.setProperty(m.object,"arguments",A);for(var U=0;U<u.params.length;U++){var Y=u.params[U].name,V=e.arguments_.length>U?e.arguments_[U]:void 0;this.setProperty(m.object,Y,V)}return m.strict||(e.funcThis_=this.boxThis_(e.funcThis_)),this.setProperty(m.object,"this",e.funcThis_,i.READONLY_DESCRIPTOR),e.value=void 0,new i.State(u.body,m)}else if(E.eval){var q=e.arguments_[0];if(typeof q!="string")e.value=q;else{try{var ee=this.parse_(String(q),"eval"+this.evalCodeNumber_++)}catch(ce){this.throwException(this.SYNTAX_ERROR,"Invalid code: "+ce.message)}var ue=this.newNode();ue.type="EvalProgram_",ue.body=ee.body,i.stripLocations_(ue,o.start,o.end);var m=e.directEval_?e.scope:this.globalScope;return m.strict?m=this.createScope(ee,m):this.populateScope_(ee,m),this.value=void 0,new i.State(ue,m)}}else if(E.nativeFunc)e.scope.strict||(e.funcThis_=this.boxThis_(e.funcThis_)),e.value=E.nativeFunc.apply(e.funcThis_,e.arguments_);else if(E.asyncFunc){var ye=this,et=function(De){e.value=De,ye.paused_=!1},Se=E.asyncFunc.length-1,$e=e.arguments_.concat(new Array(Se)).slice(0,Se);$e.push(et),this.paused_=!0,e.scope.strict||(e.funcThis_=this.boxThis_(e.funcThis_)),E.asyncFunc.apply(e.funcThis_,$e);return}else this.throwException(this.TYPE_ERROR,this.nodeSummary(o.callee)+" is not callable")}},i.prototype.stepConditionalExpression=function(t,e,o){var p=e.mode_||0;if(p===0)return e.mode_=1,new i.State(o.test,e.scope);if(p===1){e.mode_=2;var E=!!e.value;if(E&&o.consequent)return new i.State(o.consequent,e.scope);if(!E&&o.alternate)return new i.State(o.alternate,e.scope);this.value=void 0}t.pop(),o.type==="ConditionalExpression"&&(t[t.length-1].value=e.value)},i.prototype.stepContinueStatement=function(t,e,o){var p=o.label&&o.label.name;this.unwind(i.Completion.CONTINUE,void 0,p)},i.prototype.stepDebuggerStatement=function(t,e,o){t.pop()},i.prototype.stepDoWhileStatement=function(t,e,o){if(o.type==="DoWhileStatement"&&e.test_===void 0&&(e.value=!0,e.test_=!0),!e.test_)return e.test_=!0,new i.State(o.test,e.scope);if(!e.value)t.pop();else if(o.body)return e.test_=!1,e.isLoop=!0,new i.State(o.body,e.scope)},i.prototype.stepEmptyStatement=function(t,e,o){t.pop()},i.prototype.stepEvalProgram_=function(t,e,o){var p=e.n_||0,E=o.body[p];if(E)return e.n_=p+1,new i.State(E,e.scope);t.pop(),t[t.length-1].value=this.value},i.prototype.stepExpressionStatement=function(t,e,o){if(!e.done_)return this.value=void 0,e.done_=!0,new i.State(o.expression,e.scope);t.pop(),this.value=e.value},i.prototype.stepForInStatement=function(t,e,o){if(!e.doneInit_&&(e.doneInit_=!0,o.left.declarations&&o.left.declarations[0].init))return e.scope.strict&&this.throwException(this.SYNTAX_ERROR,"for-in loop variable declaration may not have an initializer"),new i.State(o.left,e.scope);if(!e.doneObject_)return e.doneObject_=!0,e.variable_||(e.variable_=e.value),new i.State(o.right,e.scope);if(e.isLoop||(e.isLoop=!0,e.object_=e.value,e.visited_=Object.create(null)),e.name_===void 0)e:for(;;){if(e.object_ instanceof i.Object)for(e.props_||(e.props_=Object.getOwnPropertyNames(e.object_.properties));;){var p=e.props_.shift();if(p===void 0)break;if(Object.prototype.hasOwnProperty.call(e.object_.properties,p)&&!e.visited_[p]&&(e.visited_[p]=!0,!!Object.prototype.propertyIsEnumerable.call(e.object_.properties,p))){e.name_=p;break e}}else if(e.object_!==null&&e.object_!==void 0)for(e.props_||(e.props_=Object.getOwnPropertyNames(e.object_));;){var p=e.props_.shift();if(p===void 0)break;if(e.visited_[p]=!0,!!Object.prototype.propertyIsEnumerable.call(e.object_,p)){e.name_=p;break e}}if(e.object_=this.getPrototype(e.object_),e.props_=null,e.object_===null){t.pop();return}}if(!e.doneVariable_){e.doneVariable_=!0;var E=o.left;if(E.type==="VariableDeclaration")e.variable_=[i.SCOPE_REFERENCE,E.declarations[0].id.name];else{e.variable_=null;var y=new i.State(E,e.scope);return y.components=!0,y}}if(e.variable_||(e.variable_=e.value),!e.doneSetter_){e.doneSetter_=!0;var u=e.name_,m=this.setValue(e.variable_,u);if(m)return this.createSetter_(m,e.variable_,u)}if(e.name_=void 0,e.doneVariable_=!1,e.doneSetter_=!1,o.body)return new i.State(o.body,e.scope)},i.prototype.stepForStatement=function(t,e,o){switch(e.mode_){default:if(e.mode_=1,o.init)return new i.State(o.init,e.scope);break;case 1:if(e.mode_=2,o.test)return new i.State(o.test,e.scope);break;case 2:if(e.mode_=3,o.test&&!e.value)t.pop();else return e.isLoop=!0,new i.State(o.body,e.scope);break;case 3:if(e.mode_=1,o.update)return new i.State(o.update,e.scope);break}},i.prototype.stepFunctionDeclaration=function(t,e,o){t.pop()},i.prototype.stepFunctionExpression=function(t,e,o){t.pop(),e=t[t.length-1];var p=e.scope;o.id&&(p=this.createSpecialScope(p)),e.value=this.createFunction(o,p,e.destinationName),o.id&&this.setProperty(p.object,o.id.name,e.value,i.READONLY_DESCRIPTOR)},i.prototype.stepIdentifier=function(t,e,o){if(t.pop(),e.components){t[t.length-1].value=[i.SCOPE_REFERENCE,o.name];return}var p=this.getValueFromScope(o.name);if(this.getterStep_){var E=p;return this.createGetter_(E,this.globalObject)}t[t.length-1].value=p},i.prototype.stepIfStatement=i.prototype.stepConditionalExpression,i.prototype.stepLabeledStatement=function(t,e,o){t.pop();var p=e.labels||[];p.push(o.label.name);var E=new i.State(o.body,e.scope);return E.labels=p,E},i.prototype.stepLiteral=function(t,e,o){t.pop();var p=o.value;if(p instanceof RegExp){var E=this.createObjectProto(this.REGEXP_PROTO);this.populateRegExp(E,p),p=E}t[t.length-1].value=p},i.prototype.stepLogicalExpression=function(t,e,o){if(o.operator!=="&&"&&o.operator!=="||")throw SyntaxError("Unknown logical operator: "+o.operator);if(!e.doneLeft_)return e.doneLeft_=!0,new i.State(o.left,e.scope);if(e.doneRight_)t.pop(),t[t.length-1].value=e.value;else if(o.operator==="&&"&&!e.value||o.operator==="||"&&e.value)t.pop(),t[t.length-1].value=e.value;else return e.doneRight_=!0,new i.State(o.right,e.scope)},i.prototype.stepMemberExpression=function(t,e,o){if(!e.doneObject_)return e.doneObject_=!0,new i.State(o.object,e.scope);var p;if(!o.computed)e.object_=e.value,p=o.property.name;else if(e.doneProperty_)p=e.value;else return e.object_=e.value,e.doneProperty_=!0,new i.State(o.property,e.scope);if(t.pop(),e.components)t[t.length-1].value=[e.object_,p];else{var E=this.getProperty(e.object_,p);if(this.getterStep_){var y=E;return this.createGetter_(y,e.object_)}t[t.length-1].value=E}},i.prototype.stepNewExpression=i.prototype.stepCallExpression,i.prototype.stepObjectExpression=function(t,e,o){var p=e.n_||0,E=o.properties[p];if(!e.object_)e.object_=this.createObjectProto(this.OBJECT_PROTO),e.properties_=Object.create(null);else{var y=e.destinationName;e.properties_[y]||(e.properties_[y]={}),e.properties_[y][E.kind]=e.value,e.n_=++p,E=o.properties[p]}if(E){var u=E.key;if(u.type==="Identifier")var y=u.name;else if(u.type==="Literal")var y=u.value;else throw SyntaxError("Unknown object structure: "+u.type);return e.destinationName=y,new i.State(E.value,e.scope)}for(var u in e.properties_){var m=e.properties_[u];if("get"in m||"set"in m){var A={configurable:!0,enumerable:!0,get:m.get,set:m.set};this.setProperty(e.object_,u,i.VALUE_IN_DESCRIPTOR,A)}else this.setProperty(e.object_,u,m.init)}t.pop(),t[t.length-1].value=e.object_},i.prototype.stepProgram=function(t,e,o){var p=o.body.shift();if(p)return e.done=!1,new i.State(p,e.scope);e.done=!0},i.prototype.stepReturnStatement=function(t,e,o){if(o.argument&&!e.done_)return e.done_=!0,new i.State(o.argument,e.scope);this.unwind(i.Completion.RETURN,e.value,void 0)},i.prototype.stepSequenceExpression=function(t,e,o){var p=e.n_||0,E=o.expressions[p];if(E)return e.n_=p+1,new i.State(E,e.scope);t.pop(),t[t.length-1].value=e.value},i.prototype.stepSwitchStatement=function(t,e,o){if(!e.test_)return e.test_=1,new i.State(o.discriminant,e.scope);for(e.test_===1&&(e.test_=2,e.switchValue_=e.value,e.defaultCase_=-1);;){var p=e.index_||0,E=o.cases[p];if(!e.matched_&&E&&!E.test){e.defaultCase_=p,e.index_=p+1;continue}if(!E&&!e.matched_&&e.defaultCase_!==-1){e.matched_=!0,e.index_=e.defaultCase_;continue}if(E){if(!e.matched_&&!e.tested_&&E.test)return e.tested_=!0,new i.State(E.test,e.scope);if(e.matched_||e.value===e.switchValue_){e.matched_=!0;var y=e.n_||0;if(E.consequent[y])return e.isSwitch=!0,e.n_=y+1,new i.State(E.consequent[y],e.scope)}e.tested_=!1,e.n_=0,e.index_=p+1}else{t.pop();return}}},i.prototype.stepThisExpression=function(t,e,o){t.pop(),t[t.length-1].value=this.getValueFromScope("this")},i.prototype.stepThrowStatement=function(t,e,o){if(e.done_)this.throwException(e.value);else return e.done_=!0,new i.State(o.argument,e.scope)},i.prototype.stepTryStatement=function(t,e,o){if(!e.doneBlock_)return e.doneBlock_=!0,new i.State(o.block,e.scope);if(e.cv&&e.cv.type===i.Completion.THROW&&!e.doneHandler_&&o.handler){e.doneHandler_=!0;var p=this.createSpecialScope(e.scope);return this.setProperty(p.object,o.handler.param.name,e.cv.value),e.cv=void 0,new i.State(o.handler.body,p)}if(!e.doneFinalizer_&&o.finalizer)return e.doneFinalizer_=!0,new i.State(o.finalizer,e.scope);t.pop(),e.cv&&this.unwind(e.cv.type,e.cv.value,e.cv.label)},i.prototype.stepUnaryExpression=function(t,e,o){if(!e.done_){e.done_=!0;var p=new i.State(o.argument,e.scope);return p.components=o.operator==="delete",p}t.pop();var E=e.value;switch(o.operator){case"-":E=-E;break;case"+":E=+E;break;case"!":E=!E;break;case"~":E=~E;break;case"delete":var y=!0;if(Array.isArray(E)){var u=E[0];u===i.SCOPE_REFERENCE&&(u=e.scope);var m=String(E[1]);try{delete u.properties[m]}catch{e.scope.strict?this.throwException(this.TYPE_ERROR,"Cannot delete property '"+m+"' of '"+u+"'"):y=!1}}E=y;break;case"typeof":E=E&&E.class==="Function"?"function":typeof E;break;case"void":E=void 0;break;default:throw SyntaxError("Unknown unary operator: "+o.operator)}t[t.length-1].value=E},i.prototype.stepUpdateExpression=function(t,e,o){if(!e.doneLeft_){e.doneLeft_=!0;var p=new i.State(o.argument,e.scope);return p.components=!0,p}if(e.leftSide_||(e.leftSide_=e.value),e.doneGetter_&&(e.leftValue_=e.value),!e.doneGetter_){var y=this.getValue(e.leftSide_);if(e.leftValue_=y,this.getterStep_){e.doneGetter_=!0;var E=y;return this.createGetter_(E,e.leftSide_)}}if(e.doneSetter_){t.pop(),t[t.length-1].value=e.setterValue_;return}var y=Number(e.leftValue_),u;if(o.operator==="++")u=y+1;else if(o.operator==="--")u=y-1;else throw SyntaxError("Unknown update expression: "+o.operator);var m=o.prefix?u:y,A=this.setValue(e.leftSide_,u);if(A)return e.doneSetter_=!0,e.setterValue_=m,this.createSetter_(A,e.leftSide_,u);t.pop(),t[t.length-1].value=m},i.prototype.stepVariableDeclaration=function(t,e,o){var p=o.declarations,E=e.n_||0,y=p[E];for(e.init_&&y&&(this.setValueToScope(y.id.name,e.value),e.init_=!1,y=p[++E]);y;){if(y.init)return e.n_=E,e.init_=!0,e.destinationName=y.id.name,new i.State(y.init,e.scope);y=p[++E]}t.pop()},i.prototype.stepWithStatement=function(t,e,o){if(!e.doneObject_)return e.doneObject_=!0,new i.State(o.object,e.scope);t.pop();var p=this.createSpecialScope(e.scope,e.value);return new i.State(o.body,p)},i.prototype.stepWhileStatement=i.prototype.stepDoWhileStatement,i.nativeGlobal.Interpreter=i,i.prototype.step=i.prototype.step,i.prototype.run=i.prototype.run,i.prototype.appendCode=i.prototype.appendCode,i.prototype.createObject=i.prototype.createObject,i.prototype.createObjectProto=i.prototype.createObjectProto,i.prototype.createAsyncFunction=i.prototype.createAsyncFunction,i.prototype.createNativeFunction=i.prototype.createNativeFunction,i.prototype.getProperty=i.prototype.getProperty,i.prototype.setProperty=i.prototype.setProperty,i.prototype.getStatus=i.prototype.getStatus,i.prototype.nativeToPseudo=i.prototype.nativeToPseudo,i.prototype.pseudoToNative=i.prototype.pseudoToNative,i.prototype.getGlobalScope=i.prototype.getGlobalScope,i.prototype.getStateStack=i.prototype.getStateStack,i.prototype.setStateStack=i.prototype.setStateStack,i.VALUE_IN_DESCRIPTOR=i.VALUE_IN_DESCRIPTOR,i.Status=i.Status,k.exports={Interpreter:i}},"./original-repo/acorn.js":function(k,L){(function(F,i){return i(L)})(typeof globalThis>"u"?this||window:globalThis,function(F){F.version="0.5.0";var i,t="",e,o;F.parse=function(v,R){return t=String(v),e=t.length,E(R),Wr(),ln(i.program)};var p={strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function E(v){i=v||{};for(var R in p)Object.prototype.hasOwnProperty.call(i,R)||(i[R]=p[R]);o=i.sourceFile}var y=function(v,R){for(var w=1,M=0;;){$t.lastIndex=M;var re=$t.exec(v);if(re&&re.index<R)++w,M=re.index+re[0].length;else break}return{line:w,column:R-M}},u=0,m=0,A=0,U,Y,V,q,ee,ue,ye,et=0,Se=0,$e,De,ce,_e;function ne(v,R){var w=y(t,v);R+=" ("+w.line+":"+w.column+")";var M=new SyntaxError(R);throw M.pos=v,M.loc=w,M.raisedAt=u,M}var Gt=[],Ge={type:"num"},ct={type:"regexp"},Ve={type:"string"},Fe={type:"name"},Ye={type:"eof"},tt={keyword:"break"},qe={keyword:"case",beforeExpr:!0},wt={keyword:"catch"},rt={keyword:"continue"},lt={keyword:"debugger"},nt={keyword:"default"},Pt={keyword:"do",isLoop:!0},Ct={keyword:"else",beforeExpr:!0},pt={keyword:"finally"},ft={keyword:"for",isLoop:!0},ae={keyword:"function"},Pe={keyword:"if"},Ie={keyword:"return",beforeExpr:!0},dt={keyword:"switch"},it={keyword:"throw",beforeExpr:!0},yt={keyword:"try"},gt={keyword:"var"},Xt={keyword:"while",isLoop:!0},ur={keyword:"with"},cr={keyword:"new",beforeExpr:!0},lr={keyword:"this"},pr={keyword:"null",atomValue:null},fr={keyword:"true",atomValue:!0},hr={keyword:"false",atomValue:!1},At={keyword:"in",binop:7,beforeExpr:!0},kr={break:tt,case:qe,catch:wt,continue:rt,debugger:lt,default:nt,do:Pt,else:Ct,finally:pt,for:ft,function:ae,if:Pe,return:Ie,switch:dt,throw:it,try:yt,var:gt,while:Xt,with:ur,null:pr,true:fr,false:hr,new:cr,in:At,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:lr,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},Ht={type:"[",beforeExpr:!0},Jt={type:"]"},mt={type:"{",beforeExpr:!0},at={type:"}"},Be={type:"(",beforeExpr:!0},Le={type:")"},Xe={type:",",beforeExpr:!0},Ue={type:";",beforeExpr:!0},bt={type:":",beforeExpr:!0},dr={type:"."},Er={type:"?",beforeExpr:!0},yr={binop:10,beforeExpr:!0},gr={isAssign:!0,beforeExpr:!0},Ke={isAssign:!0,beforeExpr:!0},Mr={postfix:!0,prefix:!0,isUpdate:!0},vr={prefix:!0,beforeExpr:!0},mr={binop:1,beforeExpr:!0},br={binop:2,beforeExpr:!0},Lr={binop:3,beforeExpr:!0},$r={binop:4,beforeExpr:!0},Dr={binop:5,beforeExpr:!0},Fr={binop:6,beforeExpr:!0},Br={binop:7,beforeExpr:!0},Ur={binop:8,beforeExpr:!0},zr={binop:9,prefix:!0,beforeExpr:!0},Gr={binop:10,beforeExpr:!0};function It(v){for(var R=v.split(" "),w=Object.create(null),M=0;M<R.length;M++)w[R[M]]=!0;return function(re){return w[re]||!1}}var Vr=It("class enum extends super const export import"),xr=It("implements interface let package private protected public static yield"),kt=It("eval arguments"),Yr=It("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Xr=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,_r="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Hr="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",Rr=new RegExp("["+_r+"]"),Jr=new RegExp("["+_r+Hr+"]"),Mt=/[\n\r\u2028\u2029]/,$t=/\r\n|[\n\r\u2028\u2029]/g,Dt=function(v){return v<65?v===36:v<91?!0:v<97?v===95:v<123?!0:v>=170&&Rr.test(String.fromCharCode(v))},Or=function(v){return v<48?v===36:v<58?!0:v<65?!1:v<91?!0:v<97?v===95:v<123?!0:v>=170&&Jr.test(String.fromCharCode(v))};function Ze(){this.line=ue,this.column=u-ye}function Wr(){ue=1,u=ye=0,ee=!0,xt()}function de(v,R){A=u,i.locations&&(Y=new Ze),V=v,xt(),q=R,ee=v.beforeExpr}function qr(){var v=i.onComment&&i.locations&&new Ze,R=u,w=t.indexOf("*/",u+=2);if(w===-1&&ne(u-2,"Unterminated comment"),u=w+2,i.locations){$t.lastIndex=R;for(var M;(M=$t.exec(t))&&M.index<u;)++ue,ye=M.index+M[0].length}i.onComment&&i.onComment(!0,t.slice(R+2,w),R,u,v,i.locations&&new Ze)}function Wt(){for(var v=u,R=i.onComment&&i.locations&&new Ze,w=t.charCodeAt(u+=2);u<e&&w!==10&&w!==13&&w!==8232&&w!==8233;)++u,w=t.charCodeAt(u);i.onComment&&i.onComment(!1,t.slice(v+2,u),v,u,R,i.locations&&new Ze)}function xt(){for(;u<e;){var v=t.charCodeAt(u);if(v===32)++u;else if(v===13){++u;var R=t.charCodeAt(u);R===10&&++u,i.locations&&(++ue,ye=u)}else if(v===10||v===8232||v===8233)++u,i.locations&&(++ue,ye=u);else if(v>8&&v<14)++u;else if(v===47){var R=t.charCodeAt(u+1);if(R===42)qr();else if(R===47)Wt();else break}else if(v===160)++u;else if(v>=5760&&Xr.test(String.fromCharCode(v)))++u;else break}}function Kr(){var v=t.charCodeAt(u+1);v>=48&&v<=57?Tr(!0):(++u,de(dr))}function Zr(){var v=t.charCodeAt(u+1);ee?(++u,Sr()):v===61?Ee(Ke,2):Ee(yr,1)}function Qr(){var v=t.charCodeAt(u+1);v===61?Ee(Ke,2):Ee(Gr,1)}function en(v){var R=t.charCodeAt(u+1);R===v?Ee(v===124?mr:br,2):R===61?Ee(Ke,2):Ee(v===124?Lr:Dr,1)}function tn(){var v=t.charCodeAt(u+1);v===61?Ee(Ke,2):Ee($r,1)}function rn(v){var R=t.charCodeAt(u+1);if(R===v){if(R===45&&t.charCodeAt(u+2)===62&&Mt.test(t.slice(Se,u))){u+=3,Wt(),xt(),ot();return}Ee(Mr,2)}else R===61?Ee(Ke,2):Ee(zr,1)}function an(v){var R=t.charCodeAt(u+1),w=1;if(R===v){w=v===62&&t.charCodeAt(u+2)===62?3:2,t.charCodeAt(u+w)===61?Ee(Ke,w+1):Ee(Ur,w);return}if(R===33&&v===60&&t.charCodeAt(u+2)===45&&t.charCodeAt(u+3)===45){u+=4,Wt(),xt(),ot();return}R===61&&(w=t.charCodeAt(u+2)===61?3:2),Ee(Br,w)}function on(v){var R=t.charCodeAt(u+1);R===61?Ee(Fr,t.charCodeAt(u+2)===61?3:2):Ee(v===61?gr:vr,1)}function sn(v){switch(v){case 46:return Kr();case 40:return++u,de(Be);case 41:return++u,de(Le);case 59:return++u,de(Ue);case 44:return++u,de(Xe);case 91:return++u,de(Ht);case 93:return++u,de(Jt);case 123:return++u,de(mt);case 125:return++u,de(at);case 58:return++u,de(bt);case 63:return++u,de(Er);case 48:var R=t.charCodeAt(u+1);if(R===120||R===88)return un();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Tr(!1);case 34:case 39:return cn(v);case 47:return Zr();case 37:case 42:return Qr();case 124:case 38:return en(v);case 94:return tn();case 43:case 45:return rn(v);case 60:case 62:return an(v);case 61:case 33:return on(v);case 126:return Ee(vr,1)}return!1}function ot(v){if(v?u=m+1:m=u,i.locations&&(U=new Ze),v)return Sr();if(u>=e)return de(Ye);var R=t.charCodeAt(u);if(Dt(R)||R===92)return wr();var w=sn(R);if(w===!1){var M=String.fromCharCode(R);if(M==="\\"||Rr.test(M))return wr();ne(u,"Unexpected character '"+M+"'")}}function Ee(v,R){var w=t.slice(u,u+R);u+=R,de(v,w)}function Sr(){for(var v,R,w=u;;){u>=e&&ne(w,"Unterminated regexp");var M=t.charAt(u);if(Mt.test(M)&&ne(w,"Unterminated regexp"),v)v=!1;else{if(M==="[")R=!0;else if(M==="]"&&R)R=!1;else if(M==="/"&&!R)break;v=M==="\\"}++u}var re=t.slice(w,u);++u;var Q=Nr();Q&&!/^[gmi]*$/.test(Q)&&ne(w,"Invalid regexp flag");try{var ie=new RegExp(re,Q)}catch(le){throw le instanceof SyntaxError&&ne(w,le.message),le}de(ct,ie)}function Rt(v,R){for(var w=u,M=0,re=R===void 0?1/0:R,Q=0;Q<re;++Q){var ie=t.charCodeAt(u),le;if(ie>=97?le=ie-97+10:ie>=65?le=ie-65+10:ie>=48&&ie<=57?le=ie-48:le=1/0,le>=v)break;++u,M=M*v+le}return u===w||R!==void 0&&u-w!==R?null:M}function un(){u+=2;var v=Rt(16);v===null&&ne(m+2,"Expected hexadecimal number"),Dt(t.charCodeAt(u))&&ne(u,"Identifier directly after number"),de(Ge,v)}function Tr(v){var R=u,w=!1,M=t.charCodeAt(u)===48;!v&&Rt(10)===null&&ne(R,"Invalid number"),t.charCodeAt(u)===46&&(++u,Rt(10),w=!0);var re=t.charCodeAt(u);(re===69||re===101)&&(re=t.charCodeAt(++u),(re===43||re===45)&&++u,Rt(10)===null&&ne(R,"Invalid number"),w=!0),Dt(t.charCodeAt(u))&&ne(u,"Identifier directly after number");var Q=t.slice(R,u),ie;w?ie=parseFloat(Q):!M||Q.length===1?ie=parseInt(Q,10):/[89]/.test(Q)||_e?ne(R,"Invalid number"):ie=parseInt(Q,8),de(Ge,ie)}function cn(v){u++;for(var R="";;){u>=e&&ne(m,"Unterminated string constant");var w=t.charCodeAt(u);if(w===v){++u,de(Ve,R);return}if(w===92){w=t.charCodeAt(++u);var M=/^[0-7]+/.exec(t.slice(u,u+3));for(M&&(M=M[0]);M&&parseInt(M,8)>255;)M=M.slice(0,-1);if(M==="0"&&(M=null),++u,M)_e&&ne(u-2,"Octal literal in strict mode"),R+=String.fromCharCode(parseInt(M,8)),u+=M.length-1;else switch(w){case 110:R+=`
`;break;case 114:R+="\r";break;case 120:R+=String.fromCharCode(Ft(2));break;case 117:R+=String.fromCharCode(Ft(4));break;case 85:R+=String.fromCharCode(Ft(8));break;case 116:R+="	";break;case 98:R+="\b";break;case 118:R+="\v";break;case 102:R+="\f";break;case 48:R+="\0";break;case 13:t.charCodeAt(u)===10&&++u;case 10:i.locations&&(ye=u,++ue);break;default:R+=String.fromCharCode(w);break}}else(w===13||w===10||w===8232||w===8233)&&ne(m,"Unterminated string constant"),R+=String.fromCharCode(w),++u}}function Ft(v){var R=Rt(16,v);return R===null&&ne(m,"Bad character escape sequence"),R}var st;function Nr(){st=!1;for(var v,R=!0,w=u;;){var M=t.charCodeAt(u);if(Or(M))st&&(v+=t.charAt(u)),++u;else if(M===92){st||(v=t.slice(w,u)),st=!0,t.charCodeAt(++u)!==117&&ne(u,"Expecting Unicode escape sequence \\uXXXX"),++u;var re=Ft(4),Q=String.fromCharCode(re);Q||ne(u-1,"Invalid Unicode escape"),(R?Dt(re):Or(re))||ne(u-4,"Invalid Unicode escape"),v+=Q}else break;R=!1}return st?v:t.slice(w,u)}function wr(){var v=Nr(),R=Fe;!st&&Yr(v)&&(R=kr[v]),de(R,v)}function oe(){et=m,Se=A,$e=Y,ot()}function qt(v){if(_e=v,u=m,i.locations)for(;u<ye;)ye=t.lastIndexOf(`
`,ye-2)+1,--ue;xt(),ot()}function Pr(){this.type=null,this.start=m,this.end=null}function Cr(){this.start=U,this.end=null,o&&(this.source=o)}function me(){var v=new Pr;return i.locations&&(v.loc=new Cr),i.directSourceFile&&(v.sourceFile=i.directSourceFile),i.ranges&&(v.range=[m,0]),v}function Je(v){var R=new Pr;return R.start=v.start,i.locations&&(R.loc=new Cr,R.loc.start=v.loc.start),i.ranges&&(R.range=[v.range[0],0]),R}function te(v,R){return v.type=R,v.end=Se,i.locations&&(v.loc.end=$e),i.ranges&&(v.range[1]=Se),v}function Kt(v){return v.type==="ExpressionStatement"&&v.expression.type==="Literal"&&v.expression.value==="use strict"}function pe(v){return V===v?(oe(),!0):!1}function Bt(){return!i.strictSemicolons&&(V===Ye||V===at||Mt.test(t.slice(Se,m)))}function Qe(){!pe(Ue)&&!Bt()&&ze()}function fe(v){V===v?oe():ze()}function ze(){ne(m,"Unexpected token")}function Ut(v){v.type!=="Identifier"&&v.type!=="MemberExpression"&&ne(v.start,"Assigning to rvalue"),_e&&v.type==="Identifier"&&kt(v.name)&&ne(v.start,"Assigning to "+v.name+" in strict mode")}function ln(v){et=Se=u,i.locations&&($e=new Ze),De=_e=!1,ce=[],ot();var R=v||me(),w=!0;for(v||(R.body=[]);V!==Ye;){var M=ke();R.body.push(M),w&&Kt(M)&&qt(!0),w=!1}return te(R,"Program")}var Qt={kind:"loop"},pn={kind:"switch"};function ke(){(V===yr||V===Ke&&q==="/=")&&ot(!0);var v=V,R=me();switch(v){case tt:case rt:oe();var w=v===tt;pe(Ue)||Bt()?R.label=null:V!==Fe?ze():(R.label=We(),Qe());for(var M=0;M<ce.length;++M){var re=ce[M];if((R.label===null||re.name===R.label.name)&&(re.kind!==null&&(w||re.kind==="loop")||R.label&&w))break}return M===ce.length&&ne(R.start,"Unsyntactic "+v.keyword),te(R,w?"BreakStatement":"ContinueStatement");case lt:return oe(),Qe(),te(R,"DebuggerStatement");case Pt:return oe(),ce.push(Qt),R.body=ke(),ce.pop(),fe(Xt),R.test=Ot(),Qe(),te(R,"DoWhileStatement");case ft:if(oe(),ce.push(Qt),fe(Be),V===Ue)return er(R,null);if(V===gt){var Q=me();return oe(),jr(Q,!0),te(Q,"VariableDeclaration"),Q.declarations.length===1&&pe(At)?Ar(R,Q):er(R,Q)}var Q=be(!1,!0);return pe(At)?(Ut(Q),Ar(R,Q)):er(R,Q);case ae:return oe(),ar(R,!0);case Pe:return oe(),R.test=Ot(),R.consequent=ke(),R.alternate=pe(Ct)?ke():null,te(R,"IfStatement");case Ie:return!De&&!i.allowReturnOutsideFunction&&ne(m,"'return' outside of function"),oe(),pe(Ue)||Bt()?R.argument=null:(R.argument=be(),Qe()),te(R,"ReturnStatement");case dt:oe(),R.discriminant=Ot(),R.cases=[],fe(mt),ce.push(pn);for(var ie,le;V!==at;)if(V===qe||V===nt){var Nt=V===qe;ie&&te(ie,"SwitchCase"),R.cases.push(ie=me()),ie.consequent=[],oe(),Nt?ie.test=be():(le&&ne(et,"Multiple default clauses"),le=!0,ie.test=null),fe(bt)}else ie||ze(),ie.consequent.push(ke());return ie&&te(ie,"SwitchCase"),oe(),ce.pop(),te(R,"SwitchStatement");case it:return oe(),Mt.test(t.slice(Se,m))&&ne(Se,"Illegal newline after throw"),R.argument=be(),Qe(),te(R,"ThrowStatement");case yt:if(oe(),R.block=St(),R.handler=null,V===wt){var ut=me();oe(),fe(Be),ut.param=We(),_e&&kt(ut.param.name)&&ne(ut.param.start,"Binding "+ut.param.name+" in strict mode"),fe(Le),ut.body=St(),R.handler=te(ut,"CatchClause")}return R.finalizer=pe(pt)?St():null,!R.handler&&!R.finalizer&&ne(R.start,"Missing catch or finally clause"),te(R,"TryStatement");case gt:return oe(),jr(R),Qe(),te(R,"VariableDeclaration");case Xt:return oe(),R.test=Ot(),ce.push(Qt),R.body=ke(),ce.pop(),te(R,"WhileStatement");case ur:return _e&&ne(m,"'with' in strict mode"),oe(),R.object=Ot(),R.body=ke(),te(R,"WithStatement");case mt:return St();case Ue:return oe(),te(R,"EmptyStatement");default:var sr=q,zt=be();if(v===Fe&&zt.type==="Identifier"&&pe(bt)){for(var M=0;M<ce.length;++M)ce[M].name===sr&&ne(zt.start,"Label '"+sr+"' is already declared");var gn=V.isLoop?"loop":V===dt?"switch":null;return ce.push({name:sr,kind:gn}),R.body=ke(),ce.pop(),R.label=zt,te(R,"LabeledStatement")}else return R.expression=zt,Qe(),te(R,"ExpressionStatement")}}function Ot(){fe(Be);var v=be();return fe(Le),v}function St(v){var R=me(),w=!0,M=!1,re;for(R.body=[],fe(mt);!pe(at);){var Q=ke();R.body.push(Q),w&&v&&Kt(Q)&&(re=M,qt(M=!0)),w=!1}return M&&!re&&qt(!1),te(R,"BlockStatement")}function er(v,R){return v.init=R,fe(Ue),v.test=V===Ue?null:be(),fe(Ue),v.update=V===Le?null:be(),fe(Le),v.body=ke(),ce.pop(),te(v,"ForStatement")}function Ar(v,R){return v.left=R,v.right=be(),fe(Le),v.body=ke(),ce.pop(),te(v,"ForInStatement")}function jr(v,R){for(v.declarations=[],v.kind="var";;){var w=me();if(w.id=We(),_e&&kt(w.id.name)&&ne(w.id.start,"Binding "+w.id.name+" in strict mode"),w.init=pe(gr)?be(!0,R):null,v.declarations.push(te(w,"VariableDeclarator")),!pe(Xe))break}}function be(v,R){var w=tr(R);if(!v&&V===Xe){var M=Je(w);for(M.expressions=[w];pe(Xe);)M.expressions.push(tr(R));return te(M,"SequenceExpression")}return w}function tr(v){var R=fn(v);if(V.isAssign){var w=Je(R);return w.operator=q,w.left=R,oe(),w.right=tr(v),Ut(R),te(w,"AssignmentExpression")}return R}function fn(v){var R=hn(v);if(pe(Er)){var w=Je(R);return w.test=R,w.consequent=be(!0),fe(bt),w.alternate=be(!0,v),te(w,"ConditionalExpression")}return R}function hn(v){return rr(nr(),-1,v)}function rr(v,R,w){var M=V.binop;if(M!==null&&(!w||V!==At)&&M>R){var re=Je(v);re.left=v,re.operator=q;var Q=V;oe(),re.right=rr(nr(),M,w);var ie=te(re,Q===mr||Q===br?"LogicalExpression":"BinaryExpression");return rr(ie,R,w)}return v}function nr(){if(V.prefix){var v=me(),R=V.isUpdate;return v.operator=q,v.prefix=!0,ee=!0,oe(),v.argument=nr(),R?Ut(v.argument):_e&&v.operator==="delete"&&v.argument.type==="Identifier"&&ne(v.start,"Deleting local variable in strict mode"),te(v,R?"UpdateExpression":"UnaryExpression")}for(var w=dn();V.postfix&&!Bt();){var v=Je(w);v.operator=q,v.prefix=!1,v.argument=w,Ut(w),oe(),w=te(v,"UpdateExpression")}return w}function dn(){return Tt(ir())}function Tt(v,R){var w;return pe(dr)?(w=Je(v),w.object=v,w.property=We(!0),w.computed=!1,Tt(te(w,"MemberExpression"),R)):pe(Ht)?(w=Je(v),w.object=v,w.property=be(),w.computed=!0,fe(Jt),Tt(te(w,"MemberExpression"),R)):!R&&pe(Be)?(w=Je(v),w.callee=v,w.arguments=or(Le,!1),Tt(te(w,"CallExpression"),R)):v}function ir(){var v;switch(V){case lr:return v=me(),oe(),te(v,"ThisExpression");case Fe:return We();case Ge:case Ve:case ct:return v=me(),v.value=q,v.raw=t.slice(m,A),oe(),te(v,"Literal");case pr:case fr:case hr:return v=me(),v.value=V.atomValue,v.raw=V.keyword,oe(),te(v,"Literal");case Be:var R=U,w=m;oe();var M=be();return M.start=w,M.end=A,i.locations&&(M.loc.start=R,M.loc.end=Y),i.ranges&&(M.range=[w,A]),fe(Le),M;case Ht:return v=me(),oe(),v.elements=or(Jt,!0,!0),te(v,"ArrayExpression");case mt:return yn();case ae:return v=me(),oe(),ar(v,!1);case cr:return En()}ze()}function En(){var v=me();return oe(),v.callee=Tt(ir(),!0),v.arguments=pe(Be)?or(Le,!1):Gt,te(v,"NewExpression")}function yn(){var v=me(),R=!0,w=!1;for(v.properties=[],oe();!pe(at);){if(R)R=!1;else if(fe(Xe),i.allowTrailingCommas&&pe(at))break;var M={key:Ir()},re=!1,Q;if(pe(bt)?(M.value=be(!0),Q=M.kind="init"):M.key.type==="Identifier"&&(M.key.name==="get"||M.key.name==="set")?(re=w=!0,Q=M.kind=M.key.name,M.key=Ir(),V!==Be&&ze(),M.value=ar(me(),!1)):ze(),M.key.type==="Identifier"&&(_e||w))for(var ie=0;ie<v.properties.length;++ie){var le=v.properties[ie];if(le.key.name===M.key.name){var Nt=Q===le.kind||re&&le.kind==="init"||Q==="init"&&(le.kind==="get"||le.kind==="set");Nt&&!_e&&Q==="init"&&le.kind==="init"&&(Nt=!1),Nt&&ne(M.key.start,"Redefinition of property")}}v.properties.push(M)}return te(v,"ObjectExpression")}function Ir(){return V===Ge||V===Ve?ir():We(!0)}function ar(v,R){V===Fe?v.id=We():R?ze():v.id=null,v.params=[];var w=!0;for(fe(Be);!pe(Le);)w?w=!1:fe(Xe),v.params.push(We());var M=De,re=ce;if(De=!0,ce=[],v.body=St(!0),De=M,ce=re,_e||v.body.body.length&&Kt(v.body.body[0]))for(var Q=v.id?-1:0;Q<v.params.length;++Q){var ie=Q<0?v.id:v.params[Q];if((xr(ie.name)||kt(ie.name))&&ne(ie.start,"Defining '"+ie.name+"' in strict mode"),Q>=0)for(var le=0;le<Q;++le)ie.name===v.params[le].name&&ne(ie.start,"Argument name clash in strict mode")}return te(v,R?"FunctionDeclaration":"FunctionExpression")}function or(v,R,w){for(var M=[],re=!0;!pe(v);){if(re)re=!1;else if(fe(Xe),R&&i.allowTrailingCommas&&pe(v))break;M.push(w&&V===Xe?null:be(!0))}return M}function We(v){var R=me();return v&&i.forbidReserved==="everywhere"&&(v=!1),V===Fe?(!v&&(i.forbidReserved&&Vr(q)||_e&&xr(q))&&t.slice(m,A).indexOf("\\")===-1&&ne(m,"The keyword '"+q+"' is reserved"),R.name=q):v&&V.keyword?R.name=V.keyword:ze(),ee=!1,oe(),te(R,"Identifier")}})},vm:k=>{k.exports=requireVmBrowserify()}},O={};function S(k){var L=O[k];if(L!==void 0)return L.exports;var F=O[k]={exports:{}};return c[k].call(F.exports,F,F.exports,S),F.exports}S.d=(k,L)=>{for(var F in L)S.o(L,F)&&!S.o(k,F)&&Object.defineProperty(k,F,{enumerable:!0,get:L[F]})},S.o=(k,L)=>Object.prototype.hasOwnProperty.call(k,L),S.r=k=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(k,"__esModule",{value:!0})};var j={};return(()=>{S.r(j),S.d(j,{default:()=>F});const k=S("./original-repo/acorn.js");globalThis.acorn=k;const{Interpreter:L}=S("./original-repo/interpreter.js"),F=L})(),j=j.default,j})())})(jsInterpreter);var jsInterpreterExports=jsInterpreter.exports;const vt=getDefaultExportFromCjs(jsInterpreterExports),workspace="_workspace_13cfh_1",visualizerButtons="_visualizerButtons_13cfh_39",visualizer="_visualizer_13cfh_39",editorButtons="_editorButtons_13cfh_70",editor="_editor_13cfh_70",I={workspace,visualizerButtons,visualizer,editorButtons,editor};var W=reactExports.createContext({registerProblem:noop});W.displayName="ContestContext";function ge({children:r}){let{student:s,setStudent:c,contest:O,registerSchema:S}=f$1(),j=reactExports.useCallback((k,L)=>{S(F=>({...F,[k]:L}))},[S]);return s.startedAt?jsxRuntimeExports.jsx(W.Provider,{value:{registerProblem:j},children:jsxRuntimeExports.jsx("div",{className:"break-before-page",children:jsxRuntimeExports.jsx("main",{className:"gap-x-10 [column-rule:solid_1px_var(--tw-prose-hr)] print:columns-2",children:r})})}):jsxRuntimeExports.jsx("div",{className:"flex h-[50vh] flex-col items-center justify-center",children:jsxRuntimeExports.jsx(Et,{className:"btn-success btn-lg",onClick:async()=>{let k=new Date;await c({...s,startedAt:k,finishedAt:addMinutes(k,O.duration??0),variant:""})},children:"Inizia"})})}function B(){return reactExports.useContext(W)}var T=reactExports.createContext({id:void 0,points:[0,0,0]});T.displayName="ProblemContext";function ve({id:r,points:s,children:c}){return jsxRuntimeExports.jsxs(T.Provider,{value:{id:r,points:s},children:[jsxRuntimeExports.jsx("div",{className:"relative",children:c}),jsxRuntimeExports.jsx("hr",{className:"last:hidden"})]})}function he({subId:r,children:s}){let{id:c,points:O}=reactExports.useContext(T),S=r?`${c}.${r}`:`${c}`;return jsxRuntimeExports.jsx(T.Provider,{value:{id:S,points:O},children:jsxRuntimeExports.jsxs("div",{className:"break-inside-avoid",children:[jsxRuntimeExports.jsxs("h3",{children:["Domanda ",S]}),s]})})}function N(){return reactExports.useContext(T)}var X=reactExports.createContext({id:""});X.displayName="AnswerContext";function xe({children:r}){let s=reactExports.Children.toArray(r);return jsxRuntimeExports.jsx("form",{className:clsx("my-5 flex-wrap rounded-xl bg-base-200 p-3 prose-p:my-1","print:flex print:border print:border-[var(--tw-prose-hr)] print:p-1"),children:s.map((c,O)=>jsxRuntimeExports.jsx(X.Provider,{value:{id:String.fromCodePoint(65+O)},children:c},O))})}function we({correct:r,children:s}){let{id:c}=reactExports.useContext(X),{registerProblem:O}=B(),{id:S,points:j}=N(),{student:k,setStudent:L,terminated:F}=f$1(),i=k.answers?.[S],t=async o=>{await L({...k,answers:{...k.answers,[S]:o}})},e=reactExports.useId();return reactExports.useEffect(()=>{r&&O(`${S}`,{type:"text",pointsCorrect:j[0],pointsBlank:j[1],pointsWrong:j[2],optionsCorrect:[c]})},[O,c,S,r,j]),jsxRuntimeExports.jsxs("div",{className:clsx("relative my-1 flex rounded-lg pl-2 pr-1 hover:bg-base-300 print:mr-4",F&&{"border-2 border-success":r===!0,"border-2 border-error":i===c&&r===!1}),children:[jsxRuntimeExports.jsx("input",{id:e,checked:i===c,className:clsx("radio radio-sm my-auto mr-4 bg-base-100 [print-color-adjust:exact] disabled:opacity-90 print:mr-2",F&&i===c&&{"radio-success":r===!0,"radio-error":r===!1}),onChange:o=>t(o.target.checked?c:null),type:"radio",disabled:F}),jsxRuntimeExports.jsxs("div",{className:"my-auto w-6 screen:hidden",children:[c,")"]}),jsxRuntimeExports.jsx("label",{htmlFor:e,className:"grow [&_pre]:!p-3",children:s}),jsxRuntimeExports.jsx("div",{className:"absolute right-0 top-0 mr-1 flex h-full justify-center print:hidden",children:jsxRuntimeExports.jsx("button",{className:clsx("btn btn-square btn-ghost btn-sm my-auto",(i!==c||F)&&"hidden"),type:"button",onClick:()=>t(null),"aria-label":"Cancella risposta",children:jsxRuntimeExports.jsx(Trash2,{size:20})})})]})}function Ne({correct:r,type:s}){let{registerProblem:c}=B(),{id:O,points:S}=N(),{student:j,setStudent:k,terminated:L}=f$1(),F=j.answers?.[O],i=async t=>{await k({...j,answers:{...j.answers,[O]:t}})};return reactExports.useEffect(()=>{c(`${O}`,{type:"text",pointsCorrect:S[0],pointsBlank:S[1],pointsWrong:S[2],optionsCorrect:r?[r]:void 0})},[c,O,r,S]),jsxRuntimeExports.jsx("div",{className:"px-2",children:jsxRuntimeExports.jsx("input",{id:`answer-${O}`,className:clsx("input input-bordered w-72 max-w-full border-2 print:placeholder:text-transparent",L&&r!==void 0&&{"disabled:input-success":r===F,"disabled:input-error":r!==F}),onChange:t=>i(t.target.value||null),onWheel:t=>t.currentTarget.blur(),placeholder:"Inserisci la risposta",type:s,value:F??"",disabled:L,"aria-label":"Risposta"})})}function Ce({children:r}){let{terminated:s}=f$1(),{id:c}=N();if(s)return jsxRuntimeExports.jsx("div",{className:"my-5 rounded-xl bg-base-200 print:hidden",children:jsxRuntimeExports.jsxs("div",{className:"collapse",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:`show-solution-${c}`}),jsxRuntimeExports.jsx("div",{className:"collapse-title text-xl font-medium",children:"Mostra soluzione"}),jsxRuntimeExports.jsx("div",{className:"collapse-content",children:r})]})})}var Te={kind:"categoryToolbox",contents:[{kind:"category",name:"Variabili",categorystyle:"variable_category",custom:"VARIABLE"},{kind:"category",name:"Matematica",categorystyle:"math_category",contents:[{kind:"block",type:"math_number",fields:{NUM:123}},{kind:"block",type:"math_arithmetic",fields:{OP:"ADD"}},{kind:"block",type:"math_number_property",fields:{PROPERTY:"EVEN"}},{kind:"block",type:"math_on_list",fields:{OP:"SUM"}}]},{kind:"category",name:"Logica",categorystyle:"logic_category",contents:[{kind:"block",type:"logic_compare"},{kind:"block",type:"logic_operation"},{kind:"block",type:"logic_negate"},{kind:"block",type:"controls_if"},{kind:"block",type:"controls_if",extraState:{hasElse:"true"}}]},{kind:"category",name:"Cicli",categorystyle:"loop_category",contents:[{kind:"block",type:"controls_repeat_ext",inputs:{TIMES:{block:{type:"math_number",fields:{NUM:10}}}}},{kind:"block",type:"controls_whileUntil"},{kind:"block",type:"controls_for",fields:{VAR:"i"},inputs:{FROM:{block:{type:"math_number",fields:{NUM:1}}},TO:{block:{type:"math_number",fields:{NUM:10}}},BY:{block:{type:"math_number",fields:{NUM:1}}}}},{kind:"block",type:"controls_forEach"}]},{kind:"category",name:"Liste",categorystyle:"list_category",contents:[{kind:"block",type:"lists_create_empty"},{kind:"block",type:"lists_repeat",inputs:{NUM:{block:{type:"math_number",fields:{NUM:5}}}}},{kind:"block",type:"lists_length"},{kind:"block",type:"lists_getIndex",fields:{MODE:"GET",WHERE:"FROM_START"}},{kind:"block",type:"lists_setIndex",fields:{MODE:"SET",WHERE:"FROM_START"}}]}]},Re={blocks:{languageVersion:0,blocks:[{type:"start",id:"y=zq)Uya2A/{vyOtN[i6",x:30,y:30}]},variables:[]},ht=1e3,C=class extends vt{stepFinished=!1;highlightedBlock="";running=!0;correct=!1;msg;constructor(r,s){super(r,(c,O)=>{c.setProperty(O,"highlightBlock",c.createNativeFunction(S=>{this.highlightedBlock=S,this.stepFinished=!0})),c.setProperty(O,"pause",c.createNativeFunction(()=>{this.stepFinished=!0})),c.setProperty(O,"exit",c.createNativeFunction((S,j)=>{this.running=!1,this.correct=S,this.msg=j})),c.setProperty(O,"state",c.nativeToPseudo(s)),c.setProperty(O,"loopTrap",ht)})}step=()=>{if(!this.running)return!1;do{this.stepFinished=!1;try{this.running=super.step()&&this.running}catch{this.running=!1}}while(this.running&&!this.stepFinished);return this.running}};function Z(r,s){let[c,O]=reactExports.useState(),[S,j]=reactExports.useState({highlightedBlock:"",running:!0,correct:!1,msg:"",globalScope:{}}),k=reactExports.useCallback(()=>{let L;try{L=new C(r,s)}catch(F){if(F instanceof SyntaxError){let i=URL.createObjectURL(new Blob([r])),t=F.loc.line,e=F.loc.column+1;throw new n(`The generated code contains syntax errors: ${F.message}`,{file:i,line:t,col:e},F)}throw F}O(L),j({highlightedBlock:L?.highlightedBlock??"",running:L?.running??!1,correct:L?.correct??!1,msg:L?.msg??"",globalScope:L?.pseudoToNative(L.globalScope.object)??{}})},[r,s]);return reactExports.useEffect(()=>k(),[k]),{step:()=>{c?.step(),j({highlightedBlock:c?.highlightedBlock??"",running:c?.running??!1,correct:c?.correct??!1,msg:c?.msg??"",globalScope:c?.pseudoToNative(c.globalScope.object)??{}})},reset:k,...S}}function K(r,s){return reactExports.useEffect(()=>{return window.addEventListener("message",c),()=>window.removeEventListener("message",c);function c(O){O.source===r&&s(O.data)}},[r,s]),reactExports.useCallback(c=>r?.postMessage(c,"*"),[r])}function Me({toolbox:r,initialBlocks:s,testcases:c,debug:O,customBlocks:S,visualizer:j}){let{student:k,setStudent:L,terminated:F}=f$1(),{registerProblem:i}=B(),{id:t,points:e}=N(),{showBoundary:o}=useErrorBoundary();reactExports.useEffect(()=>{for(let ae=0;ae<c.length;ae++)i(`${t}.${ae+1}`,{type:"text",pointsCorrect:e[0],pointsBlank:e[1],pointsWrong:e[2],optionsCorrect:["✅"]})},[i,t,c,e]);let p=k.extraData?.[`blockly-${t}`],E=p?JSON.parse(p):s??Re,y=async ae=>{await L({...k,extraData:{...k.extraData,[`blockly-${t}`]:JSON.stringify(ae)}})},[u,m]=reactExports.useState(null),[A,U]=reactExports.useState(!1),[Y,V]=reactExports.useState(!0),[q,ee]=reactExports.useState(!1),[ue,ye]=reactExports.useState({}),[et,Se]=reactExports.useState(""),[$e,De]=reactExports.useState(""),[ce,_e]=reactExports.useState(0),[ne,Gt]=reactExports.useState(()=>range(c.length).map(ae=>({correct:!1,index:ae}))),{step:Ge,reset:ct,running:Ve,highlightedBlock:Fe,globalScope:Ye,correct:tt,msg:qe}=Z($e,c[ce]),wt=reactExports.useMemo(()=>Object.fromEntries(Object.entries(ue).map(([ae,Pe])=>[Pe,Ye[ae]])),[ue,Ye]),rt=K(u?.contentWindow,ae=>{switch(ae.cmd){case"init":{rt({cmd:"init",toolbox:r??Te,initialBlocks:E,customBlocks:S,readonly:F});break}case"ready":{U(!0);break}case"blocks":{y(ae.blocks),O?.logBlocks&&console.info(JSON.stringify(ae.blocks,void 0,2));break}case"code":{De(ae.code),ee(!1),V(!0),O?.logJs&&console.info(ae.code);break}case"variables":{ye(ae.variablesMapping),O?.logVariables&&console.info(ae.variablesMapping);break}case"svg":{Se(ae.svg);break}case"error":{o(new Error(ae.message));break}}});reactExports.useEffect(()=>{rt({cmd:"highlight",highlightedBlock:Fe})},[rt,Fe]),reactExports.useEffect(()=>{Ve||ee(!1)},[Ve]);let lt=reactExports.useRef(F);reactExports.useEffect(()=>{lt.current!==F&&(lt.current=F,U(!1),u?.contentWindow?.location.reload())},[F,u?.contentWindow]);let[nt,Pt]=reactExports.useState(3);reactExports.useEffect(()=>{let ae=[5e3,2e3,1e3,500,200,100,10];if(q){let Pe=setInterval(Ge,ae[nt]);return()=>clearInterval(Pe)}},[Ge,nt,q]);let Ct=async()=>{let ae=await Promise.all(c.map(async(Ie,dt)=>{let it=new C($e,Ie);for(let yt=0;it.running;yt++)it.step(),yt%64===0&&await new Promise(gt=>setTimeout(gt,5));return{...it,index:dt}}));Gt(ae),V(!1);let Pe={...k.answers};for(let Ie=0;Ie<c.length;Ie++)Pe[`${t}.${Ie+1}`]=ae[Ie].correct?"✅":"❌";await L({...k,answers:Pe})},[pt,ft]=reactExports.useState();return reactExports.useEffect(()=>ft(qe),[qe]),jsxRuntimeExports.jsxs("div",{className:clsx(I.workspace,"not-prose"),children:[jsxRuntimeExports.jsxs("div",{className:I.visualizerButtons,children:[jsxRuntimeExports.jsx("div",{className:"pl-2 text-xl font-bold max-sm:hidden lg:max-xl:hidden",children:"Livello"}),jsxRuntimeExports.jsx("div",{className:"join",children:ne.map(({index:ae,correct:Pe,msg:Ie})=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{_e(ae),ee(!1)},className:clsx("btn join-item z-10 px-3",!Y&&"tooltip",ae===ce&&"btn-info"),"data-tip":Ie,children:Y?jsxRuntimeExports.jsx(CircleHelp,{size:24}):Pe?jsxRuntimeExports.jsx(CircleCheck,{size:24,className:"fill-success stroke-success-content"}):jsxRuntimeExports.jsx(CircleX,{size:24,className:"fill-error stroke-error-content"})},ae))})]}),jsxRuntimeExports.jsxs("div",{className:I.visualizer,children:[jsxRuntimeExports.jsx(x,{onError:ae=>{ae.message="Visualizzazione del livello fallita"},onReset:ct,children:j&&Ye?.state&&jsxRuntimeExports.jsx(j,{variables:wt,state:Ye.state,testcase:ce,message:qe})}),jsxRuntimeExports.jsx("div",{className:clsx("sticky left-0 bottom-0 z-50 p-4",!pt&&"invisible"),children:jsxRuntimeExports.jsxs("div",{role:"alert",className:clsx("alert",tt?"alert-success":"alert-error"),children:[tt?jsxRuntimeExports.jsx(CircleCheck,{}):jsxRuntimeExports.jsx(TriangleAlert,{}),jsxRuntimeExports.jsx("span",{children:pt}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ft(void 0),"aria-label":"Nascondi messaggio",children:jsxRuntimeExports.jsx(MessageSquareOff,{})})]})})]}),jsxRuntimeExports.jsxs("div",{className:I.editorButtons,children:[jsxRuntimeExports.jsxs("div",{className:"join join-horizontal",children:[jsxRuntimeExports.jsx("div",{className:"join-item tooltip","data-tip":"Esegui/pausa",children:jsxRuntimeExports.jsx("button",{type:"button",className:"btn btn-info rounded-[inherit]",disabled:!Ve||Y,onClick:()=>ee(!q),"aria-label":"Esugui un blocco",children:q?jsxRuntimeExports.jsx(Pause,{className:"size-6"}):jsxRuntimeExports.jsx(Play,{className:"size-6"})})}),jsxRuntimeExports.jsx("div",{className:"join-item tooltip","data-tip":"Esegui un blocco",children:jsxRuntimeExports.jsx("button",{type:"button",className:"btn btn-info rounded-[inherit]",disabled:!Ve||Y,onClick:Ge,"aria-label":"Esugui un blocco",children:jsxRuntimeExports.jsx(SkipForward,{className:"size-6"})})}),jsxRuntimeExports.jsx("div",{className:"join-item tooltip","data-tip":"Esegui da capo",children:jsxRuntimeExports.jsx("button",{type:"button",className:"btn btn-info rounded-[inherit]","aria-label":"Esegui da capo",disabled:Y,onClick:()=>{ct(),ee(!1)},children:jsxRuntimeExports.jsx(RotateCcw,{className:"size-6"})})})]}),jsxRuntimeExports.jsx("div",{className:"tooltip","data-tip":"Correggi la soluzione",children:jsxRuntimeExports.jsx("button",{type:"button",className:"btn btn-success","aria-label":"Correggi la soluzione",disabled:!Y||!A,onClick:Ct,children:jsxRuntimeExports.jsx(Send,{className:"size-6"})})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("input",{className:"range",type:"range",min:"0",max:"6",value:nt,onChange:ae=>Pt(+ae.target.value),"aria-label":"Velocità di esecuzione"}),jsxRuntimeExports.jsxs("div",{className:"flex w-full justify-between px-2 text-xs",children:[jsxRuntimeExports.jsx("span",{children:"Lento"}),jsxRuntimeExports.jsx("span",{children:"Veloce"})]})]}),!1]}),jsxRuntimeExports.jsx(Lt,{ref:m,ready:A})]})}var Lt=reactExports.forwardRef(function({ready:r},s){return jsxRuntimeExports.jsxs("div",{className:I.editor,children:[jsxRuntimeExports.jsx("iframe",{ref:s,src:"/__blockly_iframe/",className:"size-full",title:"Area di lavoro di Blockly",loading:"lazy"}),!r&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-50 bg-white",children:jsxRuntimeExports.jsx("div",{className:"flex h-full text-slate-700",children:jsxRuntimeExports.jsx(B$2,{})})})]})});function Ae({display:r,children:s}){let c=reactExports.useRef(null);return reactExports.useEffect(()=>{c.current&&katex.render(s,c.current,{displayMode:r})},[s,r]),jsxRuntimeExports.jsx("span",{ref:c})}function Oe({src:r,alt:s,title:c}){return r?jsxRuntimeExports.jsx("img",{className:"max-h-[90vh] min-w-0 p-4 first:rounded-l-xl last:rounded-r-xl dark:bg-white print:m-0 print:max-h-[60vh] print:max-w-full",src:r.src,width:r.width,height:r.height,alt:s,title:c,style:{maxWidth:`min(100%, ${90*r.width/r.height}vh)`}}):jsxRuntimeExports.jsx("div",{className:"rounded-box bg-error p-4 text-error-content",children:"Missing image"})}function je({children:r}){return r}function nn(){return{Answer:we,AnswerGroup:xe,Blockly:Me,Code:Vt,Contest:ge,Equation:Ae,Explanation:Ce,Image:Oe,OpenAnswer:Ne,Problem:ve,Section:je,SubProblem:he}}export{f,nn as n,range as r};
//# sourceMappingURL=38364625-chunk-IFWY6GUU.js.map
