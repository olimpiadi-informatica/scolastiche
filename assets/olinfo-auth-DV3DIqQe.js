const __vite__fileDeps=["assets/code-highlight-VP7P46EV-RGCoH4Bq.js","assets/react-dom-BhtgsTX5.js","assets/commonjs-helper-3Jsk8tIi.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
/*! For licenses information, see LICENSES.txt */
var Hn=Object.defineProperty;var Yn=(i,s,c)=>s in i?Hn(i,s,{enumerable:!0,configurable:!0,writable:!0,value:c}):i[s]=c;var jr=(i,s,c)=>(Yn(i,typeof s!="symbol"?s+"":s,c),c);import{i as isSymbol,t as toString,j as jsxRuntimeExports}from"./toString-B7mxur-0.js";import{r as reactExports,P,a as reactDomExports}from"./react-dom-BhtgsTX5.js";import{_ as __vitePreload}from"./preload-helper-B6uM3qOM.js";import{g as getDefaultExportFromCjs,c as commonjsGlobal}from"./commonjs-helper-3Jsk8tIi.js";import{r as registerVersion,F as FirebaseError}from"./firebase-BAye9Qyt.js";import{Z as ZodError,z}from"./zod-Ds34L8Dg.js";import{i as isObject,g as getNative,a as isArrayLike,b as isIndex,e as eq,M as MapCache,S as Stack,c as baseIsEqual,k as keys,d as isLength,f as isArguments,h as isFunction$1}from"./_baseIsEqual-CCXSSeP_.js";import{i as isArray}from"./isArray-BCUZC26q.js";import{k as katex}from"./katex-DwYt4Eim.js";var reWhitespace=/\s/;function trimmedEndIndex(i){for(var s=i.length;s--&&reWhitespace.test(i.charAt(s)););return s}var reTrimStart=/^\s+/;function baseTrim(i){return i&&i.slice(0,trimmedEndIndex(i)+1).replace(reTrimStart,"")}var NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(i){if(typeof i=="number")return i;if(isSymbol(i))return NAN;if(isObject(i)){var s=typeof i.valueOf=="function"?i.valueOf():i;i=isObject(s)?s+"":s}if(typeof i!="string")return i===0?i:+i;i=baseTrim(i);var c=reIsBinary.test(i);return c||reIsOctal.test(i)?freeParseInt(i.slice(2),c?2:8):reIsBadHex.test(i)?NAN:+i}var INFINITY$1=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(i){if(!i)return i===0?i:0;if(i=toNumber(i),i===INFINITY$1||i===-INFINITY$1){var s=i<0?-1:1;return s*MAX_INTEGER}return i===i?i:0}function identity(i){return i}function apply(i,s,c){switch(c.length){case 0:return i.call(s);case 1:return i.call(s,c[0]);case 2:return i.call(s,c[0],c[1]);case 3:return i.call(s,c[0],c[1],c[2])}return i.apply(s,c)}function noop$1(){}function copyArray(i,s){var c=-1,v=i.length;for(s||(s=Array(v));++c<v;)s[c]=i[c];return s}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(i){var s=0,c=0;return function(){var v=nativeNow(),b=HOT_SPAN-(v-c);if(c=v,b>0){if(++s>=HOT_COUNT)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}function constant(i){return function(){return i}}var defineProperty=function(){try{var i=getNative(Object,"defineProperty");return i({},"",{}),i}catch{}}(),baseSetToString=defineProperty?function(i,s){return defineProperty(i,"toString",{configurable:!0,enumerable:!1,value:constant(s),writable:!0})}:identity,setToString=shortOut(baseSetToString);function baseFindIndex(i,s,c,v){for(var b=i.length,_=c+-1;++_<b;)if(s(i[_],_,i))return _;return-1}function baseIsNaN(i){return i!==i}function strictIndexOf(i,s,c){for(var v=c-1,b=i.length;++v<b;)if(i[v]===s)return v;return-1}function baseIndexOf(i,s,c){return s===s?strictIndexOf(i,s,c):baseFindIndex(i,baseIsNaN,c)}var nativeMax$1=Math.max;function overRest(i,s,c){return s=nativeMax$1(s===void 0?i.length-1:s,0),function(){for(var v=arguments,b=-1,_=nativeMax$1(v.length-s,0),N=Array(_);++b<_;)N[b]=v[s+b];b=-1;for(var C=Array(s+1);++b<s;)C[b]=v[b];return C[s]=c(N),apply(i,this,C)}}function baseRest(i,s){return setToString(overRest(i,s,identity),i+"")}function isIterateeCall(i,s,c){if(!isObject(c))return!1;var v=typeof s;return(v=="number"?isArrayLike(c)&&isIndex(s,c.length):v=="string"&&s in c)?eq(c[s],i):!1}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(i,s){if(isArray(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||isSymbol(i)?!0:reIsPlainProp.test(i)||!reIsDeepProp.test(i)||s!=null&&i in Object(s)}var FUNC_ERROR_TEXT$1="Expected a function";function memoize(i,s){if(typeof i!="function"||s!=null&&typeof s!="function")throw new TypeError(FUNC_ERROR_TEXT$1);var c=function(){var v=arguments,b=s?s.apply(this,v):v[0],_=c.cache;if(_.has(b))return _.get(b);var N=i.apply(this,v);return c.cache=_.set(b,N)||_,N};return c.cache=new(memoize.Cache||MapCache),c}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(i){var s=memoize(i,function(v){return c.size===MAX_MEMOIZE_SIZE&&c.clear(),v}),c=s.cache;return s}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(rePropName,function(c,v,b,_){s.push(b?_.replace(reEscapeChar,"$1"):v||c)}),s});function castPath(i,s){return isArray(i)?i:isKey(i,s)?[i]:stringToPath(toString(i))}var INFINITY=1/0;function toKey(i){if(typeof i=="string"||isSymbol(i))return i;var s=i+"";return s=="0"&&1/i==-INFINITY?"-0":s}function baseGet(i,s){s=castPath(s,i);for(var c=0,v=s.length;i!=null&&c<v;)i=i[toKey(s[c++])];return c&&c==v?i:void 0}function get(i,s,c){var v=i==null?void 0:baseGet(i,s);return v===void 0?c:v}function baseClamp(i,s,c){return i===i&&(c!==void 0&&(i=i<=c?i:c),s!==void 0&&(i=i>=s?i:s)),i}function clamp(i,s,c){return c===void 0&&(c=s,s=void 0),c!==void 0&&(c=toNumber(c),c=c===c?c:0),s!==void 0&&(s=toNumber(s),s=s===s?s:0),baseClamp(toNumber(i),s,c)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(i,s,c,v){var b=c.length,_=b;if(i==null)return!_;for(i=Object(i);b--;){var N=c[b];if(N[2]?N[1]!==i[N[0]]:!(N[0]in i))return!1}for(;++b<_;){N=c[b];var C=N[0],D=i[C],f=N[1];if(N[2]){if(D===void 0&&!(C in i))return!1}else{var o=new Stack,a;if(!(a===void 0?baseIsEqual(f,D,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,v,o):a))return!1}}return!0}function isStrictComparable(i){return i===i&&!isObject(i)}function getMatchData(i){for(var s=keys(i),c=s.length;c--;){var v=s[c],b=i[v];s[c]=[v,b,isStrictComparable(b)]}return s}function matchesStrictComparable(i,s){return function(c){return c==null?!1:c[i]===s&&(s!==void 0||i in Object(c))}}function baseMatches(i){var s=getMatchData(i);return s.length==1&&s[0][2]?matchesStrictComparable(s[0][0],s[0][1]):function(c){return c===i||baseIsMatch(c,i,s)}}function baseHasIn(i,s){return i!=null&&s in Object(i)}function hasPath(i,s,c){s=castPath(s,i);for(var v=-1,b=s.length,_=!1;++v<b;){var N=toKey(s[v]);if(!(_=i!=null&&c(i,N)))break;i=i[N]}return _||++v!=b?_:(b=i==null?0:i.length,!!b&&isLength(b)&&isIndex(N,b)&&(isArray(i)||isArguments(i)))}function hasIn(i,s){return i!=null&&hasPath(i,s,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(i,s){return isKey(i)&&isStrictComparable(s)?matchesStrictComparable(toKey(i),s):function(c){var v=get(c,i);return v===void 0&&v===s?hasIn(c,i):baseIsEqual(s,v,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(i){return function(s){return s==null?void 0:s[i]}}function basePropertyDeep(i){return function(s){return baseGet(s,i)}}function property(i){return isKey(i)?baseProperty(toKey(i)):basePropertyDeep(i)}function baseIteratee(i){return typeof i=="function"?i:i==null?identity:typeof i=="object"?isArray(i)?baseMatchesProperty(i[0],i[1]):baseMatches(i):property(i)}function arrayAggregator(i,s,c,v){for(var b=-1,_=i==null?0:i.length;++b<_;){var N=i[b];s(v,N,c(N),i)}return v}function createBaseFor(i){return function(s,c,v){for(var b=-1,_=Object(s),N=v(s),C=N.length;C--;){var D=N[++b];if(c(_[D],D,_)===!1)break}return s}}var baseFor=createBaseFor();function baseForOwn(i,s){return i&&baseFor(i,s,keys)}function createBaseEach(i,s){return function(c,v){if(c==null)return c;if(!isArrayLike(c))return i(c,v);for(var b=c.length,_=-1,N=Object(c);++_<b&&v(N[_],_,N)!==!1;);return c}}var baseEach=createBaseEach(baseForOwn);function baseAggregator(i,s,c,v){return baseEach(i,function(b,_,N){s(v,b,c(b),N)}),v}function createAggregator(i,s){return function(c,v){var b=isArray(c)?arrayAggregator:baseAggregator,_=s?s():{};return b(c,i,baseIteratee(v),_)}}var FUNC_ERROR_TEXT="Expected a function";function baseDelay(i,s,c){if(typeof i!="function")throw new TypeError(FUNC_ERROR_TEXT);return setTimeout(function(){i.apply(void 0,c)},s)}var defer=baseRest(function(i,s){return baseDelay(i,1,s)});function baseSum(i,s){for(var c,v=-1,b=i.length;++v<b;){var _=s(i[v]);_!==void 0&&(c=c===void 0?_:c+_)}return c}var partition=createAggregator(function(i,s,c){i[c?0:1].push(s)},function(){return[[],[]]}),arrayProto=Array.prototype,splice=arrayProto.splice;function basePullAll(i,s,c,v){var b=baseIndexOf,_=-1,N=s.length,C=i;for(i===s&&(s=copyArray(s));++_<N;)for(var D=0,f=s[_],o=f;(D=b(C,o,D))>-1;)C!==i&&splice.call(C,D,1),splice.call(i,D,1);return i}function pullAll(i,s){return i&&i.length&&s&&s.length?basePullAll(i,s):i}var pull=baseRest(pullAll),nativeCeil=Math.ceil,nativeMax=Math.max;function baseRange(i,s,c,v){for(var b=-1,_=nativeMax(nativeCeil((s-i)/(c||1)),0),N=Array(_);_--;)N[++b]=i,i+=c;return N}function createRange(i){return function(s,c,v){return v&&typeof v!="number"&&isIterateeCall(s,c,v)&&(c=v=void 0),s=toFinite(s),c===void 0?(c=s,s=0):c=toFinite(c),v=v===void 0?s<c?1:-1:toFinite(v),baseRange(s,c,v)}}var range=createRange();function sumBy(i,s){return i&&i.length?baseSum(i,baseIteratee(s)):0}var cookie={};cookie.parse=parse;cookie.serialize=serialize$1;var __toString=Object.prototype.toString,fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function parse(i,s){if(typeof i!="string")throw new TypeError("argument str must be a string");for(var c={},v=s||{},b=v.decode||decode,_=0;_<i.length;){var N=i.indexOf("=",_);if(N===-1)break;var C=i.indexOf(";",_);if(C===-1)C=i.length;else if(C<N){_=i.lastIndexOf(";",N-1)+1;continue}var D=i.slice(_,N).trim();if(c[D]===void 0){var f=i.slice(N+1,C).trim();f.charCodeAt(0)===34&&(f=f.slice(1,-1)),c[D]=tryDecode(f,b)}_=C+1}return c}function serialize$1(i,s,c){var v=c||{},b=v.encode||encode;if(typeof b!="function")throw new TypeError("option encode is invalid");if(!fieldContentRegExp.test(i))throw new TypeError("argument name is invalid");var _=b(s);if(_&&!fieldContentRegExp.test(_))throw new TypeError("argument val is invalid");var N=i+"="+_;if(v.maxAge!=null){var C=v.maxAge-0;if(isNaN(C)||!isFinite(C))throw new TypeError("option maxAge is invalid");N+="; Max-Age="+Math.floor(C)}if(v.domain){if(!fieldContentRegExp.test(v.domain))throw new TypeError("option domain is invalid");N+="; Domain="+v.domain}if(v.path){if(!fieldContentRegExp.test(v.path))throw new TypeError("option path is invalid");N+="; Path="+v.path}if(v.expires){var D=v.expires;if(!isDate(D)||isNaN(D.valueOf()))throw new TypeError("option expires is invalid");N+="; Expires="+D.toUTCString()}if(v.httpOnly&&(N+="; HttpOnly"),v.secure&&(N+="; Secure"),v.partitioned&&(N+="; Partitioned"),v.priority){var f=typeof v.priority=="string"?v.priority.toLowerCase():v.priority;switch(f){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(v.sameSite){var o=typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite;switch(o){case!0:N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"strict":N+="; SameSite=Strict";break;case"none":N+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return N}function decode(i){return i.indexOf("%")!==-1?decodeURIComponent(i):i}function encode(i){return encodeURIComponent(i)}function isDate(i){return __toString.call(i)==="[object Date]"||i instanceof Date}function tryDecode(i,s){try{return s(i)}catch{return i}}class InvalidTokenError extends Error{}InvalidTokenError.prototype.name="InvalidTokenError";function b64DecodeUnicode(i){return decodeURIComponent(atob(i).replace(/(.)/g,(s,c)=>{let v=c.charCodeAt(0).toString(16).toUpperCase();return v.length<2&&(v="0"+v),"%"+v}))}function base64UrlDecode(i){let s=i.replace(/-/g,"+").replace(/_/g,"/");switch(s.length%4){case 0:break;case 2:s+="==";break;case 3:s+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return b64DecodeUnicode(s)}catch{return atob(s)}}function jwtDecode(i,s){if(typeof i!="string")throw new InvalidTokenError("Invalid token specified: must be a string");s||(s={});const c=s.header===!0?0:1,v=i.split(".")[c];if(typeof v!="string")throw new InvalidTokenError(`Invalid token specified: missing part #${c+1}`);let b;try{b=base64UrlDecode(v)}catch(_){throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${c+1} (${_.message})`)}try{return JSON.parse(b)}catch(_){throw new InvalidTokenError(`Invalid token specified: invalid json for part #${c+1} (${_.message})`)}}var classnames={exports:{}};(function(i){(function(){var s={}.hasOwnProperty;function c(){for(var _="",N=0;N<arguments.length;N++){var C=arguments[N];C&&(_=b(_,v(C)))}return _}function v(_){if(typeof _=="string"||typeof _=="number")return _;if(typeof _!="object")return"";if(Array.isArray(_))return c.apply(null,_);if(_.toString!==Object.prototype.toString&&!_.toString.toString().includes("[native code]"))return _.toString();var N="";for(var C in _)s.call(_,C)&&_[C]&&(N=b(N,C));return N}function b(_,N){return N?_?_+" "+N:_+N:_}i.exports?(c.default=c,i.exports=c):window.classNames=c})()})(classnames);var classnamesExports=classnames.exports;const j$2=getDefaultExportFromCjs(classnamesExports);var name="firebase",version="10.11.0";registerVersion(name,version,"app");function toDate(i){const s=Object.prototype.toString.call(i);return i instanceof Date||typeof i=="object"&&s==="[object Date]"?new i.constructor(+i):typeof i=="number"||s==="[object Number]"||typeof i=="string"||s==="[object String]"?new Date(i):new Date(NaN)}function constructFrom(i,s){return i instanceof Date?new i.constructor(s):new Date(s)}function addMilliseconds(i,s){const c=+toDate(i);return constructFrom(i,c+s)}const millisecondsInMinute=6e4;function addMinutes(i,s){return addMilliseconds(i,s*millisecondsInMinute)}function addSeconds(i,s){return addMilliseconds(i,s*1e3)}function getRoundingMethod(i){return s=>{const c=Math.trunc,v=c(s);return v===0?0:v}}function differenceInMilliseconds(i,s){return+toDate(i)-+toDate(s)}function differenceInSeconds(i,s,c){const v=differenceInMilliseconds(i,s)/1e3;return getRoundingMethod()(v)}var shim={exports:{}},useSyncExternalStoreShim_production_min={};var e=reactExports;function h$1(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var k=typeof Object.is=="function"?Object.is:h$1,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p$1=e.useDebugValue;function q(i,s){var c=s(),v=l({inst:{value:c,getSnapshot:s}}),b=v[0].inst,_=v[1];return n(function(){b.value=c,b.getSnapshot=s,r(b)&&_({inst:b})},[i,c,s]),m(function(){return r(b)&&_({inst:b}),i(function(){r(b)&&_({inst:b})})},[i]),p$1(c),c}function r(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!k(i,c)}catch{return!0}}function t(i,s){return s()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t:q;useSyncExternalStoreShim_production_min.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports;const noop=()=>{},UNDEFINED=noop(),OBJECT=Object,isUndefined=i=>i===UNDEFINED,isFunction=i=>typeof i=="function",mergeObjects=(i,s)=>({...i,...s}),isPromiseLike=i=>isFunction(i.then),table=new WeakMap;let counter=0;const stableHash=i=>{const s=typeof i,c=i&&i.constructor,v=c==Date;let b,_;if(OBJECT(i)===i&&!v&&c!=RegExp){if(b=table.get(i),b)return b;if(b=++counter+"~",table.set(i,b),c==Array){for(b="@",_=0;_<i.length;_++)b+=stableHash(i[_])+",";table.set(i,b)}if(c==OBJECT){b="#";const N=OBJECT.keys(i).sort();for(;!isUndefined(_=N.pop());)isUndefined(i[_])||(b+=_+":"+stableHash(i[_])+",");table.set(i,b)}}else b=v?i.toJSON():s=="symbol"?i.toString():s=="string"?JSON.stringify(i):""+i;return b},SWRGlobalState=new WeakMap,EMPTY_CACHE={},INITIAL_CACHE={},STR_UNDEFINED="undefined",isWindowDefined=typeof window!=STR_UNDEFINED,isDocumentDefined=typeof document!=STR_UNDEFINED,hasRequestAnimationFrame=()=>isWindowDefined&&typeof window.requestAnimationFrame!=STR_UNDEFINED,createCacheHelper=(i,s)=>{const c=SWRGlobalState.get(i);return[()=>!isUndefined(s)&&i.get(s)||EMPTY_CACHE,v=>{if(!isUndefined(s)){const b=i.get(s);s in INITIAL_CACHE||(INITIAL_CACHE[s]=b),c[5](s,mergeObjects(b,v),b||EMPTY_CACHE)}},c[6],()=>!isUndefined(s)&&s in INITIAL_CACHE?INITIAL_CACHE[s]:!isUndefined(s)&&i.get(s)||EMPTY_CACHE]};let online=!0;const isOnline=()=>online,[onWindowEvent,offWindowEvent]=isWindowDefined&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[noop,noop],isVisible=()=>{const i=isDocumentDefined&&document.visibilityState;return isUndefined(i)||i!=="hidden"},initFocus=i=>(isDocumentDefined&&document.addEventListener("visibilitychange",i),onWindowEvent("focus",i),()=>{isDocumentDefined&&document.removeEventListener("visibilitychange",i),offWindowEvent("focus",i)}),initReconnect=i=>{const s=()=>{online=!0,i()},c=()=>{online=!1};return onWindowEvent("online",s),onWindowEvent("offline",c),()=>{offWindowEvent("online",s),offWindowEvent("offline",c)}},preset={isOnline,isVisible},defaultConfigOptions={initFocus,initReconnect},IS_REACT_LEGACY=!P.useId,IS_SERVER=!isWindowDefined||"Deno"in window,rAF=i=>hasRequestAnimationFrame()?window.requestAnimationFrame(i):setTimeout(i,1),useIsomorphicLayoutEffect=IS_SERVER?reactExports.useEffect:reactExports.useLayoutEffect,navigatorConnection=typeof navigator<"u"&&navigator.connection,slowConnection=!IS_SERVER&&navigatorConnection&&(["slow-2g","2g"].includes(navigatorConnection.effectiveType)||navigatorConnection.saveData),serialize=i=>{if(isFunction(i))try{i=i()}catch{i=""}const s=i;return i=typeof i=="string"?i:(Array.isArray(i)?i.length:i)?stableHash(i):"",[i,s]};let __timestamp=0;const getTimestamp=()=>++__timestamp,FOCUS_EVENT=0,RECONNECT_EVENT=1,MUTATE_EVENT=2,ERROR_REVALIDATE_EVENT=3;var events={__proto__:null,ERROR_REVALIDATE_EVENT,FOCUS_EVENT,MUTATE_EVENT,RECONNECT_EVENT};async function internalMutate(...i){const[s,c,v,b]=i,_=mergeObjects({populateCache:!0,throwOnError:!0},typeof b=="boolean"?{revalidate:b}:b||{});let N=_.populateCache;const C=_.rollbackOnError;let D=_.optimisticData;const f=d=>typeof C=="function"?C(d):C!==!1,o=_.throwOnError;if(isFunction(c)){const d=c,g=[],R=s.keys();for(const S of R)!/^\$(inf|sub)\$/.test(S)&&d(s.get(S)._k)&&g.push(S);return Promise.all(g.map(a))}return a(c);async function a(d){const[g]=serialize(d);if(!g)return;const[R,S]=createCacheHelper(s,g),[y,w,G,W]=SWRGlobalState.get(s),ae=()=>{const Ae=y[g];return(isFunction(_.revalidate)?_.revalidate(R().data,d):_.revalidate!==!1)&&(delete G[g],delete W[g],Ae&&Ae[0])?Ae[0](MUTATE_EVENT).then(()=>R().data):R().data};if(i.length<3)return ae();let ee=v,te;const de=getTimestamp();w[g]=[de,0];const ie=!isUndefined(D),xe=R(),Be=xe.data,Ue=xe._c,qe=isUndefined(Ue)?Be:Ue;if(ie&&(D=isFunction(D)?D(qe,Be):D,S({data:D,_c:qe})),isFunction(ee))try{ee=ee(qe)}catch(Ae){te=Ae}if(ee&&isPromiseLike(ee))if(ee=await ee.catch(Ae=>{te=Ae}),de!==w[g][0]){if(te)throw te;return ee}else te&&ie&&f(te)&&(N=!0,S({data:qe,_c:UNDEFINED}));if(N&&!te)if(isFunction(N)){const Ae=N(ee,qe);S({data:Ae,error:UNDEFINED,_c:UNDEFINED})}else S({data:ee,error:UNDEFINED,_c:UNDEFINED});if(w[g][1]=getTimestamp(),Promise.resolve(ae()).then(()=>{S({_c:UNDEFINED})}),te){if(o)throw te;return}return ee}}const revalidateAllKeys=(i,s)=>{for(const c in i)i[c][0]&&i[c][0](s)},initCache=(i,s)=>{if(!SWRGlobalState.has(i)){const c=mergeObjects(defaultConfigOptions,s),v={},b=internalMutate.bind(UNDEFINED,i);let _=noop;const N={},C=(o,a)=>{const d=N[o]||[];return N[o]=d,d.push(a),()=>d.splice(d.indexOf(a),1)},D=(o,a,d)=>{i.set(o,a);const g=N[o];if(g)for(const R of g)R(a,d)},f=()=>{if(!SWRGlobalState.has(i)&&(SWRGlobalState.set(i,[v,{},{},{},b,D,C]),!IS_SERVER)){const o=c.initFocus(setTimeout.bind(UNDEFINED,revalidateAllKeys.bind(UNDEFINED,v,FOCUS_EVENT))),a=c.initReconnect(setTimeout.bind(UNDEFINED,revalidateAllKeys.bind(UNDEFINED,v,RECONNECT_EVENT)));_=()=>{o&&o(),a&&a(),SWRGlobalState.delete(i)}}};return f(),[i,b,f,_]}return[i,SWRGlobalState.get(i)[4]]},onErrorRetry=(i,s,c,v,b)=>{const _=c.errorRetryCount,N=b.retryCount,C=~~((Math.random()+.5)*(1<<(N<8?N:8)))*c.errorRetryInterval;!isUndefined(_)&&N>_||setTimeout(v,C,b)},compare=(i,s)=>stableHash(i)==stableHash(s),[cache,mutate]=initCache(new Map),defaultConfig=mergeObjects({onLoadingSlow:noop,onSuccess:noop,onError:noop,onErrorRetry,onDiscarded:noop,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:slowConnection?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:slowConnection?5e3:3e3,compare,isPaused:()=>!1,cache,mutate,fallback:{}},preset),mergeConfigs=(i,s)=>{const c=mergeObjects(i,s);if(s){const{use:v,fallback:b}=i,{use:_,fallback:N}=s;v&&_&&(c.use=v.concat(_)),b&&N&&(c.fallback=mergeObjects(b,N))}return c},SWRConfigContext=reactExports.createContext({}),INFINITE_PREFIX="$inf$",enableDevtools=isWindowDefined&&window.__SWR_DEVTOOLS_USE__,use$1=enableDevtools?window.__SWR_DEVTOOLS_USE__:[],setupDevTools=()=>{enableDevtools&&(window.__SWR_DEVTOOLS_REACT__=P)},normalize=i=>isFunction(i[1])?[i[0],i[1],i[2]||{}]:[i[0],null,(i[1]===null?i[2]:i[1])||{}],useSWRConfig=()=>mergeObjects(defaultConfig,reactExports.useContext(SWRConfigContext)),middleware=i=>(s,c,v)=>i(s,c&&((..._)=>{const[N]=serialize(s),[,,,C]=SWRGlobalState.get(cache);if(N.startsWith(INFINITE_PREFIX))return c(..._);const D=C[N];return isUndefined(D)?c(..._):(delete C[N],D)}),v),BUILT_IN_MIDDLEWARE=use$1.concat(middleware),withArgs=i=>function(...c){const v=useSWRConfig(),[b,_,N]=normalize(c),C=mergeConfigs(v,N);let D=i;const{use:f}=C,o=(f||[]).concat(BUILT_IN_MIDDLEWARE);for(let a=o.length;a--;)D=o[a](D);return D(b,_||C.fetcher||null,C)},subscribeCallback=(i,s,c)=>{const v=s[i]||(s[i]=[]);return v.push(c),()=>{const b=v.indexOf(c);b>=0&&(v[b]=v[v.length-1],v.pop())}},withMiddleware=(i,s)=>(...c)=>{const[v,b,_]=normalize(c),N=(_.use||[]).concat(s);return i(v,b,{..._,use:N})};setupDevTools();const use=P.use||(i=>{if(i.status==="pending")throw i;if(i.status==="fulfilled")return i.value;throw i.status==="rejected"?i.reason:(i.status="pending",i.then(s=>{i.status="fulfilled",i.value=s},s=>{i.status="rejected",i.reason=s}),i)}),WITH_DEDUPE={dedupe:!0},useSWRHandler=(i,s,c)=>{const{cache:v,compare:b,suspense:_,fallbackData:N,revalidateOnMount:C,revalidateIfStale:D,refreshInterval:f,refreshWhenHidden:o,refreshWhenOffline:a,keepPreviousData:d}=c,[g,R,S,y]=SWRGlobalState.get(v),[w,G]=serialize(i),W=reactExports.useRef(!1),ae=reactExports.useRef(!1),ee=reactExports.useRef(w),te=reactExports.useRef(s),de=reactExports.useRef(c),ie=()=>de.current,xe=()=>ie().isVisible()&&ie().isOnline(),[Be,Ue,qe,Ae]=createCacheHelper(v,w),Se=reactExports.useRef({}).current,We=isUndefined(N)?c.fallback[w]:N,he=(Ne,_e)=>{for(const De in Se){const re=De;if(re==="data"){if(!b(Ne[re],_e[re])&&(!isUndefined(Ne[re])||!b(Rt,_e[re])))return!1}else if(_e[re]!==Ne[re])return!1}return!0},bt=reactExports.useMemo(()=>{const Ne=!w||!s?!1:isUndefined(C)?ie().isPaused()||_?!1:isUndefined(D)?!0:D:C,_e=Oe=>{const Je=mergeObjects(Oe);return delete Je._k,Ne?{isValidating:!0,isLoading:!0,...Je}:Je},De=Be(),re=Ae(),we=_e(De),je=De===re?we:_e(re);let Me=we;return[()=>{const Oe=_e(Be());return he(Oe,Me)?(Me.data=Oe.data,Me.isLoading=Oe.isLoading,Me.isValidating=Oe.isValidating,Me.error=Oe.error,Me):(Me=Oe,Oe)},()=>je]},[v,w]),it=shimExports.useSyncExternalStore(reactExports.useCallback(Ne=>qe(w,(_e,De)=>{he(De,_e)||Ne()}),[v,w]),bt[0],bt[1]),Et=!W.current,Ot=g[w]&&g[w].length>0,Fe=it.data,at=isUndefined(Fe)?We:Fe,pt=it.error,vt=reactExports.useRef(at),Rt=d?isUndefined(Fe)?vt.current:Fe:at,Dt=Ot&&!isUndefined(pt)?!1:Et&&!isUndefined(C)?C:ie().isPaused()?!1:_?isUndefined(at)?!1:D:isUndefined(at)||D,St=!!(w&&s&&Et&&Dt),Mt=isUndefined(it.isValidating)?St:it.isValidating,Nt=isUndefined(it.isLoading)?St:it.isLoading,yt=reactExports.useCallback(async Ne=>{const _e=te.current;if(!w||!_e||ae.current||ie().isPaused())return!1;let De,re,we=!0;const je=Ne||{},Me=!S[w]||!je.dedupe,Oe=()=>IS_REACT_LEGACY?!ae.current&&w===ee.current&&W.current:w===ee.current,Je={isValidating:!1,isLoading:!1},Ft=()=>{Ue(Je)},Zt=()=>{const rt=S[w];rt&&rt[1]===re&&delete S[w]},Qt={isValidating:!0};isUndefined(Be().data)&&(Qt.isLoading=!0);try{if(Me&&(Ue(Qt),c.loadingTimeout&&isUndefined(Be().data)&&setTimeout(()=>{we&&Oe()&&ie().onLoadingSlow(w,c)},c.loadingTimeout),S[w]=[_e(G),getTimestamp()]),[De,re]=S[w],De=await De,Me&&setTimeout(Zt,c.dedupingInterval),!S[w]||S[w][1]!==re)return Me&&Oe()&&ie().onDiscarded(w),!1;Je.error=UNDEFINED;const rt=R[w];if(!isUndefined(rt)&&(re<=rt[0]||re<=rt[1]||rt[1]===0))return Ft(),Me&&Oe()&&ie().onDiscarded(w),!1;const dt=Be().data;Je.data=b(dt,De)?dt:De,Me&&Oe()&&ie().onSuccess(De,w,c)}catch(rt){Zt();const dt=ie(),{shouldRetryOnError:$t}=dt;dt.isPaused()||(Je.error=rt,Me&&Oe()&&(dt.onError(rt,w,dt),($t===!0||isFunction($t)&&$t(rt))&&(!ie().revalidateOnFocus||!ie().revalidateOnReconnect||xe())&&dt.onErrorRetry(rt,w,dt,Yt=>{const er=g[w];er&&er[0]&&er[0](events.ERROR_REVALIDATE_EVENT,Yt)},{retryCount:(je.retryCount||0)+1,dedupe:!0})))}return we=!1,Ft(),!0},[w,v]),Lt=reactExports.useCallback((...Ne)=>internalMutate(v,ee.current,...Ne),[]);if(useIsomorphicLayoutEffect(()=>{te.current=s,de.current=c,isUndefined(Fe)||(vt.current=Fe)}),useIsomorphicLayoutEffect(()=>{if(!w)return;const Ne=yt.bind(UNDEFINED,WITH_DEDUPE);let _e=0;const re=subscribeCallback(w,g,(we,je={})=>{if(we==events.FOCUS_EVENT){const Me=Date.now();ie().revalidateOnFocus&&Me>_e&&xe()&&(_e=Me+ie().focusThrottleInterval,Ne())}else if(we==events.RECONNECT_EVENT)ie().revalidateOnReconnect&&xe()&&Ne();else{if(we==events.MUTATE_EVENT)return yt();if(we==events.ERROR_REVALIDATE_EVENT)return yt(je)}});return ae.current=!1,ee.current=w,W.current=!0,Ue({_k:G}),Dt&&(isUndefined(at)||IS_SERVER?Ne():rAF(Ne)),()=>{ae.current=!0,re()}},[w]),useIsomorphicLayoutEffect(()=>{let Ne;function _e(){const re=isFunction(f)?f(Be().data):f;re&&Ne!==-1&&(Ne=setTimeout(De,re))}function De(){!Be().error&&(o||ie().isVisible())&&(a||ie().isOnline())?yt(WITH_DEDUPE).then(_e):_e()}return _e(),()=>{Ne&&(clearTimeout(Ne),Ne=-1)}},[f,o,a,w]),reactExports.useDebugValue(Rt),_&&isUndefined(at)&&w){if(!IS_REACT_LEGACY&&IS_SERVER)throw new Error("Fallback data is required when using suspense in SSR.");te.current=s,de.current=c,ae.current=!1;const Ne=y[w];if(!isUndefined(Ne)){const _e=Lt(Ne);use(_e)}if(isUndefined(pt)){const _e=yt(WITH_DEDUPE);isUndefined(Rt)||(_e.status="fulfilled",_e.value=!0),use(_e)}else throw pt}return{mutate:Lt,get data(){return Se.data=!0,Rt},get error(){return Se.error=!0,pt},get isValidating(){return Se.isValidating=!0,Mt},get isLoading(){return Se.isLoading=!0,Nt}}},useSWR=withArgs(useSWRHandler),immutable=i=>(s,c,v)=>(v.revalidateOnFocus=!1,v.revalidateIfStale=!1,v.revalidateOnReconnect=!1,i(s,c,v)),useSWRImmutable=withMiddleware(useSWR,immutable);var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const toKebabCase=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const createLucideIcon=(i,s)=>{const c=reactExports.forwardRef(({color:v="currentColor",size:b=24,strokeWidth:_=2,absoluteStrokeWidth:N,className:C="",children:D,...f},o)=>reactExports.createElement("svg",{ref:o,...defaultAttributes,width:b,height:b,stroke:v,strokeWidth:N?Number(_)*24/Number(b):_,className:["lucide",`lucide-${toKebabCase(i)}`,C].join(" "),...f},[...s.map(([a,d])=>reactExports.createElement(a,d)),...Array.isArray(D)?D:[D]]));return c.displayName=`${i}`,c};const CircleCheckBig=createLucideIcon("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const CircleCheck=createLucideIcon("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const CircleHelp=createLucideIcon("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const CircleX=createLucideIcon("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const MessageSquareOff=createLucideIcon("MessageSquareOff",[["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M3.6 3.6c-.4.3-.6.8-.6 1.4v16l4-4h10",key:"pwpm4a"}]]);const Pause=createLucideIcon("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);const Play=createLucideIcon("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const RotateCcw=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const RotateCw=createLucideIcon("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);const Send=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const SkipForward=createLucideIcon("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const TriangleAlert=createLucideIcon("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function isBytes(i){return i instanceof Uint8Array||i!=null&&typeof i=="object"&&i.constructor.name==="Uint8Array"}function bytes(i,...s){if(!isBytes(i))throw new Error("Uint8Array expected");if(s.length>0&&!s.includes(i.length))throw new Error(`Uint8Array expected of length ${s}, not of length=${i.length}`)}function exists(i,s=!0){if(i.destroyed)throw new Error("Hash instance has been destroyed");if(s&&i.finished)throw new Error("Hash#digest() has already been called")}function output(i,s){bytes(i);const c=s.outputLen;if(i.length<c)throw new Error(`digestInto() expects output buffer of length at least ${c}`)}const createView=i=>new DataView(i.buffer,i.byteOffset,i.byteLength),rotr=(i,s)=>i<<32-s|i>>>s;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function utf8ToBytes(i){if(typeof i!="string")throw new Error(`utf8ToBytes expected string, got ${typeof i}`);return new Uint8Array(new TextEncoder().encode(i))}function toBytes(i){return typeof i=="string"&&(i=utf8ToBytes(i)),bytes(i),i}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(i){const s=v=>i().update(toBytes(v)).digest(),c=i();return s.outputLen=c.outputLen,s.blockLen=c.blockLen,s.create=()=>i(),s}function setBigUint64(i,s,c,v){if(typeof i.setBigUint64=="function")return i.setBigUint64(s,c,v);const b=BigInt(32),_=BigInt(4294967295),N=Number(c>>b&_),C=Number(c&_),D=v?4:0,f=v?0:4;i.setUint32(s+D,N,v),i.setUint32(s+f,C,v)}const Chi=(i,s,c)=>i&s^~i&c,Maj=(i,s,c)=>i&s^i&c^s&c;class HashMD extends Hash{constructor(s,c,v,b){super(),this.blockLen=s,this.outputLen=c,this.padOffset=v,this.isLE=b,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=createView(this.buffer)}update(s){exists(this);const{view:c,buffer:v,blockLen:b}=this;s=toBytes(s);const _=s.length;for(let N=0;N<_;){const C=Math.min(b-this.pos,_-N);if(C===b){const D=createView(s);for(;b<=_-N;N+=b)this.process(D,N);continue}v.set(s.subarray(N,N+C),this.pos),this.pos+=C,N+=C,this.pos===b&&(this.process(c,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){exists(this),output(s,this),this.finished=!0;const{buffer:c,view:v,blockLen:b,isLE:_}=this;let{pos:N}=this;c[N++]=128,this.buffer.subarray(N).fill(0),this.padOffset>b-N&&(this.process(v,0),N=0);for(let a=N;a<b;a++)c[a]=0;setBigUint64(v,b-8,BigInt(this.length*8),_),this.process(v,0);const C=createView(s),D=this.outputLen;if(D%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=D/4,o=this.get();if(f>o.length)throw new Error("_sha2: outputLen bigger than state");for(let a=0;a<f;a++)C.setUint32(4*a,o[a],_)}digest(){const{buffer:s,outputLen:c}=this;this.digestInto(s);const v=s.slice(0,c);return this.destroy(),v}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:c,buffer:v,length:b,finished:_,destroyed:N,pos:C}=this;return s.length=b,s.pos=C,s.finished=_,s.destroyed=N,b%c&&s.buffer.set(v),s}}const SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends HashMD{constructor(){super(64,32,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:s,B:c,C:v,D:b,E:_,F:N,G:C,H:D}=this;return[s,c,v,b,_,N,C,D]}set(s,c,v,b,_,N,C,D){this.A=s|0,this.B=c|0,this.C=v|0,this.D=b|0,this.E=_|0,this.F=N|0,this.G=C|0,this.H=D|0}process(s,c){for(let a=0;a<16;a++,c+=4)SHA256_W[a]=s.getUint32(c,!1);for(let a=16;a<64;a++){const d=SHA256_W[a-15],g=SHA256_W[a-2],R=rotr(d,7)^rotr(d,18)^d>>>3,S=rotr(g,17)^rotr(g,19)^g>>>10;SHA256_W[a]=S+SHA256_W[a-7]+R+SHA256_W[a-16]|0}let{A:v,B:b,C:_,D:N,E:C,F:D,G:f,H:o}=this;for(let a=0;a<64;a++){const d=rotr(C,6)^rotr(C,11)^rotr(C,25),g=o+d+Chi(C,D,f)+SHA256_K[a]+SHA256_W[a]|0,S=(rotr(v,2)^rotr(v,13)^rotr(v,22))+Maj(v,b,_)|0;o=f,f=D,D=C,C=N+g|0,N=_,_=b,b=v,v=g+S|0}v=v+this.A|0,b=b+this.B|0,_=_+this.C|0,N=N+this.D|0,C=C+this.E|0,D=D+this.F|0,f=f+this.G|0,o=o+this.H|0,this.set(v,b,_,N,C,D,f,o)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256=wrapConstructor(()=>new SHA256);var MULTIPLIER=214013,INCREMENT=2531011,MASK=4294967295,MASK_2=(1<<31)-1,computeNextSeed=function(i){return i*MULTIPLIER+INCREMENT&MASK},computeValueFromNextSeed=function(i){return(i&MASK_2)>>16},LinearCongruential32=function(){function i(s){this.seed=s}return i.prototype.clone=function(){return new i(this.seed)},i.prototype.next=function(){var s=new i(this.seed),c=s.unsafeNext();return[c,s]},i.prototype.unsafeNext=function(){var s=computeNextSeed(this.seed),c=computeValueFromNextSeed(s),v=computeNextSeed(s),b=computeValueFromNextSeed(v);this.seed=computeNextSeed(v);var _=computeValueFromNextSeed(this.seed),N=_+(b+(c<<15)<<15);return N|0},i.prototype.getState=function(){return[this.seed]},i}();function fromState$3(i){var s=i.length===1;if(!s)throw new Error("The state must have been produced by a congruential32 RandomGenerator");return new LinearCongruential32(i[0])}Object.assign(function(i){return new LinearCongruential32(i)},{fromState:fromState$3});var __read=function(i,s){var c=typeof Symbol=="function"&&i[Symbol.iterator];if(!c)return i;var v=c.call(i),b,_=[],N;try{for(;(s===void 0||s-- >0)&&!(b=v.next()).done;)_.push(b.value)}catch(C){N={error:C}}finally{try{b&&!b.done&&(c=v.return)&&c.call(v)}finally{if(N)throw N.error}}return _},__spreadArray=function(i,s,c){if(c||arguments.length===2)for(var v=0,b=s.length,_;v<b;v++)(_||!(v in s))&&(_||(_=Array.prototype.slice.call(s,0,v)),_[v]=s[v]);return i.concat(_||Array.prototype.slice.call(s))},MersenneTwister=function(){function i(s,c){this.states=s,this.index=c}return i.twist=function(s){for(var c=s.slice(),v=0;v!==i.N-i.M;++v){var b=(c[v]&i.MASK_UPPER)+(c[v+1]&i.MASK_LOWER);c[v]=c[v+i.M]^b>>>1^-(b&1)&i.A}for(var v=i.N-i.M;v!==i.N-1;++v){var _=(c[v]&i.MASK_UPPER)+(c[v+1]&i.MASK_LOWER);c[v]=c[v+i.M-i.N]^_>>>1^-(_&1)&i.A}var N=(c[i.N-1]&i.MASK_UPPER)+(c[0]&i.MASK_LOWER);return c[i.N-1]=c[i.M-1]^N>>>1^-(N&1)&i.A,c},i.seeded=function(s){var c=Array(i.N);c[0]=s;for(var v=1;v!==i.N;++v){var b=c[v-1]^c[v-1]>>>30;c[v]=Math.imul(i.F,b)+v|0}return c},i.from=function(s){return new i(i.twist(i.seeded(s)),0)},i.prototype.clone=function(){return new i(this.states,this.index)},i.prototype.next=function(){var s=new i(this.states,this.index),c=s.unsafeNext();return[c,s]},i.prototype.unsafeNext=function(){var s=this.states[this.index];return s^=this.states[this.index]>>>i.U,s^=s<<i.S&i.B,s^=s<<i.T&i.C,s^=s>>>i.L,++this.index>=i.N&&(this.states=i.twist(this.states),this.index=0),s},i.prototype.getState=function(){return __spreadArray([this.index],__read(this.states),!1)},i.fromState=function(s){var c=s.length===i.N+1&&s[0]>=0&&s[0]<i.N;if(!c)throw new Error("The state must have been produced by a mersenne RandomGenerator");return new i(s.slice(1),s[0])},i.N=624,i.M=397,i.R=31,i.A=2567483615,i.F=1812433253,i.U=11,i.S=7,i.B=2636928640,i.T=15,i.C=4022730752,i.L=18,i.MASK_LOWER=Math.pow(2,i.R)-1,i.MASK_UPPER=Math.pow(2,i.R),i}();function fromState$2(i){return MersenneTwister.fromState(i)}Object.assign(function(i){return MersenneTwister.from(i)},{fromState:fromState$2});var XorShift128Plus=function(){function i(s,c,v,b){this.s01=s,this.s00=c,this.s11=v,this.s10=b}return i.prototype.clone=function(){return new i(this.s01,this.s00,this.s11,this.s10)},i.prototype.next=function(){var s=new i(this.s01,this.s00,this.s11,this.s10),c=s.unsafeNext();return[c,s]},i.prototype.unsafeNext=function(){var s=this.s00^this.s00<<23,c=this.s01^(this.s01<<23|this.s00>>>9),v=s^this.s10^(s>>>18|c<<14)^(this.s10>>>5|this.s11<<27),b=c^this.s11^c>>>18^this.s11>>>5,_=this.s00+this.s10|0;return this.s01=this.s11,this.s00=this.s10,this.s11=b,this.s10=v,_},i.prototype.jump=function(){var s=new i(this.s01,this.s00,this.s11,this.s10);return s.unsafeJump(),s},i.prototype.unsafeJump=function(){for(var s=0,c=0,v=0,b=0,_=[1667051007,2321340297,1548169110,304075285],N=0;N!==4;++N)for(var C=1;C;C<<=1)_[N]&C&&(s^=this.s01,c^=this.s00,v^=this.s11,b^=this.s10),this.unsafeNext();this.s01=s,this.s00=c,this.s11=v,this.s10=b},i.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},i}();function fromState$1(i){var s=i.length===4;if(!s)throw new Error("The state must have been produced by a xorshift128plus RandomGenerator");return new XorShift128Plus(i[0],i[1],i[2],i[3])}Object.assign(function(i){return new XorShift128Plus(-1,~i,i|0,0)},{fromState:fromState$1});var XoroShiro128Plus=function(){function i(s,c,v,b){this.s01=s,this.s00=c,this.s11=v,this.s10=b}return i.prototype.clone=function(){return new i(this.s01,this.s00,this.s11,this.s10)},i.prototype.next=function(){var s=new i(this.s01,this.s00,this.s11,this.s10),c=s.unsafeNext();return[c,s]},i.prototype.unsafeNext=function(){var s=this.s00+this.s10|0,c=this.s10^this.s00,v=this.s11^this.s01,b=this.s00,_=this.s01;return this.s00=b<<24^_>>>8^c^c<<16,this.s01=_<<24^b>>>8^v^(v<<16|c>>>16),this.s10=v<<5^c>>>27,this.s11=c<<5^v>>>27,s},i.prototype.jump=function(){var s=new i(this.s01,this.s00,this.s11,this.s10);return s.unsafeJump(),s},i.prototype.unsafeJump=function(){for(var s=0,c=0,v=0,b=0,_=[3639956645,3750757012,1261568508,386426335],N=0;N!==4;++N)for(var C=1;C;C<<=1)_[N]&C&&(s^=this.s01,c^=this.s00,v^=this.s11,b^=this.s10),this.unsafeNext();this.s01=s,this.s00=c,this.s11=v,this.s10=b},i.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},i}();function fromState(i){var s=i.length===4;if(!s)throw new Error("The state must have been produced by a xoroshiro128plus RandomGenerator");return new XoroShiro128Plus(i[0],i[1],i[2],i[3])}var xoroshiro128plus=Object.assign(function(i){return new XoroShiro128Plus(-1,~i,i|0,0)},{fromState});function fromNumberToArrayInt64(i,s){if(s<0){var c=-s;i.sign=-1,i.data[0]=~~(c/4294967296),i.data[1]=c>>>0}else i.sign=1,i.data[0]=~~(s/4294967296),i.data[1]=s>>>0;return i}function substractArrayInt64(i,s,c){var v=s.data[1],b=s.data[0],_=s.sign,N=c.data[1],C=c.data[0],D=c.sign;if(i.sign=1,_===1&&D===-1){var f=v+N,o=b+C+(f>4294967295?1:0);return i.data[0]=o>>>0,i.data[1]=f>>>0,i}var a=v,d=b,g=N,R=C;_===-1&&(a=N,d=C,g=v,R=b);var S=0,y=a-g;return y<0&&(S=1,y=y>>>0),i.data[0]=d-R-S,i.data[1]=y,i}function unsafeUniformIntDistributionInternal(i,s){for(var c=i>2?~~(4294967296/i)*i:4294967296,v=s.unsafeNext()+2147483648;v>=c;)v=s.unsafeNext()+2147483648;return v%i}function unsafeUniformArrayIntDistributionInternal(i,s,c){for(var v=s.length;;){for(var b=0;b!==v;++b){var _=b===0?s[0]+1:4294967296,N=unsafeUniformIntDistributionInternal(_,c);i[b]=N}for(var b=0;b!==v;++b){var C=i[b],D=s[b];if(C<D)return i;if(C>D)break}}}var safeNumberMaxSafeInteger=Number.MAX_SAFE_INTEGER,sharedA={sign:1,data:[0,0]},sharedB={sign:1,data:[0,0]},sharedC={sign:1,data:[0,0]},sharedData=[0,0];function uniformLargeIntInternal(i,s,c,v){var b=c<=safeNumberMaxSafeInteger?fromNumberToArrayInt64(sharedC,c):substractArrayInt64(sharedC,fromNumberToArrayInt64(sharedA,s),fromNumberToArrayInt64(sharedB,i));return b.data[1]===4294967295?(b.data[0]+=1,b.data[1]=0):b.data[1]+=1,unsafeUniformArrayIntDistributionInternal(sharedData,b.data,v),sharedData[0]*4294967296+sharedData[1]+i}function unsafeUniformIntDistribution(i,s,c){var v=s-i;if(v<=4294967295){var b=unsafeUniformIntDistributionInternal(v+1,c);return b+i}return uniformLargeIntInternal(i,s,v,c)}var ValidationError=class extends Error{constructor(s,c){super(s,c);jr(this,"name");jr(this,"details");this.name="ZodValidationError",this.details=getIssuesFromErrorOptions(c)}toString(){return this.message}};function getIssuesFromErrorOptions(i){if(i){const s=i.cause;if(s instanceof ZodError)return s.issues}return[]}var ISSUE_SEPARATOR="; ",MAX_ISSUES_IN_MESSAGE=99,PREFIX="Validation error",PREFIX_SEPARATOR=": ",UNION_SEPARATOR=", or ";function prefixMessage(i,s,c){return s!==null?i.length>0?[s,i].join(c):s:i.length>0?i:PREFIX}var identifierRegex=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function joinPath(i){return i.length===1?i[0].toString():i.reduce((s,c)=>{if(typeof c=="number")return s+"["+c.toString()+"]";if(c.includes('"'))return s+'["'+escapeQuotes(c)+'"]';if(!identifierRegex.test(c))return s+'["'+c+'"]';const v=s.length===0?"":".";return s+v+c},"")}function escapeQuotes(i){return i.replace(/"/g,'\\"')}function isNonEmptyArray(i){return i.length!==0}function getMessageFromZodIssue(i){const{issue:s,issueSeparator:c,unionSeparator:v,includePath:b}=i;if(s.code==="invalid_union")return s.unionErrors.reduce((_,N)=>{const C=N.issues.map(D=>getMessageFromZodIssue({issue:D,issueSeparator:c,unionSeparator:v,includePath:b})).join(c);return _.includes(C)||_.push(C),_},[]).join(v);if(s.code==="invalid_arguments")return[s.message,...s.argumentsError.issues.map(_=>getMessageFromZodIssue({issue:_,issueSeparator:c,unionSeparator:v,includePath:b}))].join(c);if(s.code==="invalid_return_type")return[s.message,...s.returnTypeError.issues.map(_=>getMessageFromZodIssue({issue:_,issueSeparator:c,unionSeparator:v,includePath:b}))].join(c);if(b&&isNonEmptyArray(s.path)){if(s.path.length===1){const _=s.path[0];if(typeof _=="number")return`${s.message} at index ${_}`}return`${s.message} at "${joinPath(s.path)}"`}return s.message}function fromZodError(i,s={}){const{maxIssuesInMessage:c=MAX_ISSUES_IN_MESSAGE,issueSeparator:v=ISSUE_SEPARATOR,unionSeparator:b=UNION_SEPARATOR,prefixSeparator:_=PREFIX_SEPARATOR,prefix:N=PREFIX,includePath:C=!0}=s,D=i.errors,f=D.length===0?i.message:D.slice(0,c).map(a=>getMessageFromZodIssue({issue:a,issueSeparator:v,unionSeparator:b,includePath:C})).join(v),o=prefixMessage(f,N,_);return new ValidationError(o,{cause:i})}const ErrorBoundaryContext=reactExports.createContext(null),initialState={didCatch:!1,error:null};class ErrorBoundary extends reactExports.Component{constructor(s){super(s),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=initialState}static getDerivedStateFromError(s){return{didCatch:!0,error:s}}resetErrorBoundary(){const{error:s}=this.state;if(s!==null){for(var c,v,b=arguments.length,_=new Array(b),N=0;N<b;N++)_[N]=arguments[N];(c=(v=this.props).onReset)===null||c===void 0||c.call(v,{args:_,reason:"imperative-api"}),this.setState(initialState)}}componentDidCatch(s,c){var v,b;(v=(b=this.props).onError)===null||v===void 0||v.call(b,s,c)}componentDidUpdate(s,c){const{didCatch:v}=this.state,{resetKeys:b}=this.props;if(v&&c.error!==null&&hasArrayChanged(s.resetKeys,b)){var _,N;(_=(N=this.props).onReset)===null||_===void 0||_.call(N,{next:b,prev:s.resetKeys,reason:"keys"}),this.setState(initialState)}}render(){const{children:s,fallbackRender:c,FallbackComponent:v,fallback:b}=this.props,{didCatch:_,error:N}=this.state;let C=s;if(_){const D={error:N,resetErrorBoundary:this.resetErrorBoundary};if(typeof c=="function")C=c(D);else if(v)C=reactExports.createElement(v,D);else if(b===null||reactExports.isValidElement(b))C=b;else throw N}return reactExports.createElement(ErrorBoundaryContext.Provider,{value:{didCatch:_,error:N,resetErrorBoundary:this.resetErrorBoundary}},C)}}function hasArrayChanged(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return i.length!==s.length||i.some((c,v)=>!Object.is(c,s[v]))}var define_import_meta_env_default={QUIZMS_MODE:"training",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},E=reactExports.createContext({});E.displayName="LoadingButtonsContext";function U({className:i,showError:s,children:c}){let[v,b]=reactExports.useState(),[_,N]=reactExports.useState(),C=reactExports.useCallback(D=>{D&&(console.error(D),s&&N(`Errore: ${ut(D)}`))},[s]);return P.createElement(E.Provider,{value:{contextLoading:v,setContextLoading:b,throwError:C}},P.createElement("div",{className:j$2("not-prose",i)},s&&P.createElement("p",{className:"mb-1.5 text-error"},_||P.createElement(P.Fragment,null," ")),P.createElement("div",{className:"flex flex-wrap justify-center gap-3"},c)))}function ut(i){if(!(i instanceof FirebaseError))return i.message;switch(i.code){case"auth/invalid-email":case"auth/user-not-found":return"Username non corretto.";case"auth/wrong-password":return"Password non corretta.";case"auth/too-many-requests":return"Troppi tentativi. Riprova più tardi.";default:return i.message.replace(/^Firebase: /,"").replace(/ \([/a-z-]+\)\.$/,"")}}function F({className:i,icon:s,onClick:c,disabled:v,children:b}){let{contextLoading:_,setContextLoading:N,throwError:C}=reactExports.useContext(E),[D,f]=reactExports.useState(),o=_??D,a=S=>{(N??f)(S)},d=reactExports.useId(),g=o===d,R=async S=>{if(c){S.preventDefault(),a(d),C==null||C();try{await c()}catch(y){C==null||C(y)}a(void 0)}};return P.createElement("button",{className:j$2("btn",i),onClick:R,disabled:!!o||v},g&&P.createElement("span",{className:"loading loading-spinner"}),!g&&s&&P.createElement(s,null),b)}function V$1({percentage:i,className:s,children:c}){let v=i===void 0?void 0:Math.round(i);return v!==void 0&&(v=Number.isNaN(v)?void 0:clamp(v,0,100)),P.createElement("div",{className:j$2("relative p-2 pt-0 text-center",s)},P.createElement("div",{className:"relative z-10"},c),P.createElement("progress",{className:"progress progress-info absolute inset-x-0",value:v,max:"100"}))}function Ie(){return P.createElement("div",{className:"not-prose flex h-full items-center justify-center"},P.createElement(V$1,null,P.createElement("p",{className:"pb-1"},"Caricamento in corso...")))}var Te=reactExports.forwardRef(function({title:i,className:s,children:c},v){return P.createElement("dialog",{ref:v,className:"modal"},P.createElement("form",{method:"dialog",className:j$2("modal-box",s)},P.createElement("button",{className:"btn btn-circle btn-ghost btn-sm absolute right-2 top-2","aria-label":"Chiudi"},"✕"),P.createElement("h3",{className:"mb-3 mt-0 text-lg font-bold"},i),c),P.createElement("form",{method:"dialog",className:"modal-backdrop"},P.createElement("button",null,"Chiudi")))});function H(){let{data:i}=useSWRImmutable("time-server",It,{suspense:!0});return()=>addMilliseconds(new Date,i)}async function It(){if(!define_import_meta_env_default.QUIZMS_TIME_SERVER)return 0;try{let i=await fetch(define_import_meta_env_default.QUIZMS_TIME_SERVER);if(!i.ok)return 0;let s=Date.now(),c=await i.text(),v=Number(c);return Number.isNaN(v)?0:v-s}catch{return 0}}function Z(i){let s=H(),c=reactExports.useCallback(()=>!!i&&s()>=i,[i,s]),[v,b]=reactExports.useState(c),_=reactExports.useCallback(()=>!v&&c()&&b(!0),[v,c]);return reactExports.useEffect(()=>{if(!i){b(!1);return}let N=differenceInMilliseconds(i,s());if(N<0)return;let C=setTimeout(_,N+5);return()=>clearTimeout(C)},[i,_,s]),reactExports.useEffect(()=>(window.addEventListener("visibilitychange",_),()=>window.removeEventListener("visibilitychange",_)),[_]),v}function ke(i){let s=H(),[c,v]=reactExports.useState(s()),b=i.endTime??addMinutes(i.startTime,i.duration);if(reactExports.useEffect(()=>{if(!b)return;let D=setInterval(()=>{let f=s();v(f),f>=b&&clearInterval(D)},100);return()=>clearInterval(D)},[b,s]),!b)return P.createElement("span",{className:"font-mono"},"--:--");let _=Math.max(differenceInSeconds(b,c),0);i.duration&&(_=Math.min(_,i.duration*60));let N=Math.floor(_/60)%100,C=_%60;return P.createElement("span",{className:"countdown font-mono"},P.createElement("span",{style:{"--value":N}}),":",P.createElement("span",{style:{"--value":C}}))}var M=reactExports.createContext({addItem:noop$1,deleteItem:noop$1});function X({align:i,children:s}){let[c,v]=reactExports.useState(),[b,_]=reactExports.useState([]),N=reactExports.useMemo(()=>({button:c,addItem:C=>_(D=>[...D,C]),deleteItem:C=>_(D=>pull(D,C))}),[c,_]);return P.createElement(M.Provider,{value:N},P.createElement("div",{className:j$2("dropdown max-w-full flex-none",i)},P.createElement("div",{ref:v,tabIndex:0,role:"button",className:"btn btn-ghost no-animation w-full flex-nowrap"}),P.createElement("ul",{className:j$2("menu dropdown-content menu-sm z-30 mt-3 w-fit min-w-52 gap-1 rounded-box bg-base-200 p-2 text-base-content",b.length===0&&"hidden")},s)))}function Y({children:i}){let{button:s}=reactExports.useContext(M);return P.createElement(P.Fragment,null,s&&reactDomExports.createPortal(i,s))}function J({hidden:i,children:s}){let c=reactExports.useId(),{addItem:v,deleteItem:b}=reactExports.useContext(M);return reactExports.useEffect(()=>(i||v(c),()=>b(c)),[v,b,i,c]),!i&&P.createElement("li",null,s)}function K({error:i,resetErrorBoundary:s}){return reactExports.useEffect(()=>{},[s]),P.createElement("div",{className:"flex size-full flex-col justify-center"},P.createElement("p",{className:"mx-8 break-words text-center text-error"},"Errore: ",i.message),s&&P.createElement(U,{className:"mt-5"},P.createElement(F,{className:"btn-error",onClick:s},P.createElement(RotateCw,null),"Ricarica")))}var L$1=z.object({name:z.string(),label:z.string(),size:z.enum(["xs","sm","md","lg","xl"]).optional(),pinned:z.boolean().optional()}),zt=L$1.extend({type:z.literal("text")}),Bt=L$1.extend({type:z.literal("number"),min:z.number().optional(),max:z.number().optional()}),At=L$1.extend({type:z.literal("date"),min:z.date(),max:z.date()});z.object({id:z.string(),name:z.string(),longName:z.string(),problemIds:z.coerce.string().array(),contestWindowStart:z.date().optional(),contestWindowEnd:z.date().optional(),duration:z.coerce.number().positive().optional(),statementVersion:z.number(),personalInformation:z.array(z.discriminatedUnion("type",[zt,Bt,At])),hasVariants:z.boolean(),hasOnline:z.boolean(),hasPdf:z.boolean(),allowRestart:z.boolean(),allowStudentImport:z.boolean(),allowStudentEdit:z.boolean(),allowAnswerEdit:z.boolean(),allowStudentDelete:z.boolean(),instructions:z.string().optional()});var nt$1=z.object({uid:z.string(),personalInformation:z.record(z.union([z.string(),z.number(),z.date()]).optional()),absent:z.boolean(),disabled:z.boolean(),participationId:z.string(),contestId:z.string(),token:z.string(),startedAt:z.date(),variant:z.string(),answers:z.record(z.union([z.string(),z.number(),z.undefined()])),extraData:z.record(z.any()).optional(),createdAt:z.coerce.date(),updatedAt:z.date(),submittedAt:z.date().optional()}).partial().extend({id:z.string()});z.object({id:z.string(),studentId:z.string()});z.object({id:z.string(),studentId:z.string(),participationId:z.string()});z.object({id:z.string(),studentId:z.string(),participationId:z.string(),token:z.string(),name:z.string(),surname:z.string()});z.object({id:z.string(),contestId:z.string(),schema:z.record(z.object({type:z.enum(["text","number","points"]),originalId:z.coerce.string().optional(),optionsCorrect:z.string().array().optional(),optionsBlank:z.string().array().optional(),optionsWrong:z.string().array().optional(),pointsCorrect:z.number().optional(),pointsBlank:z.number().optional(),pointsWrong:z.number().optional()}))});z.object({id:z.string(),variant:z.string()});function Sn(i,s){var _,N,C;if(i.absent||i.disabled)return;let c=i.answers,v=(_=s[i.variant])==null?void 0:_.schema;if(!v||!c)return;let b=0;for(let D in v){if(!(D in c))continue;let f=v[D],o=(C=(N=c[D])==null?void 0:N.toString())==null?void 0:C.trim(),a=Ut(f,o);if(a===void 0)return;b+=a}return b}function Ut(i,s){var c;if(i.type==="points")return Number(s||0);if(!(i.pointsCorrect===void 0||i.pointsBlank===void 0||i.pointsWrong===void 0||i.optionsCorrect===void 0))return s===void 0||(c=i.optionsBlank)!=null&&c.includes(s)?i.pointsBlank:i.optionsCorrect.includes(s)?i.pointsCorrect:i.pointsWrong}z.object({id:z.string(),createdAt:z.date(),contestIds:z.string().array(),level:z.enum(["info","warning","error"]),title:z.string(),body:z.string()});z.object({id:z.string(),schoolId:z.string(),contestId:z.string(),name:z.string(),teacher:z.string(),token:z.string().optional(),startingTime:z.date().optional(),finalized:z.boolean().default(!1),pdfVariants:z.array(z.coerce.string()).optional()});z.object({id:z.string(),participationId:z.string(),contestId:z.string(),startingTime:z.date()});z.object({id:z.string(),uid:z.string(),student:nt$1,submittedAt:z.date().optional()});var j$1=class{constructor(s){this.randInt=(c,v)=>unsafeUniformIntDistribution(c,v,this.rng),this.choice=c=>c[this.randInt(0,c.length-1)],this.sample=(c,v)=>{let b=c.slice(0,v);for(let _=v;_<c.length;_++){let N=this.randInt(0,_);N<v&&(b[N]=c[_])}return b},this.shuffle=c=>{for(let v=c.length-1;v>0;v--){let b=this.randInt(0,v);[c[v],c[b]]=[c[b],c[v]]}},this.rng=xoroshiro128plus(Wt(s))}};function Wt(i){let s=sha256(i),c=new DataView(s.buffer,s.byteOffset,s.byteLength);return Number(c.getBigUint64(0,!0)&BigInt(Number.MAX_SAFE_INTEGER))}function Ht$1(){return crypto.randomUUID()}function _t(i,s,c){let v=i.safeParse(s);if(!v.success)throw fromZodError(v.error,c);return v.data}function po({children:i}){let[s,c]=partition(reactExports.Children.toArray(i),_=>reactExports.isValidElement(_)&&_.type===oe$1),[v,b]=reactExports.useState([]);return reactExports.useEffect(()=>{return window.addEventListener("unhandledrejection",_),()=>window.removeEventListener("unhandledrejection",_);function _(N){let C=N.reason;C.timestamp=new Date,b(D=>[...D,C])}},[]),P.createElement("div",{className:"fixed inset-0 flex flex-col screen:overflow-y-scroll"},s,P.createElement(ErrorBoundary,{FallbackComponent:K},c),P.createElement("div",{className:"toast"},v.map((_,N)=>P.createElement(ne$1,{error:_,key:N}))))}function ne$1({error:i}){let s=Z(addSeconds(i.timestamp,10));return P.createElement("div",{className:j$2("alert alert-error w-screen max-w-sm",s&&"hidden")},P.createElement(TriangleAlert,null),P.createElement("div",{className:"text-wrap"},i.message))}function oe$1({color:i,flow:s,user:c,userIcon:v,logout:b,children:_}){return P.createElement("div",{className:j$2("navbar sticky top-0 z-20 h-16 justify-between px-3 backdrop-blur [--tw-bg-opacity:0.85] print:hidden",s??"flex-row-reverse",i)},P.createElement(X,{align:s!=="flex-row"&&"dropdown-end"},P.createElement(Y,null,P.createElement(v,null),P.createElement("div",{className:"truncate uppercase"},c??"Utente anonimo")),P.createElement(J,{hidden:!b},P.createElement("button",{onClick:b},"Cambia utente"))),_)}var p=reactExports.createContext({});p.displayName="TeacherContext";const emptyComponents={},MDXContext=P.createContext(emptyComponents);function useMDXComponents(i){const s=P.useContext(MDXContext);return P.useMemo(function(){return typeof i=="function"?i(s):{...s,...i}},[s,i])}function MDXProvider(i){let s;return i.disableParentContext?s=typeof i.components=="function"?i.components(emptyComponents):i.components||emptyComponents:s=useMDXComponents(i.components),P.createElement(MDXContext.Provider,{value:s},i.children)}var FileSaver_min={exports:{}};(function(i,s){(function(c,v){v()})(commonjsGlobal,function(){function c(f,o){return typeof o>"u"?o={autoBom:!1}:typeof o!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function v(f,o,a){var d=new XMLHttpRequest;d.open("GET",f),d.responseType="blob",d.onload=function(){D(d.response,o,a)},d.onerror=function(){console.error("could not download file")},d.send()}function b(f){var o=new XMLHttpRequest;o.open("HEAD",f,!1);try{o.send()}catch{}return 200<=o.status&&299>=o.status}function _(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(o)}}var N=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal=="object"&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,C=N.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),D=N.saveAs||(typeof window!="object"||window!==N?function(){}:"download"in HTMLAnchorElement.prototype&&!C?function(f,o,a){var d=N.URL||N.webkitURL,g=document.createElement("a");o=o||f.name||"download",g.download=o,g.rel="noopener",typeof f=="string"?(g.href=f,g.origin===location.origin?_(g):b(g.href)?v(f,o,a):_(g,g.target="_blank")):(g.href=d.createObjectURL(f),setTimeout(function(){d.revokeObjectURL(g.href)},4e4),setTimeout(function(){_(g)},0))}:"msSaveOrOpenBlob"in navigator?function(f,o,a){if(o=o||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(c(f,a),o);else if(b(f))v(f,o,a);else{var d=document.createElement("a");d.href=f,d.target="_blank",setTimeout(function(){_(d)})}}:function(f,o,a,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof f=="string")return v(f,o,a);var g=f.type==="application/octet-stream",R=/constructor/i.test(N.HTMLElement)||N.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||g&&R||C)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var W=y.result;W=S?W:W.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=W:location=W,d=null},y.readAsDataURL(f)}else{var w=N.URL||N.webkitURL,G=w.createObjectURL(f);d?d.location=G:location.href=G,d=null,setTimeout(function(){w.revokeObjectURL(G)},4e4)}});N.saveAs=D.saveAs=D,i.exports=D})})(FileSaver_min);var jsInterpreter={exports:{}},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(i,s){if(i.indexOf)return i.indexOf(s);for(var c=0;c<i.length;c++)if(i[c]===s)return c;return-1},Object_keys=function(i){if(Object.keys)return Object.keys(i);var s=[];for(var c in i)s.push(c);return s},forEach=function(i,s){if(i.forEach)return i.forEach(s);for(var c=0;c<i.length;c++)s(i[c],c,i)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(i,s,c){Object.defineProperty(i,s,{writable:!0,enumerable:!1,configurable:!0,value:c})}}catch{return function(s,c,v){s[c]=v}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(s){if(!(this instanceof Script))return new Script(s);this.code=s};Script.prototype.runInContext=function(i){if(!(i instanceof Context))throw new TypeError("needs a 'context' argument.");var s=document.createElement("iframe");s.style||(s.style={}),s.style.display="none",document.body.appendChild(s);var c=s.contentWindow,v=c.eval,b=c.execScript;!v&&b&&(b.call(c,"null"),v=c.eval),forEach(Object_keys(i),function(C){c[C]=i[C]}),forEach(globals,function(C){i[C]&&(c[C]=i[C])});var _=Object_keys(c),N=v.call(c,this.code);return forEach(Object_keys(c),function(C){(C in i||indexOf(_,C)===-1)&&(i[C]=c[C])}),forEach(globals,function(C){C in i||defineProp(i,C,c[C])}),document.body.removeChild(s),N},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(i){var s=Script.createContext(i),c=this.runInContext(s);return i&&forEach(Object_keys(s),function(v){i[v]=s[v]}),c},forEach(Object_keys(Script.prototype),function(i){exports[i]=Script[i]=function(s){var c=Script(s);return c[i].apply(c,[].slice.call(arguments,1))}}),exports.isContext=function(i){return i instanceof Context},exports.createScript=function(i){return exports.Script(i)},exports.createContext=Script.createContext=function(i){var s=new Context;return typeof i=="object"&&forEach(Object_keys(i),function(c){s[c]=i[c]}),s}}(vmBrowserify)),vmBrowserify}(function(i,s){(function(v,b){i.exports=b()})(commonjsGlobal,()=>(()=>{var c={"./original-repo/interpreter.js":function(N,C,D){var f=function(o,a){typeof o=="string"&&(o=this.parse_(o,"code"));var d=o.constructor;this.newNode=function(){return new d({options:{}})};var g=this.newNode();for(var R in o)g[R]=R==="body"?o[R].slice():o[R];this.ast=g,this.tasks=[],this.initFunc_=a,this.paused_=!1,this.polyfills_=[],this.functionCounter_=0,this.stepFunctions_=Object.create(null);var S=/^step([A-Z]\w*)$/,y;for(var w in this)typeof this[w]=="function"&&(y=w.match(S))&&(this.stepFunctions_[y[1]]=this[w].bind(this));this.globalScope=this.createScope(this.ast,null),this.globalObject=this.globalScope.object,this.ast=this.parse_(this.polyfills_.join(`
`),"polyfills"),this.polyfills_=void 0,f.stripLocations_(this.ast,void 0,void 0);var G=new f.State(this.ast,this.globalScope);G.done=!1,this.stateStack=[G],this.run(),this.value=void 0,this.ast=g,G=new f.State(this.ast,this.globalScope),G.done=!1,this.stateStack.length=0,this.stateStack[0]=G};f.Completion={NORMAL:0,BREAK:1,CONTINUE:2,RETURN:3,THROW:4},f.Status={DONE:0,STEP:1,TASK:2,ASYNC:3},f.PARSE_OPTIONS={locations:!0,ecmaVersion:5},f.READONLY_DESCRIPTOR={configurable:!0,enumerable:!0,writable:!1},f.NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!0},f.READONLY_NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!1},f.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR={configurable:!1,enumerable:!1,writable:!1},f.VARIABLE_DESCRIPTOR={configurable:!1,enumerable:!0,writable:!0},f.STEP_ERROR={STEP_ERROR:!0},f.SCOPE_REFERENCE={SCOPE_REFERENCE:!0},f.VALUE_IN_DESCRIPTOR={VALUE_IN_DESCRIPTOR:!0},f.REGEXP_TIMEOUT={REGEXP_TIMEOUT:!0},f.toStringCycles_=[],f.vm=null,f.currentInterpreter_=null,f.nativeGlobal=typeof globalThis>"u"?this:globalThis,f.WORKER_CODE=["onmessage = function(e) {","var result;","var data = e.data;","switch (data[0]) {","case 'split':","result = data[1].split(data[2], data[3]);","break;","case 'match':","result = data[1].match(data[2]);","break;","case 'search':","result = data[1].search(data[2]);","break;","case 'replace':","result = data[1].replace(data[2], data[3]);","break;","case 'exec':","var regexp = data[1];","regexp.lastIndex = data[2];","result = [regexp.exec(data[3]), data[1].lastIndex];","break;","default:","throw Error('Unknown RegExp operation: ' + data[0]);","}","postMessage(result);","close();","};"],f.legalArrayLength=function(o){var a=o>>>0;return a===Number(o)?a:NaN},f.legalArrayIndex=function(o){var a=o>>>0;return String(a)===String(o)&&a!==4294967295?a:NaN},f.stripLocations_=function(o,a,d){a?o.start=a:delete o.start,d?o.end=d:delete o.end;for(var g in o)if(g!=="loc"&&o.hasOwnProperty(g)){var R=o[g];R&&typeof R=="object"&&f.stripLocations_(R,a,d)}},f.prototype.REGEXP_MODE=2,f.prototype.REGEXP_THREAD_TIMEOUT=1e3,f.prototype.POLYFILL_TIMEOUT=1e3,f.prototype.getterStep_=!1,f.prototype.setterStep_=!1,f.prototype.appendCodeNumber_=0,f.prototype.taskCodeNumber_=0,f.prototype.parse_=function(o,a){var d={};for(var g in f.PARSE_OPTIONS)d[g]=f.PARSE_OPTIONS[g];return d.sourceFile=a,f.nativeGlobal.acorn.parse(o,d)},f.prototype.appendCode=function(o){var a=this.stateStack[0];if(!a||a.node.type!=="Program")throw Error("Expecting original AST to start with a Program node");if(typeof o=="string"&&(o=this.parse_(o,"appendCode"+this.appendCodeNumber_++)),!o||o.type!=="Program")throw Error("Expecting new AST to start with a Program node");this.populateScope_(o,a.scope),Array.prototype.push.apply(a.node.body,o.body),a.node.body.variableCache_=null,a.done=!1},f.prototype.step=function(){var o=this.stateStack,a;do{var d=o[o.length-1];if(this.paused_)return!0;if(!d||d.node.type==="Program"&&d.done){if(!this.tasks.length)return!1;if(d=this.nextTask_(),!d)return!0}var g=d.node,R=f.currentInterpreter_;f.currentInterpreter_=this;try{var S=this.stepFunctions_[g.type](o,d,g)}catch(y){if(y!==f.STEP_ERROR)throw this.value!==y&&(this.value=void 0),y}finally{f.currentInterpreter_=R}if(S&&o.push(S),this.getterStep_)throw this.value=void 0,Error("Getter not supported in this context");if(this.setterStep_)throw this.value=void 0,Error("Setter not supported in this context");!a&&!g.end&&(a=Date.now()+this.POLYFILL_TIMEOUT)}while(!g.end&&a>Date.now());return!0},f.prototype.run=function(){for(;!this.paused_&&this.step(););return this.paused_},f.prototype.getStatus=function(){if(this.paused_)return f.Status.ASYNC;var o=this.stateStack,a=o[o.length-1];if(a&&(a.node.type!=="Program"||!a.done))return f.Status.STEP;var d=this.tasks[0];return d?d.time>Date.now()?f.Status.TASK:f.Status.STEP:f.Status.DONE},f.prototype.initGlobal=function(o){this.setProperty(o,"NaN",NaN,f.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"Infinity",1/0,f.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"undefined",void 0,f.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"window",o,f.READONLY_DESCRIPTOR),this.setProperty(o,"this",o,f.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"self",o),this.OBJECT_PROTO=new f.Object(null),this.FUNCTION_PROTO=new f.Object(this.OBJECT_PROTO),this.initFunction(o),this.initObject(o),o.proto=this.OBJECT_PROTO,this.setProperty(o,"constructor",this.OBJECT,f.NONENUMERABLE_DESCRIPTOR),this.initArray(o),this.initString(o),this.initBoolean(o),this.initNumber(o),this.initDate(o),this.initRegExp(o),this.initError(o),this.initMath(o),this.initJSON(o);var a=this,d,g=this.createNativeFunction(function(y){throw EvalError("Can't happen")},!1);g.eval=!0,this.setProperty(o,"eval",g,f.NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"parseInt",this.createNativeFunction(parseInt,!1),f.NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"parseFloat",this.createNativeFunction(parseFloat,!1),f.NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"isNaN",this.createNativeFunction(isNaN,!1),f.NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"isFinite",this.createNativeFunction(isFinite,!1),f.NONENUMERABLE_DESCRIPTOR);for(var R=[[escape,"escape"],[unescape,"unescape"],[decodeURI,"decodeURI"],[decodeURIComponent,"decodeURIComponent"],[encodeURI,"encodeURI"],[encodeURIComponent,"encodeURIComponent"]],S=0;S<R.length;S++)d=function(y){return function(w){try{return y(w)}catch(G){a.throwException(a.URI_ERROR,G.message)}}}(R[S][0]),this.setProperty(o,R[S][1],this.createNativeFunction(d,!1),f.NONENUMERABLE_DESCRIPTOR);d=function(w){return a.createTask_(!1,arguments)},this.setProperty(o,"setTimeout",this.createNativeFunction(d,!1),f.NONENUMERABLE_DESCRIPTOR),d=function(w){return a.createTask_(!0,arguments)},this.setProperty(o,"setInterval",this.createNativeFunction(d,!1),f.NONENUMERABLE_DESCRIPTOR),d=function(w){a.deleteTask_(w)},this.setProperty(o,"clearTimeout",this.createNativeFunction(d,!1),f.NONENUMERABLE_DESCRIPTOR),d=function(w){a.deleteTask_(w)},this.setProperty(o,"clearInterval",this.createNativeFunction(d,!1),f.NONENUMERABLE_DESCRIPTOR),this.OBJECT=this.OBJECT,this.OBJECT_PROTO=this.OBJECT_PROTO,this.FUNCTION=this.FUNCTION,this.FUNCTION_PROTO=this.FUNCTION_PROTO,this.ARRAY=this.ARRAY,this.ARRAY_PROTO=this.ARRAY_PROTO,this.REGEXP=this.REGEXP,this.REGEXP_PROTO=this.REGEXP_PROTO,this.DATE=this.DATE,this.DATE_PROTO=this.DATE_PROTO,this.initFunc_&&this.initFunc_(this,o)},f.prototype.functionCodeNumber_=0,f.prototype.initFunction=function(o){var a=this,d,g=/^[A-Za-z_$][\w$]*$/;d=function(S){if(arguments.length)var y=String(arguments[arguments.length-1]);else var y="";var w=Array.prototype.slice.call(arguments,0,-1).join(",").trim();if(w){for(var G=w.split(/\s*,\s*/),W=0;W<G.length;W++){var ae=G[W];g.test(ae)||a.throwException(a.SYNTAX_ERROR,"Invalid function argument: "+ae)}w=G.join(", ")}try{var ee=a.parse_("(function("+w+") {"+y+"})","function"+a.functionCodeNumber_++)}catch(de){a.throwException(a.SYNTAX_ERROR,"Invalid code: "+de.message)}ee.body.length!==1&&a.throwException(a.SYNTAX_ERROR,"Invalid code in function body");var te=ee.body[0].expression;return a.createFunction(te,a.globalScope,"anonymous")},this.FUNCTION=this.createNativeFunction(d,!0),this.setProperty(o,"Function",this.FUNCTION,f.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.FUNCTION,"prototype",this.FUNCTION_PROTO,f.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.FUNCTION_PROTO,"constructor",this.FUNCTION,f.NONENUMERABLE_DESCRIPTOR),this.FUNCTION_PROTO.nativeFunc=function(){},this.FUNCTION_PROTO.nativeFunc.id=this.functionCounter_++,this.FUNCTION_PROTO.illegalConstructor=!0,this.setProperty(this.FUNCTION_PROTO,"length",0,f.READONLY_NONENUMERABLE_DESCRIPTOR),this.FUNCTION_PROTO.class="Function",d=function(S,y){var w=a.stateStack[a.stateStack.length-1];w.func_=this,w.funcThis_=S,w.arguments_=[],y!=null&&(y instanceof f.Object?w.arguments_=a.arrayPseudoToNative(y):a.throwException(a.TYPE_ERROR,"CreateListFromArrayLike called on non-object")),w.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"apply",d),d=function(S){var y=a.stateStack[a.stateStack.length-1];y.func_=this,y.funcThis_=S,y.arguments_=[];for(var w=1;w<arguments.length;w++)y.arguments_.push(arguments[w]);y.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"call",d),this.polyfills_.push("Object.defineProperty(Function.prototype, 'bind',","{configurable: true, writable: true, value:","function bind(oThis) {","if (typeof this !== 'function') {","throw TypeError('What is trying to be bound is not callable');","}","var aArgs   = Array.prototype.slice.call(arguments, 1),","fToBind = this,","fNOP    = function() {},","fBound  = function() {","return fToBind.apply(this instanceof fNOP","? this",": oThis,","aArgs.concat(Array.prototype.slice.call(arguments)));","};","if (this.prototype) {","fNOP.prototype = this.prototype;","}","fBound.prototype = new fNOP();","return fBound;","}","});",""),d=function(){return String(this)},this.setNativeFunctionPrototype(this.FUNCTION,"toString",d),this.setProperty(this.FUNCTION,"toString",this.createNativeFunction(d,!1),f.NONENUMERABLE_DESCRIPTOR),d=function(){return this.valueOf()},this.setNativeFunctionPrototype(this.FUNCTION,"valueOf",d),this.setProperty(this.FUNCTION,"valueOf",this.createNativeFunction(d,!1),f.NONENUMERABLE_DESCRIPTOR)},f.prototype.initObject=function(o){var a=this,d;d=function(S){if(S==null)return a.calledWithNew()?this:a.createObjectProto(a.OBJECT_PROTO);if(!(S instanceof f.Object)){var y=a.createObjectProto(a.getPrototype(S));return y.data=S,y}return S},this.OBJECT=this.createNativeFunction(d,!0),this.setProperty(this.OBJECT,"prototype",this.OBJECT_PROTO,f.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.OBJECT_PROTO,"constructor",this.OBJECT,f.NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"Object",this.OBJECT,f.NONENUMERABLE_DESCRIPTOR);var g=function(R){R==null&&a.throwException(a.TYPE_ERROR,"Cannot convert '"+R+"' to object")};d=function(S){g(S);var y=S instanceof f.Object?S.properties:S;return a.arrayNativeToPseudo(Object.getOwnPropertyNames(y))},this.setProperty(this.OBJECT,"getOwnPropertyNames",this.createNativeFunction(d,!1),f.NONENUMERABLE_DESCRIPTOR),d=function(S){return g(S),S instanceof f.Object&&(S=S.properties),a.arrayNativeToPseudo(Object.keys(S))},this.setProperty(this.OBJECT,"keys",this.createNativeFunction(d,!1),f.NONENUMERABLE_DESCRIPTOR),d=function(S){return S===null?a.createObjectProto(null):(S instanceof f.Object||a.throwException(a.TYPE_ERROR,"Object prototype may only be an Object or null, not "+S),a.createObjectProto(S))},this.setProperty(this.OBJECT,"create",this.createNativeFunction(d,!1),f.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("(function() {","var create_ = Object.create;","Object.create = function create(proto, props) {","var obj = create_(proto);","props && Object.defineProperties(obj, props);","return obj;","};","})();",""),d=function(S,y,w){return y=String(y),S instanceof f.Object||a.throwException(a.TYPE_ERROR,"Object.defineProperty called on non-object: "+S),w instanceof f.Object||a.throwException(a.TYPE_ERROR,"Property description must be an object"),S.preventExtensions&&!(y in S.properties)&&a.throwException(a.TYPE_ERROR,"Can't define property '"+y+"', object is not extensible"),a.setProperty(S,y,f.VALUE_IN_DESCRIPTOR,w.properties),S},this.setProperty(this.OBJECT,"defineProperty",this.createNativeFunction(d,!1),f.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("(function() {","var defineProperty_ = Object.defineProperty;","Object.defineProperty = function defineProperty(obj, prop, d1) {","var d2 = {};","if ('configurable' in d1) d2.configurable = d1.configurable;","if ('enumerable' in d1) d2.enumerable = d1.enumerable;","if ('writable' in d1) d2.writable = d1.writable;","if ('value' in d1) d2.value = d1.value;","if ('get' in d1) d2.get = d1.get;","if ('set' in d1) d2.set = d1.set;","return defineProperty_(obj, prop, d2);","};","})();","Object.defineProperty(Object, 'defineProperties',","{configurable: true, writable: true, value:","function defineProperties(obj, props) {","var keys = Object.keys(props);","for (var i = 0; i < keys.length; i++) {","Object.defineProperty(obj, keys[i], props[keys[i]]);","}","return obj;","}","});",""),d=function(S,y){if(S instanceof f.Object||a.throwException(a.TYPE_ERROR,"Object.getOwnPropertyDescriptor called on non-object: "+S),y=String(y),y in S.properties){var w=Object.getOwnPropertyDescriptor(S.properties,y),G=S.getter[y],W=S.setter[y],ae=a.createObjectProto(a.OBJECT_PROTO);return G||W?(a.setProperty(ae,"get",G),a.setProperty(ae,"set",W)):(a.setProperty(ae,"value",w.value),a.setProperty(ae,"writable",w.writable)),a.setProperty(ae,"configurable",w.configurable),a.setProperty(ae,"enumerable",w.enumerable),ae}},this.setProperty(this.OBJECT,"getOwnPropertyDescriptor",this.createNativeFunction(d,!1),f.NONENUMERABLE_DESCRIPTOR),d=function(S){return g(S),a.getPrototype(S)},this.setProperty(this.OBJECT,"getPrototypeOf",this.createNativeFunction(d,!1),f.NONENUMERABLE_DESCRIPTOR),d=function(S){return!!S&&!S.preventExtensions},this.setProperty(this.OBJECT,"isExtensible",this.createNativeFunction(d,!1),f.NONENUMERABLE_DESCRIPTOR),d=function(S){return S instanceof f.Object&&(S.preventExtensions=!0),S},this.setProperty(this.OBJECT,"preventExtensions",this.createNativeFunction(d,!1),f.NONENUMERABLE_DESCRIPTOR),this.setNativeFunctionPrototype(this.OBJECT,"toString",f.Object.prototype.toString),this.setNativeFunctionPrototype(this.OBJECT,"toLocaleString",f.Object.prototype.toString),this.setNativeFunctionPrototype(this.OBJECT,"valueOf",f.Object.prototype.valueOf),d=function(S){return g(this),this instanceof f.Object?String(S)in this.properties:this.hasOwnProperty(S)},this.setNativeFunctionPrototype(this.OBJECT,"hasOwnProperty",d),d=function(S){return g(this),this instanceof f.Object?Object.prototype.propertyIsEnumerable.call(this.properties,S):this.propertyIsEnumerable(S)},this.setNativeFunctionPrototype(this.OBJECT,"propertyIsEnumerable",d),d=function(S){for(;;){if(S=a.getPrototype(S),!S)return!1;if(S===this)return!0}},this.setNativeFunctionPrototype(this.OBJECT,"isPrototypeOf",d)},f.prototype.initArray=function(o){var a=this,d;d=function(R){if(a.calledWithNew())var S=this;else var S=a.createArray();var y=arguments[0];if(arguments.length===1&&typeof y=="number")isNaN(f.legalArrayLength(y))&&a.throwException(a.RANGE_ERROR,"Invalid array length: "+y),S.properties.length=y;else{for(var w=0;w<arguments.length;w++)S.properties[w]=arguments[w];S.properties.length=w}return S},this.ARRAY=this.createNativeFunction(d,!0),this.ARRAY_PROTO=this.ARRAY.properties.prototype,this.setProperty(o,"Array",this.ARRAY,f.NONENUMERABLE_DESCRIPTOR),d=function(R){return R&&R.class==="Array"},this.setProperty(this.ARRAY,"isArray",this.createNativeFunction(d,!1),f.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ARRAY_PROTO,"length",0,{configurable:!1,enumerable:!1,writable:!0}),this.ARRAY_PROTO.class="Array",this.polyfills_.push("(function() {","function createArrayMethod_(f) {","Object.defineProperty(Array.prototype, f.name,","{configurable: true, writable: true, value: f});","}","createArrayMethod_(","function pop() {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","if (!len || len < 0) {","o.length = 0;","return undefined;","}","len--;","var x = o[len];","delete o[len];","o.length = len;","return x;","}",");","createArrayMethod_(","function push(var_args) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","for (var i = 0; i < arguments.length; i++) {","o[len] = arguments[i];","len++;","}","o.length = len;","return len;","}",");","createArrayMethod_(","function shift() {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","if (!len || len < 0) {","o.length = 0;","return undefined;","}","var value = o[0];","for (var i = 0; i < len - 1; i++) {","if ((i + 1) in o) {","o[i] = o[i + 1];","} else {","delete o[i];","}","}","delete o[i];","o.length = len - 1;","return value;","}",");","createArrayMethod_(","function unshift(var_args) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","if (!len || len < 0) {","len = 0;","}","for (var i = len - 1; i >= 0; i--) {","if (i in o) {","o[i + arguments.length] = o[i];","} else {","delete o[i + arguments.length];","}","}","for (var i = 0; i < arguments.length; i++) {","o[i] = arguments[i];","}","return (o.length = len + arguments.length);","}",");","createArrayMethod_(","function reverse() {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","if (!len || len < 2) {","return o;","}","for (var i = 0; i < len / 2 - 0.5; i++) {","var x = o[i];","var hasX = i in o;","if ((len - i - 1) in o) {","o[i] = o[len - i - 1];","} else {","delete o[i];","}","if (hasX) {","o[len - i - 1] = x;","} else {","delete o[len - i - 1];","}","}","return o;","}",");","createArrayMethod_(","function indexOf(searchElement, fromIndex) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","var n = fromIndex | 0;","if (!len || n >= len) {","return -1;","}","var i = Math.max(n >= 0 ? n : len - Math.abs(n), 0);","while (i < len) {","if (i in o && o[i] === searchElement) {","return i;","}","i++;","}","return -1;","}",");","createArrayMethod_(","function lastIndexOf(searchElement, fromIndex) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","if (!len) {","return -1;","}","var n = len - 1;","if (arguments.length > 1) {","n = fromIndex | 0;","if (n) {","n = (n > 0 || -1) * Math.floor(Math.abs(n));","}","}","var i = n >= 0 ? Math.min(n, len - 1) : len - Math.abs(n);","while (i >= 0) {","if (i in o && o[i] === searchElement) {","return i;","}","i--;","}","return -1;","}",");","createArrayMethod_(","function slice(start, end) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","start |= 0;","start = (start >= 0) ? start : Math.max(0, len + start);","if (typeof end !== 'undefined') {","if (end !== Infinity) {","end |= 0;","}","if (end < 0) {","end = len + end;","} else {","end = Math.min(end, len);","}","} else {","end = len;","}","var size = end - start;","var cloned = new Array(size);","for (var i = 0; i < size; i++) {","if ((start + i) in o) {","cloned[i] = o[start + i];","}","}","return cloned;","}",");","createArrayMethod_(","function splice(start, deleteCount, var_args) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","start |= 0;","if (start < 0) {","start = Math.max(len + start, 0);","} else {","start = Math.min(start, len);","}","if (arguments.length < 1) {","deleteCount = len - start;","} else {","deleteCount |= 0;","deleteCount = Math.max(0, Math.min(deleteCount, len - start));","}","var removed = [];","for (var i = start; i < start + deleteCount; i++) {","if (i in o) {","removed.push(o[i]);","} else {","removed.length++;","}","if ((i + deleteCount) in o) {","o[i] = o[i + deleteCount];","} else {","delete o[i];","}","}","for (var i = start + deleteCount; i < len - deleteCount; i++) {","if ((i + deleteCount) in o) {","o[i] = o[i + deleteCount];","} else {","delete o[i];","}","}","for (var i = len - deleteCount; i < len; i++) {","delete o[i];","}","len -= deleteCount;","var arl = arguments.length - 2;","for (var i = len - 1; i >= start; i--) {","if (i in o) {","o[i + arl] = o[i];","} else {","delete o[i + arl];","}","}","len += arl;","for (var i = 2; i < arguments.length; i++) {","o[start + i - 2] = arguments[i];","}","o.length = len;","return removed;","}",");","createArrayMethod_(","function concat(var_args) {","if (!this) throw TypeError();","var o = Object(this);","var cloned = [];","for (var i = -1; i < arguments.length; i++) {","var value = (i === -1) ? o : arguments[i];","if (Array.isArray(value)) {","for (var j = 0, l = value.length; j < l; j++) {","if (j in value) {","cloned.push(value[j]);","} else {","cloned.length++;","}","}","} else {","cloned.push(value);","}","}","return cloned;","}",");","createArrayMethod_(","function join(opt_separator) {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","var sep = typeof opt_separator === 'undefined' ?","',' : ('' + opt_separator);","var str = '';","for (var i = 0; i < len; i++) {","if (i && sep) str += sep;","str += (o[i] === null || o[i] === undefined) ? '' : o[i];","}","return str;","}",");","createArrayMethod_(","function every(callbackfn, thisArg) {","if (!this || typeof callbackfn !== 'function') throw TypeError();","var t, k = 0;","var o = Object(this), len = o.length >>> 0;","if (arguments.length > 1) t = thisArg;","while (k < len) {","if (k in o && !callbackfn.call(t, o[k], k, o)) return false;","k++;","}","return true;","}",");","createArrayMethod_(","function filter(fun, var_args) {","if (this === void 0 || this === null || typeof fun !== 'function') throw TypeError();","var o = Object(this), len = o.length >>> 0;","var res = [];","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in o) {","var val = o[i];","if (fun.call(thisArg, val, i, o)) res.push(val);","}","}","return res;","}",");","createArrayMethod_(","function forEach(callback, thisArg) {","if (!this || typeof callback !== 'function') throw TypeError();","var t, k = 0;","var o = Object(this), len = o.length >>> 0;","if (arguments.length > 1) t = thisArg;","while (k < len) {","if (k in o) callback.call(t, o[k], k, o);","k++;","}","}",");","createArrayMethod_(","function map(callback, thisArg) {","if (!this || typeof callback !== 'function') throw TypeError();","var t, k = 0;","var o = Object(this), len = o.length >>> 0;","if (arguments.length > 1) t = thisArg;","var a = new Array(len);","while (k < len) {","if (k in o) a[k] = callback.call(t, o[k], k, o);","k++;","}","return a;","}",");","createArrayMethod_(","function reduce(callback /*, initialValue*/) {","if (!this || typeof callback !== 'function') throw TypeError();","var o = Object(this), len = o.length >>> 0;","var k = 0, value;","if (arguments.length === 2) {","value = arguments[1];","} else {","while (k < len && !(k in o)) k++;","if (k >= len) {","throw TypeError('Reduce of empty array with no initial value');","}","value = o[k++];","}","for (; k < len; k++) {","if (k in o) value = callback(value, o[k], k, o);","}","return value;","}",");","createArrayMethod_(","function reduceRight(callback /*, initialValue*/) {","if (null === this || 'undefined' === typeof this || 'function' !== typeof callback) throw TypeError();","var o = Object(this), len = o.length >>> 0;","var k = len - 1, value;","if (arguments.length >= 2) {","value = arguments[1];","} else {","while (k >= 0 && !(k in o)) k--;","if (k < 0) {","throw TypeError('Reduce of empty array with no initial value');","}","value = o[k--];","}","for (; k >= 0; k--) {","if (k in o) value = callback(value, o[k], k, o);","}","return value;","}",");","createArrayMethod_(","function some(fun/*, thisArg*/) {","if (!this || typeof fun !== 'function') throw TypeError();","var o = Object(this), len = o.length >>> 0;","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in o && fun.call(thisArg, o[i], i, o)) return true;","}","return false;","}",");","createArrayMethod_(","function sort(opt_comp) {","if (!this) throw TypeError();","if (typeof opt_comp !== 'function') {","opt_comp = undefined;","}","for (var i = 0; i < this.length; i++) {","var changes = 0;","for (var j = 0; j < this.length - i - 1; j++) {","if (opt_comp ? (opt_comp(this[j], this[j + 1]) > 0) :","(String(this[j]) > String(this[j + 1]))) {","var swap = this[j];","var hasSwap = j in this;","if ((j + 1) in this) {","this[j] = this[j + 1];","} else {","delete this[j];","}","if (hasSwap) {","this[j + 1] = swap;","} else {","delete this[j + 1];","}","changes++;","}","}","if (!changes) break;","}","return this;","}",");","createArrayMethod_(","function toLocaleString() {","if (!this) throw TypeError();","var o = Object(this), len = o.length >>> 0;","var out = [];","for (var i = 0; i < len; i++) {","out[i] = (o[i] === null || o[i] === undefined) ? '' : o[i].toLocaleString();","}","return out.join(',');","}",");","})();","")},f.prototype.initString=function(o){var a=this,d;d=function(y){return y=arguments.length?f.nativeGlobal.String(y):"",a.calledWithNew()?(this.data=y,this):y},this.STRING=this.createNativeFunction(d,!0),this.setProperty(o,"String",this.STRING,f.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.STRING,"fromCharCode",this.createNativeFunction(String.fromCharCode,!1),f.NONENUMERABLE_DESCRIPTOR);for(var g=["charAt","charCodeAt","concat","indexOf","lastIndexOf","slice","substr","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim"],R=0;R<g.length;R++)this.setNativeFunctionPrototype(this.STRING,g[R],String.prototype[g[R]]);d=function(y,w,G){w=a.pseudoToNative(w),G=a.pseudoToNative(G);try{return String(this).localeCompare(y,w,G)}catch(W){a.throwException(a.ERROR,"localeCompare: "+W.message)}},this.setNativeFunctionPrototype(this.STRING,"localeCompare",d),d=function(y,w,G){var W=String(this);if(w=w?Number(w):void 0,a.isa(y,a.REGEXP)&&(y=y.data,a.maybeThrowRegExp(y,G),a.REGEXP_MODE===2)){if(f.vm){var ae={string:W,separator:y,limit:w},ee="string.split(separator, limit)",ie=a.vmCall(ee,ae,y,G);ie!==f.REGEXP_TIMEOUT&&G(a.arrayNativeToPseudo(ie))}else{var te=a.createWorker(),de=a.regExpTimeout(y,te,G);te.onmessage=function(xe){clearTimeout(de),G(a.arrayNativeToPseudo(xe.data))},te.postMessage(["split",W,y,w])}return}var ie=W.split(y,w);G(a.arrayNativeToPseudo(ie))},this.setAsyncFunctionPrototype(this.STRING,"split",d),d=function(y,w){var G=String(this);if(y=a.isa(y,a.REGEXP)?y.data:new RegExp(y),a.maybeThrowRegExp(y,w),a.REGEXP_MODE===2){if(f.vm){var W={string:G,regexp:y},ae="string.match(regexp)",de=a.vmCall(ae,W,y,w);de!==f.REGEXP_TIMEOUT&&w(de&&a.arrayNativeToPseudo(de))}else{var ee=a.createWorker(),te=a.regExpTimeout(y,ee,w);ee.onmessage=function(ie){clearTimeout(te),w(ie.data&&a.arrayNativeToPseudo(ie.data))},ee.postMessage(["match",G,y])}return}var de=G.match(y);w(de&&a.arrayNativeToPseudo(de))},this.setAsyncFunctionPrototype(this.STRING,"match",d),d=function(y,w){var G=String(this);if(a.isa(y,a.REGEXP)?y=y.data:y=new RegExp(y),a.maybeThrowRegExp(y,w),a.REGEXP_MODE===2){if(f.vm){var W={string:G,regexp:y},ae="string.search(regexp)",ee=a.vmCall(ae,W,y,w);ee!==f.REGEXP_TIMEOUT&&w(ee)}else{var te=a.createWorker(),de=a.regExpTimeout(y,te,w);te.onmessage=function(ie){clearTimeout(de),w(ie.data)},te.postMessage(["search",G,y])}return}w(G.search(y))},this.setAsyncFunctionPrototype(this.STRING,"search",d),d=function(y,w,G){var W=String(this);if(w=String(w),a.isa(y,a.REGEXP)&&(y=y.data,a.maybeThrowRegExp(y,G),a.REGEXP_MODE===2)){if(f.vm){var ae={string:W,substr:y,newSubstr:w},ee="string.replace(substr, newSubstr)",te=a.vmCall(ee,ae,y,G);te!==f.REGEXP_TIMEOUT&&G(te)}else{var de=a.createWorker(),ie=a.regExpTimeout(y,de,G);de.onmessage=function(xe){clearTimeout(ie),G(xe.data)},de.postMessage(["replace",W,y,w])}return}G(W.replace(y,w))},this.setAsyncFunctionPrototype(this.STRING,"replace",d),this.polyfills_.push("(function() {","var replace_ = String.prototype.replace;","String.prototype.replace = function replace(substr, newSubstr) {","if (typeof newSubstr !== 'function') {","return replace_.call(this, substr, newSubstr);","}","var str = this;","if (substr instanceof RegExp) {","var subs = [];","var m = substr.exec(str);","while (m) {","m.push(m.index, str);","var inject = newSubstr.apply(null, m);","subs.push([m.index, m[0].length, inject]);","m = substr.global ? substr.exec(str) : null;","}","for (var i = subs.length - 1; i >= 0; i--) {","str = str.substring(0, subs[i][0]) + subs[i][2] + str.substring(subs[i][0] + subs[i][1]);","}","} else {","var i = str.indexOf(substr);","if (i !== -1) {","var inject = newSubstr(str.substr(i, substr.length), i, str);","str = str.substring(0, i) + inject + str.substring(i + substr.length);","}","}","return str;","};","})();","")},f.prototype.initBoolean=function(o){var a=this,d;d=function(R){return R=f.nativeGlobal.Boolean(R),a.calledWithNew()?(this.data=R,this):R},this.BOOLEAN=this.createNativeFunction(d,!0),this.setProperty(o,"Boolean",this.BOOLEAN,f.NONENUMERABLE_DESCRIPTOR)},f.prototype.initNumber=function(o){var a=this,d;d=function(y){return y=arguments.length?f.nativeGlobal.Number(y):0,a.calledWithNew()?(this.data=y,this):y},this.NUMBER=this.createNativeFunction(d,!0),this.setProperty(o,"Number",this.NUMBER,f.NONENUMERABLE_DESCRIPTOR);for(var g=["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"],R=0;R<g.length;R++)this.setProperty(this.NUMBER,g[R],Number[g[R]],f.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);d=function(y){try{return Number(this).toExponential(y)}catch(w){a.throwException(a.ERROR,w.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toExponential",d),d=function(y){try{return Number(this).toFixed(y)}catch(w){a.throwException(a.ERROR,w.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toFixed",d),d=function(y){try{return Number(this).toPrecision(y)}catch(w){a.throwException(a.ERROR,w.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toPrecision",d),d=function(y){try{return Number(this).toString(y)}catch(w){a.throwException(a.ERROR,w.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toString",d),d=function(y,w){y=y?a.pseudoToNative(y):void 0,w=w?a.pseudoToNative(w):void 0;try{return Number(this).toLocaleString(y,w)}catch(G){a.throwException(a.ERROR,"toLocaleString: "+G.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toLocaleString",d)},f.prototype.initDate=function(o){var a=this,d;d=function(y,w){if(!a.calledWithNew())return f.nativeGlobal.Date();var G=[null].concat(Array.from(arguments));return this.data=new(Function.prototype.bind.apply(f.nativeGlobal.Date,G)),this},this.DATE=this.createNativeFunction(d,!0),this.DATE_PROTO=this.DATE.properties.prototype,this.setProperty(o,"Date",this.DATE,f.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.DATE,"now",this.createNativeFunction(Date.now,!1),f.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.DATE,"parse",this.createNativeFunction(Date.parse,!1),f.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.DATE,"UTC",this.createNativeFunction(Date.UTC,!1),f.NONENUMERABLE_DESCRIPTOR);for(var g=["getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toISOString","toJSON","toGMTString","toLocaleDateString","toLocaleString","toLocaleTimeString","toTimeString","toUTCString"],R=0;R<g.length;R++)d=function(S){return function(y){var w=this.data;w instanceof Date||a.throwException(a.TYPE_ERROR,S+" not called on a Date");for(var G=[],W=0;W<arguments.length;W++)G[W]=a.pseudoToNative(arguments[W]);return w[S].apply(w,G)}}(g[R]),this.setNativeFunctionPrototype(this.DATE,g[R],d)},f.prototype.initRegExp=function(o){var a=this,d;d=function(R,S){if(a.calledWithNew())var y=this;else{if(S===void 0&&a.isa(R,a.REGEXP))return R;var y=a.createObjectProto(a.REGEXP_PROTO)}R=R===void 0?"":String(R),S=S?String(S):"",/^[gmi]*$/.test(S)||a.throwException(a.SYNTAX_ERROR,"Invalid regexp flag: "+S);try{var w=new f.nativeGlobal.RegExp(R,S)}catch(G){a.throwException(a.SYNTAX_ERROR,G.message)}return a.populateRegExp(y,w),y},this.REGEXP=this.createNativeFunction(d,!0),this.REGEXP_PROTO=this.REGEXP.properties.prototype,this.setProperty(o,"RegExp",this.REGEXP,f.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"global",void 0,f.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"ignoreCase",void 0,f.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"multiline",void 0,f.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"source","(?:)",f.READONLY_NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("Object.defineProperty(RegExp.prototype, 'test',","{configurable: true, writable: true, value:","function test(str) {","return !!this.exec(str);","}","});"),d=function(R,S){var y=this.data;if(R=String(R),y.lastIndex=Number(a.getProperty(this,"lastIndex")),a.maybeThrowRegExp(y,S),a.REGEXP_MODE===2){if(f.vm){var w={string:R,regexp:y},G="regexp.exec(string)",te=a.vmCall(G,w,y,S);te!==f.REGEXP_TIMEOUT&&(a.setProperty(this,"lastIndex",y.lastIndex),S(de(te)))}else{var W=a.createWorker(),ae=a.regExpTimeout(y,W,S),ee=this;W.onmessage=function(ie){clearTimeout(ae),a.setProperty(ee,"lastIndex",ie.data[1]),S(de(ie.data[0]))},W.postMessage(["exec",y,y.lastIndex,R])}return}var te=y.exec(R);a.setProperty(this,"lastIndex",y.lastIndex),S(de(te));function de(ie){if(ie){var xe=a.arrayNativeToPseudo(ie);return a.setProperty(xe,"index",ie.index),a.setProperty(xe,"input",ie.input),xe}return null}},this.setAsyncFunctionPrototype(this.REGEXP,"exec",d)},f.prototype.initError=function(o){var a=this;this.ERROR=this.createNativeFunction(function(R){if(a.calledWithNew())var S=this;else var S=a.createObject(a.ERROR);return a.populateError(S,R),S},!0),this.setProperty(o,"Error",this.ERROR,f.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ERROR.properties.prototype,"message","",f.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ERROR.properties.prototype,"name","Error",f.NONENUMERABLE_DESCRIPTOR);var d=function(g){var R=a.createNativeFunction(function(S){if(a.calledWithNew())var y=this;else var y=a.createObject(R);return a.populateError(y,S),y},!0);return a.setProperty(R,"prototype",a.createObject(a.ERROR),f.NONENUMERABLE_DESCRIPTOR),a.setProperty(R.properties.prototype,"name",g,f.NONENUMERABLE_DESCRIPTOR),a.setProperty(o,g,R,f.NONENUMERABLE_DESCRIPTOR),R};this.EVAL_ERROR=d("EvalError"),this.RANGE_ERROR=d("RangeError"),this.REFERENCE_ERROR=d("ReferenceError"),this.SYNTAX_ERROR=d("SyntaxError"),this.TYPE_ERROR=d("TypeError"),this.URI_ERROR=d("URIError")},f.prototype.initMath=function(o){var a=this.createObjectProto(this.OBJECT_PROTO);this.setProperty(o,"Math",a,f.NONENUMERABLE_DESCRIPTOR);for(var d=["E","LN2","LN10","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],g=0;g<d.length;g++)this.setProperty(a,d[g],Math[d[g]],f.READONLY_NONENUMERABLE_DESCRIPTOR);for(var R=["abs","acos","asin","atan","atan2","ceil","cos","exp","floor","log","max","min","pow","random","round","sin","sqrt","tan"],g=0;g<R.length;g++)this.setProperty(a,R[g],this.createNativeFunction(Math[R[g]],!1),f.NONENUMERABLE_DESCRIPTOR)},f.prototype.initJSON=function(o){var a,d=this,g=d.createObjectProto(this.OBJECT_PROTO);this.setProperty(o,"JSON",g,f.NONENUMERABLE_DESCRIPTOR),a=function(S){try{var y=JSON.parse(String(S))}catch(w){d.throwException(d.SYNTAX_ERROR,w.message)}return d.nativeToPseudo(y)},this.setProperty(g,"parse",this.createNativeFunction(a,!1)),a=function(S,y,w){y&&y.class==="Function"?d.throwException(d.TYPE_ERROR,"Function replacer on JSON.stringify not supported"):y&&y.class==="Array"?(y=d.arrayPseudoToNative(y),y=y.filter(function(ae){return typeof ae=="string"||typeof ae=="number"})):y=null,typeof w!="string"&&typeof w!="number"&&(w=void 0);var G=d.pseudoToNative(S);try{var W=JSON.stringify(G,y,w)}catch(ae){d.throwException(d.TYPE_ERROR,ae.message)}return W},this.setProperty(g,"stringify",this.createNativeFunction(a,!1))},f.prototype.isa=function(o,a){if(o==null||!a)return!1;var d=a.properties.prototype;if(o===d)return!0;for(o=this.getPrototype(o);o;){if(o===d)return!0;o=o.proto}return!1},f.prototype.populateRegExp=function(o,a){o.data=new RegExp(a.source,a.flags),this.setProperty(o,"lastIndex",a.lastIndex,f.NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"source",a.source,f.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"global",a.global,f.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"ignoreCase",a.ignoreCase,f.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(o,"multiline",a.multiline,f.READONLY_NONENUMERABLE_DESCRIPTOR)},f.prototype.populateError=function(o,a){a&&this.setProperty(o,"message",String(a),f.NONENUMERABLE_DESCRIPTOR);for(var d=[],g=this.stateStack.length-1;g>=0;g--){var R=this.stateStack[g],S=R.node;if(S.type==="CallExpression"){var y=R.func_;y&&d.length&&(d[d.length-1].datumName=this.getProperty(y,"name"))}S.loc&&(!d.length||S.type==="CallExpression")&&d.push({datumLoc:S.loc})}for(var w=String(this.getProperty(o,"name")),G=String(this.getProperty(o,"message")),W=w+": "+G+`
`,g=0;g<d.length;g++){var ae=d[g].datumLoc,ee=d[g].datumName,te=ae.source+":"+ae.start.line+":"+ae.start.column;ee?W+="  at "+ee+" ("+te+`)
`:W+="  at "+te+`
`}this.setProperty(o,"stack",W.trim(),f.NONENUMERABLE_DESCRIPTOR)},f.prototype.createWorker=function(){var o=this.createWorker.blob_;return o||(o=new Blob([f.WORKER_CODE.join(`
`)],{type:"application/javascript"}),this.createWorker.blob_=o),new Worker(URL.createObjectURL(o))},f.prototype.vmCall=function(o,a,d,g){var R={timeout:this.REGEXP_THREAD_TIMEOUT};try{return f.vm.runInNewContext(o,a,R)}catch{g(null),this.throwException(this.ERROR,"RegExp Timeout: "+d)}return f.REGEXP_TIMEOUT},f.prototype.maybeThrowRegExp=function(o,a){var d;if(this.REGEXP_MODE===0)d=!1;else if(this.REGEXP_MODE===1)d=!0;else if(f.vm)d=!0;else if(typeof Worker=="function"&&typeof URL=="function")d=!0;else{try{f.vm=D("vm")}catch{}d=!!f.vm}d||(a(null),this.throwException(this.ERROR,"Regular expressions not supported: "+o))},f.prototype.regExpTimeout=function(o,a,d){var g=this;return setTimeout(function(){a.terminate(),d(null);try{g.throwException(g.ERROR,"RegExp Timeout: "+o)}catch{}},this.REGEXP_THREAD_TIMEOUT)},f.prototype.createObject=function(o){return this.createObjectProto(o&&o.properties.prototype)},f.prototype.createObjectProto=function(o){if(typeof o!="object")throw Error("Non object prototype");var a=new f.Object(o);return this.isa(a,this.ERROR)&&(a.class="Error"),a},f.prototype.createArray=function(){var o=this.createObjectProto(this.ARRAY_PROTO);return this.setProperty(o,"length",0,{configurable:!1,enumerable:!1,writable:!0}),o.class="Array",o},f.prototype.createFunctionBase_=function(o,a){var d=this.createObjectProto(this.FUNCTION_PROTO);if(a){var g=this.createObjectProto(this.OBJECT_PROTO);this.setProperty(d,"prototype",g,f.NONENUMERABLE_DESCRIPTOR),this.setProperty(g,"constructor",d,f.NONENUMERABLE_DESCRIPTOR)}else d.illegalConstructor=!0;return this.setProperty(d,"length",o,f.READONLY_NONENUMERABLE_DESCRIPTOR),d.class="Function",d},f.prototype.createFunction=function(o,a,d){var g=this.createFunctionBase_(o.params.length,!0);g.parentScope=a,g.node=o;var R=o.id?String(o.id.name):d||"";return this.setProperty(g,"name",R,f.READONLY_NONENUMERABLE_DESCRIPTOR),g},f.prototype.createNativeFunction=function(o,a){var d=this.createFunctionBase_(o.length,a);return d.nativeFunc=o,o.id=this.functionCounter_++,this.setProperty(d,"name",o.name,f.READONLY_NONENUMERABLE_DESCRIPTOR),d},f.prototype.createAsyncFunction=function(o){var a=this.createFunctionBase_(o.length,!0);return a.asyncFunc=o,o.id=this.functionCounter_++,this.setProperty(a,"name",o.name,f.READONLY_NONENUMERABLE_DESCRIPTOR),a},f.prototype.nativeToPseudo=function(o){if(o instanceof f.Object)throw Error("Object is already pseudo");if(o==null||o===!0||o===!1||typeof o=="string"||typeof o=="number")return o;if(o instanceof RegExp){var a=this.createObjectProto(this.REGEXP_PROTO);return this.populateRegExp(a,o),a}if(o instanceof Date){var d=this.createObjectProto(this.DATE_PROTO);return d.data=new Date(o.valueOf()),d}if(typeof o=="function"){var g=this,R=function(){var ae=Array.prototype.slice.call(arguments).map(function(te){return g.pseudoToNative(te)}),ee=o.apply(g,ae);return g.nativeToPseudo(ee)},S=Object.getOwnPropertyDescriptor(o,"prototype");return this.createNativeFunction(R,!!S)}if(Array.isArray(o)){for(var y=this.createArray(),w=0;w<o.length;w++)w in o&&this.setProperty(y,w,this.nativeToPseudo(o[w]));return y}var G=this.createObjectProto(this.OBJECT_PROTO);for(var W in o)this.setProperty(G,W,this.nativeToPseudo(o[W]));return G},f.prototype.pseudoToNative=function(o,a){if(typeof o!="object"&&typeof o!="function"||o===null)return o;if(!(o instanceof f.Object))throw Error("Object is not pseudo");if(this.isa(o,this.REGEXP)){var d=new RegExp(o.data.source,o.data.flags);return d.lastIndex=o.data.lastIndex,d}if(this.isa(o,this.DATE))return new Date(o.data.valueOf());var g=a||{pseudo:[],native:[]},R=g.pseudo.indexOf(o);if(R!==-1)return g.native[R];g.pseudo.push(o);var S;if(this.isa(o,this.ARRAY)){S=[],g.native.push(S);for(var y=this.getProperty(o,"length"),w=0;w<y;w++)this.hasProperty(o,w)&&(S[w]=this.pseudoToNative(this.getProperty(o,w),g))}else{S={},g.native.push(S);var G;for(var W in o.properties)G=this.pseudoToNative(o.properties[W],g),Object.defineProperty(S,W,{value:G,writable:!0,enumerable:!0,configurable:!0})}return g.pseudo.pop(),g.native.pop(),S},f.prototype.arrayNativeToPseudo=function(o){for(var a=this.createArray(),d=Object.getOwnPropertyNames(o),g=0;g<d.length;g++)this.setProperty(a,d[g],o[d[g]]);return a},f.prototype.arrayPseudoToNative=function(o){var a=[];for(var d in o.properties)a[d]=this.getProperty(o,d);return a.length=f.legalArrayLength(this.getProperty(o,"length"))||0,a},f.prototype.getPrototype=function(o){switch(typeof o){case"number":return this.NUMBER.properties.prototype;case"boolean":return this.BOOLEAN.properties.prototype;case"string":return this.STRING.properties.prototype}return o?o.proto:null},f.prototype.getProperty=function(o,a){if(this.getterStep_)throw Error("Getter not supported in that context");if(a=String(a),o==null&&this.throwException(this.TYPE_ERROR,"Cannot read property '"+a+"' of "+o),typeof o=="object"&&!(o instanceof f.Object))throw TypeError("Expecting native value or pseudo object");if(a==="length"){if(this.isa(o,this.STRING))return String(o).length}else if(a.charCodeAt(0)<64&&this.isa(o,this.STRING)){var d=f.legalArrayIndex(a);if(!isNaN(d)&&d<String(o).length)return String(o)[d]}do if(o.properties&&a in o.properties){var g=o.getter[a];return g?(this.getterStep_=!0,g):o.properties[a]}while(o=this.getPrototype(o))},f.prototype.hasProperty=function(o,a){if(!(o instanceof f.Object))throw TypeError("Primitive data type has no properties");if(a=String(a),a==="length"&&this.isa(o,this.STRING))return!0;if(this.isa(o,this.STRING)){var d=f.legalArrayIndex(a);if(!isNaN(d)&&d<String(o).length)return!0}do if(o.properties&&a in o.properties)return!0;while(o=this.getPrototype(o));return!1},f.prototype.setProperty=function(o,a,d,g){if(this.setterStep_)throw Error("Setter not supported in that context");if(a=String(a),o==null&&this.throwException(this.TYPE_ERROR,"Cannot set property '"+a+"' of "+o),typeof o=="object"&&!(o instanceof f.Object))throw TypeError("Expecting native value or pseudo object");g&&("get"in g||"set"in g)&&("value"in g||"writable"in g)&&this.throwException(this.TYPE_ERROR,"Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");var R=!this.stateStack||this.getScope().strict;if(!(o instanceof f.Object)){R&&this.throwException(this.TYPE_ERROR,"Can't create property '"+a+"' on '"+o+"'");return}if(this.isa(o,this.STRING)){var S=f.legalArrayIndex(a);if(a==="length"||!isNaN(S)&&S<String(o).length){R&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+a+"' of String '"+o.data+"'");return}}if(o.class==="Array"){var y=o.properties.length,w;if(a==="length"){if(g){if(!("value"in g))return;d=g.value}if(d=f.legalArrayLength(d),isNaN(d)&&this.throwException(this.RANGE_ERROR,"Invalid array length"),d<y)for(w in o.properties)w=f.legalArrayIndex(w),!isNaN(w)&&d<=w&&delete o.properties[w]}else isNaN(w=f.legalArrayIndex(a))||(o.properties.length=Math.max(y,w+1))}if(o.preventExtensions&&!(a in o.properties)){R&&this.throwException(this.TYPE_ERROR,"Can't add property '"+a+"', object is not extensible");return}if(g){var G={};"get"in g&&g.get&&(o.getter[a]=g.get,G.get=this.setProperty.placeholderGet_),"set"in g&&g.set&&(o.setter[a]=g.set,G.set=this.setProperty.placeholderSet_),"configurable"in g&&(G.configurable=g.configurable),"enumerable"in g&&(G.enumerable=g.enumerable),"writable"in g&&(G.writable=g.writable,delete o.getter[a],delete o.setter[a]),"value"in g?(G.value=g.value,delete o.getter[a],delete o.setter[a]):d!==f.VALUE_IN_DESCRIPTOR&&(G.value=d,delete o.getter[a],delete o.setter[a]);try{Object.defineProperty(o.properties,a,G)}catch{this.throwException(this.TYPE_ERROR,"Cannot redefine property: "+a)}"get"in g&&!g.get&&delete o.getter[a],"set"in g&&!g.set&&delete o.setter[a]}else{if(d===f.VALUE_IN_DESCRIPTOR)throw ReferenceError("Value not specified");for(var W=o;!(a in W.properties);)if(W=this.getPrototype(W),!W){W=o;break}if(W.setter&&W.setter[a])return this.setterStep_=!0,W.setter[a];if(W.getter&&W.getter[a])R&&this.throwException(this.TYPE_ERROR,"Cannot set property '"+a+"' of object '"+o+"' which only has a getter");else try{o.properties[a]=d}catch{R&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+a+"' of object '"+o+"'")}}},f.prototype.setProperty.placeholderGet_=function(){throw Error("Placeholder getter")},f.prototype.setProperty.placeholderSet_=function(){throw Error("Placeholder setter")},f.prototype.setNativeFunctionPrototype=function(o,a,d){this.setProperty(o.properties.prototype,a,this.createNativeFunction(d,!1),f.NONENUMERABLE_DESCRIPTOR)},f.prototype.setAsyncFunctionPrototype=function(o,a,d){this.setProperty(o.properties.prototype,a,this.createAsyncFunction(d),f.NONENUMERABLE_DESCRIPTOR)},f.prototype.getScope=function(){var o=this.stateStack[this.stateStack.length-1].scope;if(!o)throw Error("No scope found");return o},f.prototype.createScope=function(o,a){var d=!1;if(a&&a.strict)d=!0;else{var g=o.body&&o.body[0];g&&g.expression&&g.expression.type==="Literal"&&g.expression.value==="use strict"&&(d=!0)}var R=this.createObjectProto(null),S=new f.Scope(a,d,R);return a||this.initGlobal(S.object),this.populateScope_(o,S),S},f.prototype.createSpecialScope=function(o,a){if(!o)throw Error("parentScope required");var d=a||this.createObjectProto(null);return new f.Scope(o,o.strict,d)},f.prototype.getValueFromScope=function(o){for(var a=this.getScope();a&&a!==this.globalScope;){if(o in a.object.properties)return a.object.properties[o];a=a.parentScope}if(a===this.globalScope&&this.hasProperty(a.object,o))return this.getProperty(a.object,o);var d=this.stateStack[this.stateStack.length-1].node;d.type==="UnaryExpression"&&d.operator==="typeof"||this.throwException(this.REFERENCE_ERROR,o+" is not defined")},f.prototype.setValueToScope=function(o,a){for(var d=this.getScope(),g=d.strict;d&&d!==this.globalScope;){if(o in d.object.properties){try{d.object.properties[o]=a}catch{g&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only variable '"+o+"'")}return}d=d.parentScope}if(d===this.globalScope&&(!g||this.hasProperty(d.object,o)))return this.setProperty(d.object,o,a);this.throwException(this.REFERENCE_ERROR,o+" is not defined")},f.prototype.populateScope_=function(o,a){var d;if(o.variableCache_)d=o.variableCache_;else{switch(d=Object.create(null),o.type){case"VariableDeclaration":for(var g=0;g<o.declarations.length;g++)d[o.declarations[g].id.name]=!0;break;case"FunctionDeclaration":d[o.id.name]=o;break;case"BlockStatement":case"CatchClause":case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"Program":case"SwitchCase":case"SwitchStatement":case"TryStatement":case"WithStatement":case"WhileStatement":var R=o.constructor;for(var S in o)if(S!=="loc"){var y=o[S];if(y&&typeof y=="object"){var w;if(Array.isArray(y)){for(var g=0;g<y.length;g++)if(y[g]&&y[g].constructor===R){w=this.populateScope_(y[g],a);for(var S in w)d[S]=w[S]}}else if(y.constructor===R){w=this.populateScope_(y,a);for(var S in w)d[S]=w[S]}}}}o.variableCache_=d}for(var S in d)d[S]===!0?this.setProperty(a.object,S,void 0,f.VARIABLE_DESCRIPTOR):this.setProperty(a.object,S,this.createFunction(d[S],a),f.VARIABLE_DESCRIPTOR);return d},f.prototype.calledWithNew=function(){return this.stateStack[this.stateStack.length-1].isConstructor},f.prototype.getValue=function(o){return o[0]===f.SCOPE_REFERENCE?this.getValueFromScope(o[1]):this.getProperty(o[0],o[1])},f.prototype.setValue=function(o,a){return o[0]===f.SCOPE_REFERENCE?this.setValueToScope(o[1],a):this.setProperty(o[0],o[1],a)},f.prototype.throwException=function(o,a){if(!this.globalScope)throw a===void 0?o:a;if(a===void 0||!(o instanceof f.Object))var d=o;else{var d=this.createObject(o);this.populateError(d,a)}throw this.unwind(f.Completion.THROW,d,void 0),f.STEP_ERROR},f.prototype.unwind=function(o,a,d){if(o===f.Completion.NORMAL)throw TypeError("Should not unwind for NORMAL completions");e:for(var g=this.stateStack;g.length>0;g.pop()){var R=g[g.length-1];switch(R.node.type){case"TryStatement":R.cv={type:o,value:a,label:d};return;case"CallExpression":case"NewExpression":if(o===f.Completion.RETURN){R.value=a;return}else if(o!==f.Completion.THROW)throw Error("Unsyntactic break/continue not rejected by Acorn");break;case"Program":R.done=!0;break e}if(o===f.Completion.BREAK){if(d?R.labels&&R.labels.indexOf(d)!==-1:R.isLoop||R.isSwitch){g.pop();return}}else if(o===f.Completion.CONTINUE&&(d?R.labels&&R.labels.indexOf(d)!==-1:R.isLoop))return}var S;if(this.isa(a,this.ERROR)){var y={EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError},w=String(this.getProperty(a,"name")),G=this.getProperty(a,"message").valueOf(),W=y[w]||Error;S=W(G),S.stack=String(this.getProperty(a,"stack"))}else S=String(a);throw this.value=S,S},f.prototype.nodeSummary=function(o){switch(o.type){case"ArrayExpression":return"[...]";case"BinaryExpression":case"LogicalExpression":return this.nodeSummary(o.left)+" "+o.operator+" "+this.nodeSummary(o.right);case"CallExpression":return this.nodeSummary(o.callee)+"(...)";case"ConditionalExpression":return this.nodeSummary(o.test)+" ? "+this.nodeSummary(o.consequent)+" : "+this.nodeSummary(o.alternate);case"Identifier":return o.name;case"Literal":return o.raw;case"MemberExpression":var a=this.nodeSummary(o.object),d=this.nodeSummary(o.property);return o.computed?a+"["+d+"]":a+"."+d;case"NewExpression":return"new "+this.nodeSummary(o.callee)+"(...)";case"ObjectExpression":return"{...}";case"ThisExpression":return"this";case"UnaryExpression":return o.operator+" "+this.nodeSummary(o.argument);case"UpdateExpression":var g=this.nodeSummary(o.argument);return o.prefix?o.operator+g:g+o.operator}return"???"},f.prototype.createTask_=function(o,a){var d=this.stateStack[this.stateStack.length-1],g=Array.from(a),R=g.shift(),S=Math.max(Number(g.shift()||0),0),y=this.newNode(),w,G,W;if(R instanceof f.Object&&R.class==="Function")G=R,y.type="CallExpression",w=d.scope;else{try{W=this.parse_(String(R),"taskCode"+this.taskCodeNumber_++)}catch(ie){this.throwException(this.SYNTAX_ERROR,"Invalid code: "+ie.message)}y.type="EvalProgram_",y.body=W.body;var ae=d.node.arguments[0],ee=ae?ae.start:void 0,te=ae?ae.end:void 0;f.stripLocations_(y,ee,te),w=this.globalScope,g.length=0}var de=new f.Task(G,g,w,y,o?S:-1);return this.scheduleTask_(de,S),de.pid},f.prototype.scheduleTask_=function(o,a){o.time=Date.now()+a,this.tasks.push(o),this.tasks.sort(function(d,g){return d.time-g.time})},f.prototype.deleteTask_=function(o){for(var a=0;a<this.tasks.length;a++)if(this.tasks[a].pid==o){this.tasks.splice(a,1);break}},f.prototype.nextTask_=function(){var o=this.tasks[0];if(!o||o.time>Date.now())return null;this.tasks.shift(),o.interval>=0&&this.scheduleTask_(o,o.interval);var a=new f.State(o.node,o.scope);return o.functionRef&&(a.doneCallee_=2,a.funcThis_=this.globalObject,a.func_=o.functionRef,a.doneArgs_=!0,a.arguments_=o.argsArray),a},f.prototype.createGetter_=function(o,a){if(!this.getterStep_)throw Error("Unexpected call to createGetter");this.getterStep_=!1;var d=Array.isArray(a)?a[0]:a,g=this.newNode();g.type="CallExpression";var R=new f.State(g,this.stateStack[this.stateStack.length-1].scope);return R.doneCallee_=2,R.funcThis_=d,R.func_=o,R.doneArgs_=!0,R.arguments_=[],R},f.prototype.createSetter_=function(o,a,d){if(!this.setterStep_)throw Error("Unexpected call to createSetter");this.setterStep_=!1;var g=Array.isArray(a)?a[0]:this.globalObject,R=this.newNode();R.type="CallExpression";var S=new f.State(R,this.stateStack[this.stateStack.length-1].scope);return S.doneCallee_=2,S.funcThis_=g,S.func_=o,S.doneArgs_=!0,S.arguments_=[d],S},f.prototype.boxThis_=function(o){if(o==null)return this.globalObject;if(!(o instanceof f.Object)){var a=this.createObjectProto(this.getPrototype(o));return a.data=o,a}return o},f.prototype.getGlobalScope=function(){return this.globalScope},f.prototype.getStateStack=function(){return this.stateStack},f.prototype.setStateStack=function(o){this.stateStack=o},f.Value,f.State=function(o,a){this.node=o,this.scope=a},f.Scope=function(o,a,d){this.parentScope=o,this.strict=a,this.object=d},f.Object=function(o){this.getter=Object.create(null),this.setter=Object.create(null),this.properties=Object.create(null),this.proto=o},f.Object.prototype.proto=null,f.Object.prototype.class="Object",f.Object.prototype.data=null,f.Object.prototype.toString=function(){if(!f.currentInterpreter_)return"[object Interpreter.Object]";if(!(this instanceof f.Object))return String(this);if(this.class==="Array"){var o=f.toStringCycles_;o.push(this);try{var a=[],d=this.properties.length,g=!1;d>1024&&(d=1e3,g=!0);for(var R=0;R<d;R++){var S=this.properties[R];a[R]=S instanceof f.Object&&o.indexOf(S)!==-1?"...":S}g&&a.push("...")}finally{o.pop()}return a.join(",")}if(this.class==="Error"){var o=f.toStringCycles_;if(o.indexOf(this)!==-1)return"[object Error]";var y,w,G=this;do if("name"in G.properties){y=G.properties.name;break}while(G=G.proto);G=this;do if("message"in G.properties){w=G.properties.message;break}while(G=G.proto);o.push(this);try{y=y&&String(y),w=w&&String(w)}finally{o.pop()}return w?y+": "+w:String(y)}return this.data!==null?String(this.data):"[object "+this.class+"]"},f.Object.prototype.valueOf=function(){return f.currentInterpreter_?this.data===void 0||this.data===null||this.data instanceof RegExp?this:this.data instanceof Date?this.data.valueOf():this.data:this},f.Task=function(o,a,d,g,R){this.functionRef=o,this.argsArray=a,this.scope=d,this.node=g,this.interval=R,this.pid=++f.Task.pid,this.time=0},f.Task.pid=0,f.prototype.stepArrayExpression=function(o,a,d){var g=d.elements,R=a.n_||0;for(a.array_?(this.setProperty(a.array_,R,a.value),R++):(a.array_=this.createArray(),a.array_.properties.length=g.length);R<g.length;){if(g[R])return a.n_=R,new f.State(g[R],a.scope);R++}o.pop(),o[o.length-1].value=a.array_},f.prototype.stepAssignmentExpression=function(o,a,d){if(!a.doneLeft_){a.doneLeft_=!0;var g=new f.State(d.left,a.scope);return g.components=!0,g}if(!a.doneRight_){if(a.leftReference_||(a.leftReference_=a.value),a.doneGetter_&&(a.leftValue_=a.value),!a.doneGetter_&&d.operator!=="="){var R=this.getValue(a.leftReference_);if(a.leftValue_=R,this.getterStep_){a.doneGetter_=!0;var S=R;return this.createGetter_(S,a.leftReference_)}}return a.doneRight_=!0,d.operator==="="&&d.left.type==="Identifier"&&(a.destinationName=d.left.name),new f.State(d.right,a.scope)}if(a.doneSetter_){o.pop(),o[o.length-1].value=a.setterValue_;return}var y=a.leftValue_,w=a.value;switch(d.operator){case"=":y=w;break;case"+=":y+=w;break;case"-=":y-=w;break;case"*=":y*=w;break;case"/=":y/=w;break;case"%=":y%=w;break;case"<<=":y<<=w;break;case">>=":y>>=w;break;case">>>=":y>>>=w;break;case"&=":y&=w;break;case"^=":y^=w;break;case"|=":y|=w;break;default:throw SyntaxError("Unknown assignment expression: "+d.operator)}var G=this.setValue(a.leftReference_,y);if(G)return a.doneSetter_=!0,a.setterValue_=y,this.createSetter_(G,a.leftReference_,y);o.pop(),o[o.length-1].value=y},f.prototype.stepBinaryExpression=function(o,a,d){if(!a.doneLeft_)return a.doneLeft_=!0,new f.State(d.left,a.scope);if(!a.doneRight_)return a.doneRight_=!0,a.leftValue_=a.value,new f.State(d.right,a.scope);o.pop();var g=a.leftValue_,R=a.value,S;switch(d.operator){case"==":S=g==R;break;case"!=":S=g!=R;break;case"===":S=g===R;break;case"!==":S=g!==R;break;case">":S=g>R;break;case">=":S=g>=R;break;case"<":S=g<R;break;case"<=":S=g<=R;break;case"+":S=g+R;break;case"-":S=g-R;break;case"*":S=g*R;break;case"/":S=g/R;break;case"%":S=g%R;break;case"&":S=g&R;break;case"|":S=g|R;break;case"^":S=g^R;break;case"<<":S=g<<R;break;case">>":S=g>>R;break;case">>>":S=g>>>R;break;case"in":R instanceof f.Object||this.throwException(this.TYPE_ERROR,"'in' expects an object, not '"+R+"'"),S=this.hasProperty(R,g);break;case"instanceof":this.isa(R,this.FUNCTION)||this.throwException(this.TYPE_ERROR,"'instanceof' expects an object, not '"+R+"'"),S=g instanceof f.Object?this.isa(g,R):!1;break;default:throw SyntaxError("Unknown binary operator: "+d.operator)}o[o.length-1].value=S},f.prototype.stepBlockStatement=function(o,a,d){var g=a.n_||0,R=d.body[g];if(R)return a.n_=g+1,new f.State(R,a.scope);o.pop()},f.prototype.stepBreakStatement=function(o,a,d){var g=d.label&&d.label.name;this.unwind(f.Completion.BREAK,void 0,g)},f.prototype.evalCodeNumber_=0,f.prototype.stepCallExpression=function(o,a,d){if(!a.doneCallee_){a.doneCallee_=1;var g=new f.State(d.callee,a.scope);return g.components=!0,g}if(a.doneCallee_===1){a.doneCallee_=2;var R=a.value;if(Array.isArray(R)){if(a.func_=this.getValue(R),R[0]===f.SCOPE_REFERENCE?a.directEval_=R[1]==="eval":a.funcThis_=R[0],R=a.func_,this.getterStep_)return a.doneCallee_=1,this.createGetter_(R,a.value)}else a.func_=R;a.arguments_=[],a.n_=0}var R=a.func_;if(!a.doneArgs_){if(a.n_!==0&&a.arguments_.push(a.value),d.arguments[a.n_])return new f.State(d.arguments[a.n_++],a.scope);if(d.type==="NewExpression"){if((!(R instanceof f.Object)||R.illegalConstructor)&&this.throwException(this.TYPE_ERROR,this.nodeSummary(d.callee)+" is not a constructor"),R===this.ARRAY)a.funcThis_=this.createArray();else{var S=R.properties.prototype;(typeof S!="object"||S===null)&&(S=this.OBJECT_PROTO),a.funcThis_=this.createObjectProto(S)}a.isConstructor=!0}a.doneArgs_=!0}if(a.doneExec_)o.pop(),a.isConstructor&&typeof a.value!="object"?o[o.length-1].value=a.funcThis_:o[o.length-1].value=a.value;else{a.doneExec_=!0,R instanceof f.Object||this.throwException(this.TYPE_ERROR,this.nodeSummary(d.callee)+" is not a function");var y=R.node;if(y){for(var w=this.createScope(y.body,R.parentScope),G=this.createArray(),W=0;W<a.arguments_.length;W++)this.setProperty(G,W,a.arguments_[W]);this.setProperty(w.object,"arguments",G);for(var W=0;W<y.params.length;W++){var ae=y.params[W].name,ee=a.arguments_.length>W?a.arguments_[W]:void 0;this.setProperty(w.object,ae,ee)}return w.strict||(a.funcThis_=this.boxThis_(a.funcThis_)),this.setProperty(w.object,"this",a.funcThis_,f.READONLY_DESCRIPTOR),a.value=void 0,new f.State(y.body,w)}else if(R.eval){var te=a.arguments_[0];if(typeof te!="string")a.value=te;else{try{var de=this.parse_(String(te),"eval"+this.evalCodeNumber_++)}catch(Se){this.throwException(this.SYNTAX_ERROR,"Invalid code: "+Se.message)}var ie=this.newNode();ie.type="EvalProgram_",ie.body=de.body,f.stripLocations_(ie,d.start,d.end);var w=a.directEval_?a.scope:this.globalScope;return w.strict?w=this.createScope(de,w):this.populateScope_(de,w),this.value=void 0,new f.State(ie,w)}}else if(R.nativeFunc)a.scope.strict||(a.funcThis_=this.boxThis_(a.funcThis_)),a.value=R.nativeFunc.apply(a.funcThis_,a.arguments_);else if(R.asyncFunc){var xe=this,Be=function(Ae){a.value=Ae,xe.paused_=!1},Ue=R.asyncFunc.length-1,qe=a.arguments_.concat(new Array(Ue)).slice(0,Ue);qe.push(Be),this.paused_=!0,a.scope.strict||(a.funcThis_=this.boxThis_(a.funcThis_)),R.asyncFunc.apply(a.funcThis_,qe);return}else this.throwException(this.TYPE_ERROR,this.nodeSummary(d.callee)+" is not callable")}},f.prototype.stepConditionalExpression=function(o,a,d){var g=a.mode_||0;if(g===0)return a.mode_=1,new f.State(d.test,a.scope);if(g===1){a.mode_=2;var R=!!a.value;if(R&&d.consequent)return new f.State(d.consequent,a.scope);if(!R&&d.alternate)return new f.State(d.alternate,a.scope);this.value=void 0}o.pop(),d.type==="ConditionalExpression"&&(o[o.length-1].value=a.value)},f.prototype.stepContinueStatement=function(o,a,d){var g=d.label&&d.label.name;this.unwind(f.Completion.CONTINUE,void 0,g)},f.prototype.stepDebuggerStatement=function(o,a,d){o.pop()},f.prototype.stepDoWhileStatement=function(o,a,d){if(d.type==="DoWhileStatement"&&a.test_===void 0&&(a.value=!0,a.test_=!0),!a.test_)return a.test_=!0,new f.State(d.test,a.scope);if(!a.value)o.pop();else if(d.body)return a.test_=!1,a.isLoop=!0,new f.State(d.body,a.scope)},f.prototype.stepEmptyStatement=function(o,a,d){o.pop()},f.prototype.stepEvalProgram_=function(o,a,d){var g=a.n_||0,R=d.body[g];if(R)return a.n_=g+1,new f.State(R,a.scope);o.pop(),o[o.length-1].value=this.value},f.prototype.stepExpressionStatement=function(o,a,d){if(!a.done_)return this.value=void 0,a.done_=!0,new f.State(d.expression,a.scope);o.pop(),this.value=a.value},f.prototype.stepForInStatement=function(o,a,d){if(!a.doneInit_&&(a.doneInit_=!0,d.left.declarations&&d.left.declarations[0].init))return a.scope.strict&&this.throwException(this.SYNTAX_ERROR,"for-in loop variable declaration may not have an initializer"),new f.State(d.left,a.scope);if(!a.doneObject_)return a.doneObject_=!0,a.variable_||(a.variable_=a.value),new f.State(d.right,a.scope);if(a.isLoop||(a.isLoop=!0,a.object_=a.value,a.visited_=Object.create(null)),a.name_===void 0)e:for(;;){if(a.object_ instanceof f.Object)for(a.props_||(a.props_=Object.getOwnPropertyNames(a.object_.properties));;){var g=a.props_.shift();if(g===void 0)break;if(Object.prototype.hasOwnProperty.call(a.object_.properties,g)&&!a.visited_[g]&&(a.visited_[g]=!0,!!Object.prototype.propertyIsEnumerable.call(a.object_.properties,g))){a.name_=g;break e}}else if(a.object_!==null&&a.object_!==void 0)for(a.props_||(a.props_=Object.getOwnPropertyNames(a.object_));;){var g=a.props_.shift();if(g===void 0)break;if(a.visited_[g]=!0,!!Object.prototype.propertyIsEnumerable.call(a.object_,g)){a.name_=g;break e}}if(a.object_=this.getPrototype(a.object_),a.props_=null,a.object_===null){o.pop();return}}if(!a.doneVariable_){a.doneVariable_=!0;var R=d.left;if(R.type==="VariableDeclaration")a.variable_=[f.SCOPE_REFERENCE,R.declarations[0].id.name];else{a.variable_=null;var S=new f.State(R,a.scope);return S.components=!0,S}}if(a.variable_||(a.variable_=a.value),!a.doneSetter_){a.doneSetter_=!0;var y=a.name_,w=this.setValue(a.variable_,y);if(w)return this.createSetter_(w,a.variable_,y)}if(a.name_=void 0,a.doneVariable_=!1,a.doneSetter_=!1,d.body)return new f.State(d.body,a.scope)},f.prototype.stepForStatement=function(o,a,d){switch(a.mode_){default:if(a.mode_=1,d.init)return new f.State(d.init,a.scope);break;case 1:if(a.mode_=2,d.test)return new f.State(d.test,a.scope);break;case 2:if(a.mode_=3,d.test&&!a.value)o.pop();else return a.isLoop=!0,new f.State(d.body,a.scope);break;case 3:if(a.mode_=1,d.update)return new f.State(d.update,a.scope);break}},f.prototype.stepFunctionDeclaration=function(o,a,d){o.pop()},f.prototype.stepFunctionExpression=function(o,a,d){o.pop(),a=o[o.length-1];var g=a.scope;d.id&&(g=this.createSpecialScope(g)),a.value=this.createFunction(d,g,a.destinationName),d.id&&this.setProperty(g.object,d.id.name,a.value,f.READONLY_DESCRIPTOR)},f.prototype.stepIdentifier=function(o,a,d){if(o.pop(),a.components){o[o.length-1].value=[f.SCOPE_REFERENCE,d.name];return}var g=this.getValueFromScope(d.name);if(this.getterStep_){var R=g;return this.createGetter_(R,this.globalObject)}o[o.length-1].value=g},f.prototype.stepIfStatement=f.prototype.stepConditionalExpression,f.prototype.stepLabeledStatement=function(o,a,d){o.pop();var g=a.labels||[];g.push(d.label.name);var R=new f.State(d.body,a.scope);return R.labels=g,R},f.prototype.stepLiteral=function(o,a,d){o.pop();var g=d.value;if(g instanceof RegExp){var R=this.createObjectProto(this.REGEXP_PROTO);this.populateRegExp(R,g),g=R}o[o.length-1].value=g},f.prototype.stepLogicalExpression=function(o,a,d){if(d.operator!=="&&"&&d.operator!=="||")throw SyntaxError("Unknown logical operator: "+d.operator);if(!a.doneLeft_)return a.doneLeft_=!0,new f.State(d.left,a.scope);if(a.doneRight_)o.pop(),o[o.length-1].value=a.value;else if(d.operator==="&&"&&!a.value||d.operator==="||"&&a.value)o.pop(),o[o.length-1].value=a.value;else return a.doneRight_=!0,new f.State(d.right,a.scope)},f.prototype.stepMemberExpression=function(o,a,d){if(!a.doneObject_)return a.doneObject_=!0,new f.State(d.object,a.scope);var g;if(!d.computed)a.object_=a.value,g=d.property.name;else if(a.doneProperty_)g=a.value;else return a.object_=a.value,a.doneProperty_=!0,new f.State(d.property,a.scope);if(o.pop(),a.components)o[o.length-1].value=[a.object_,g];else{var R=this.getProperty(a.object_,g);if(this.getterStep_){var S=R;return this.createGetter_(S,a.object_)}o[o.length-1].value=R}},f.prototype.stepNewExpression=f.prototype.stepCallExpression,f.prototype.stepObjectExpression=function(o,a,d){var g=a.n_||0,R=d.properties[g];if(!a.object_)a.object_=this.createObjectProto(this.OBJECT_PROTO),a.properties_=Object.create(null);else{var S=a.destinationName;a.properties_[S]||(a.properties_[S]={}),a.properties_[S][R.kind]=a.value,a.n_=++g,R=d.properties[g]}if(R){var y=R.key;if(y.type==="Identifier")var S=y.name;else if(y.type==="Literal")var S=y.value;else throw SyntaxError("Unknown object structure: "+y.type);return a.destinationName=S,new f.State(R.value,a.scope)}for(var y in a.properties_){var w=a.properties_[y];if("get"in w||"set"in w){var G={configurable:!0,enumerable:!0,get:w.get,set:w.set};this.setProperty(a.object_,y,f.VALUE_IN_DESCRIPTOR,G)}else this.setProperty(a.object_,y,w.init)}o.pop(),o[o.length-1].value=a.object_},f.prototype.stepProgram=function(o,a,d){var g=d.body.shift();if(g)return a.done=!1,new f.State(g,a.scope);a.done=!0},f.prototype.stepReturnStatement=function(o,a,d){if(d.argument&&!a.done_)return a.done_=!0,new f.State(d.argument,a.scope);this.unwind(f.Completion.RETURN,a.value,void 0)},f.prototype.stepSequenceExpression=function(o,a,d){var g=a.n_||0,R=d.expressions[g];if(R)return a.n_=g+1,new f.State(R,a.scope);o.pop(),o[o.length-1].value=a.value},f.prototype.stepSwitchStatement=function(o,a,d){if(!a.test_)return a.test_=1,new f.State(d.discriminant,a.scope);for(a.test_===1&&(a.test_=2,a.switchValue_=a.value,a.defaultCase_=-1);;){var g=a.index_||0,R=d.cases[g];if(!a.matched_&&R&&!R.test){a.defaultCase_=g,a.index_=g+1;continue}if(!R&&!a.matched_&&a.defaultCase_!==-1){a.matched_=!0,a.index_=a.defaultCase_;continue}if(R){if(!a.matched_&&!a.tested_&&R.test)return a.tested_=!0,new f.State(R.test,a.scope);if(a.matched_||a.value===a.switchValue_){a.matched_=!0;var S=a.n_||0;if(R.consequent[S])return a.isSwitch=!0,a.n_=S+1,new f.State(R.consequent[S],a.scope)}a.tested_=!1,a.n_=0,a.index_=g+1}else{o.pop();return}}},f.prototype.stepThisExpression=function(o,a,d){o.pop(),o[o.length-1].value=this.getValueFromScope("this")},f.prototype.stepThrowStatement=function(o,a,d){if(a.done_)this.throwException(a.value);else return a.done_=!0,new f.State(d.argument,a.scope)},f.prototype.stepTryStatement=function(o,a,d){if(!a.doneBlock_)return a.doneBlock_=!0,new f.State(d.block,a.scope);if(a.cv&&a.cv.type===f.Completion.THROW&&!a.doneHandler_&&d.handler){a.doneHandler_=!0;var g=this.createSpecialScope(a.scope);return this.setProperty(g.object,d.handler.param.name,a.cv.value),a.cv=void 0,new f.State(d.handler.body,g)}if(!a.doneFinalizer_&&d.finalizer)return a.doneFinalizer_=!0,new f.State(d.finalizer,a.scope);o.pop(),a.cv&&this.unwind(a.cv.type,a.cv.value,a.cv.label)},f.prototype.stepUnaryExpression=function(o,a,d){if(!a.done_){a.done_=!0;var g=new f.State(d.argument,a.scope);return g.components=d.operator==="delete",g}o.pop();var R=a.value;switch(d.operator){case"-":R=-R;break;case"+":R=+R;break;case"!":R=!R;break;case"~":R=~R;break;case"delete":var S=!0;if(Array.isArray(R)){var y=R[0];y===f.SCOPE_REFERENCE&&(y=a.scope);var w=String(R[1]);try{delete y.properties[w]}catch{a.scope.strict?this.throwException(this.TYPE_ERROR,"Cannot delete property '"+w+"' of '"+y+"'"):S=!1}}R=S;break;case"typeof":R=R&&R.class==="Function"?"function":typeof R;break;case"void":R=void 0;break;default:throw SyntaxError("Unknown unary operator: "+d.operator)}o[o.length-1].value=R},f.prototype.stepUpdateExpression=function(o,a,d){if(!a.doneLeft_){a.doneLeft_=!0;var g=new f.State(d.argument,a.scope);return g.components=!0,g}if(a.leftSide_||(a.leftSide_=a.value),a.doneGetter_&&(a.leftValue_=a.value),!a.doneGetter_){var S=this.getValue(a.leftSide_);if(a.leftValue_=S,this.getterStep_){a.doneGetter_=!0;var R=S;return this.createGetter_(R,a.leftSide_)}}if(a.doneSetter_){o.pop(),o[o.length-1].value=a.setterValue_;return}var S=Number(a.leftValue_),y;if(d.operator==="++")y=S+1;else if(d.operator==="--")y=S-1;else throw SyntaxError("Unknown update expression: "+d.operator);var w=d.prefix?y:S,G=this.setValue(a.leftSide_,y);if(G)return a.doneSetter_=!0,a.setterValue_=w,this.createSetter_(G,a.leftSide_,y);o.pop(),o[o.length-1].value=w},f.prototype.stepVariableDeclaration=function(o,a,d){var g=d.declarations,R=a.n_||0,S=g[R];for(a.init_&&S&&(this.setValueToScope(S.id.name,a.value),a.init_=!1,S=g[++R]);S;){if(S.init)return a.n_=R,a.init_=!0,a.destinationName=S.id.name,new f.State(S.init,a.scope);S=g[++R]}o.pop()},f.prototype.stepWithStatement=function(o,a,d){if(!a.doneObject_)return a.doneObject_=!0,new f.State(d.object,a.scope);o.pop();var g=this.createSpecialScope(a.scope,a.value);return new f.State(d.body,g)},f.prototype.stepWhileStatement=f.prototype.stepDoWhileStatement,f.nativeGlobal.Interpreter=f,f.prototype.step=f.prototype.step,f.prototype.run=f.prototype.run,f.prototype.appendCode=f.prototype.appendCode,f.prototype.createObject=f.prototype.createObject,f.prototype.createObjectProto=f.prototype.createObjectProto,f.prototype.createAsyncFunction=f.prototype.createAsyncFunction,f.prototype.createNativeFunction=f.prototype.createNativeFunction,f.prototype.getProperty=f.prototype.getProperty,f.prototype.setProperty=f.prototype.setProperty,f.prototype.getStatus=f.prototype.getStatus,f.prototype.nativeToPseudo=f.prototype.nativeToPseudo,f.prototype.pseudoToNative=f.prototype.pseudoToNative,f.prototype.getGlobalScope=f.prototype.getGlobalScope,f.prototype.getStateStack=f.prototype.getStateStack,f.prototype.setStateStack=f.prototype.setStateStack,f.VALUE_IN_DESCRIPTOR=f.VALUE_IN_DESCRIPTOR,f.Status=f.Status,N.exports={Interpreter:f}},"./original-repo/acorn.js":function(N,C){(function(D,f){return f(C)})(this,function(D){D.version="0.5.0";var f,o="",a,d;D.parse=function(x,I){return o=String(x),a=o.length,R(I),xn(),Fn(f.program)};var g={strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function R(x){f=x||{};for(var I in g)Object.prototype.hasOwnProperty.call(f,I)||(f[I]=g[I]);d=f.sourceFile}var S=function(x,I){for(var B=1,$=0;;){br.lastIndex=$;var ve=br.exec(x);if(ve&&ve.index<I)++B,$=ve.index+ve[0].length;else break}return{line:B,column:I-$}},y=0,w=0,G=0,W,ae,ee,te,de,ie,xe,Be=0,Ue=0,qe,Ae,Se,We;function he(x,I){var B=S(o,x);I+=" ("+B.line+":"+B.column+")";var $=new SyntaxError(I);throw $.pos=x,$.loc=B,$.raisedAt=y,$}var bt=[],it={type:"num"},Et={type:"regexp"},Ot={type:"string"},Fe={type:"name"},at={type:"eof"},pt={keyword:"break"},vt={keyword:"case",beforeExpr:!0},Rt={keyword:"catch"},Dt={keyword:"continue"},St={keyword:"debugger"},Mt={keyword:"default"},Nt={keyword:"do",isLoop:!0},yt={keyword:"else",beforeExpr:!0},Lt={keyword:"finally"},Ne={keyword:"for",isLoop:!0},_e={keyword:"function"},De={keyword:"if"},re={keyword:"return",beforeExpr:!0},we={keyword:"switch"},je={keyword:"throw",beforeExpr:!0},Me={keyword:"try"},Oe={keyword:"var"},Je={keyword:"while",isLoop:!0},Ft={keyword:"with"},Zt={keyword:"new",beforeExpr:!0},Qt={keyword:"this"},rt={keyword:"null",atomValue:null},dt={keyword:"true",atomValue:!0},$t={keyword:"false",atomValue:!1},Yt={keyword:"in",binop:7,beforeExpr:!0},er={break:pt,case:vt,catch:Rt,continue:Dt,debugger:St,default:Mt,do:Nt,else:yt,finally:Lt,for:Ne,function:_e,if:De,return:re,switch:we,throw:je,try:Me,var:Oe,while:Je,with:Ft,null:rt,true:dt,false:$t,new:Zt,in:Yt,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Qt,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},wr={type:"[",beforeExpr:!0},Pr={type:"]"},tr={type:"{",beforeExpr:!0},Xt={type:"}"},xt={type:"(",beforeExpr:!0},gt={type:")"},Tt={type:",",beforeExpr:!0},wt={type:";",beforeExpr:!0},rr={type:":",beforeExpr:!0},zr={type:"."},Vr={type:"?",beforeExpr:!0},Gr={binop:10,beforeExpr:!0},Wr={isAssign:!0,beforeExpr:!0},jt={isAssign:!0,beforeExpr:!0},ln={postfix:!0,prefix:!0,isUpdate:!0},Hr={prefix:!0,beforeExpr:!0},Yr={binop:1,beforeExpr:!0},qr={binop:2,beforeExpr:!0},fn={binop:3,beforeExpr:!0},pn={binop:4,beforeExpr:!0},dn={binop:5,beforeExpr:!0},hn={binop:6,beforeExpr:!0},En={binop:7,beforeExpr:!0},mn={binop:8,beforeExpr:!0},vn={binop:9,prefix:!0,beforeExpr:!0},yn={binop:10,beforeExpr:!0};function Er(x){for(var I=x.split(" "),B=Object.create(null),$=0;$<I.length;$++)B[I[$]]=!0;return function(ve){return B[ve]||!1}}var gn=Er("class enum extends super const export import"),Jr=Er("implements interface let package private protected public static yield"),mr=Er("eval arguments"),bn=Er("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Rn=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Kr="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",_n="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",Zr=new RegExp("["+Kr+"]"),Nn=new RegExp("["+Kr+_n+"]"),gr=/[\n\r\u2028\u2029]/,br=/\r\n|[\n\r\u2028\u2029]/g,Rr=function(x){return x<65?x===36:x<91?!0:x<97?x===95:x<123?!0:x>=170&&Zr.test(String.fromCharCode(x))},Qr=function(x){return x<48?x===36:x<58?!0:x<65?!1:x<91?!0:x<97?x===95:x<123?!0:x>=170&&Nn.test(String.fromCharCode(x))};function Vt(){this.line=ie,this.column=y-xe}function xn(){ie=1,y=xe=0,de=!0,ar()}function Ve(x,I){G=y,f.locations&&(ae=new Vt),ee=x,ar(),te=I,de=x.beforeExpr}function wn(){var x=f.onComment&&f.locations&&new Vt,I=y,B=o.indexOf("*/",y+=2);if(B===-1&&he(y-2,"Unterminated comment"),y=B+2,f.locations){br.lastIndex=I;for(var $;($=br.exec(o))&&$.index<y;)++ie,xe=$.index+$[0].length}f.onComment&&f.onComment(!0,o.slice(I+2,B),I,y,x,f.locations&&new Vt)}function Or(){for(var x=y,I=f.onComment&&f.locations&&new Vt,B=o.charCodeAt(y+=2);y<a&&B!==10&&B!==13&&B!==8232&&B!==8233;)++y,B=o.charCodeAt(y);f.onComment&&f.onComment(!1,o.slice(x+2,y),x,y,I,f.locations&&new Vt)}function ar(){for(;y<a;){var x=o.charCodeAt(y);if(x===32)++y;else if(x===13){++y;var I=o.charCodeAt(y);I===10&&++y,f.locations&&(++ie,xe=y)}else if(x===10||x===8232||x===8233)++y,f.locations&&(++ie,xe=y);else if(x>8&&x<14)++y;else if(x===47){var I=o.charCodeAt(y+1);if(I===42)wn();else if(I===47)Or();else break}else if(x===160)++y;else if(x>=5760&&Rn.test(String.fromCharCode(x)))++y;else break}}function Pn(){var x=o.charCodeAt(y+1);x>=48&&x<=57?tn(!0):(++y,Ve(zr))}function On(){var x=o.charCodeAt(y+1);de?(++y,en()):x===61?$e(jt,2):$e(Gr,1)}function Tn(){var x=o.charCodeAt(y+1);x===61?$e(jt,2):$e(yn,1)}function Cn(x){var I=o.charCodeAt(y+1);I===x?$e(x===124?Yr:qr,2):I===61?$e(jt,2):$e(x===124?fn:dn,1)}function An(){var x=o.charCodeAt(y+1);x===61?$e(jt,2):$e(pn,1)}function In(x){var I=o.charCodeAt(y+1);if(I===x){if(I===45&&o.charCodeAt(y+2)===62&&gr.test(o.slice(Ue,y))){y+=3,Or(),ar(),qt();return}$e(ln,2)}else I===61?$e(jt,2):$e(vn,1)}function kn(x){var I=o.charCodeAt(y+1),B=1;if(I===x){B=x===62&&o.charCodeAt(y+2)===62?3:2,o.charCodeAt(y+B)===61?$e(jt,B+1):$e(mn,B);return}if(I===33&&x===60&&o.charCodeAt(y+2)===45&&o.charCodeAt(y+3)===45){y+=4,Or(),ar(),qt();return}I===61&&(B=o.charCodeAt(y+2)===61?3:2),$e(En,B)}function Dn(x){var I=o.charCodeAt(y+1);I===61?$e(hn,o.charCodeAt(y+2)===61?3:2):$e(x===61?Wr:Hr,1)}function Mn(x){switch(x){case 46:return Pn();case 40:return++y,Ve(xt);case 41:return++y,Ve(gt);case 59:return++y,Ve(wt);case 44:return++y,Ve(Tt);case 91:return++y,Ve(wr);case 93:return++y,Ve(Pr);case 123:return++y,Ve(tr);case 125:return++y,Ve(Xt);case 58:return++y,Ve(rr);case 63:return++y,Ve(Vr);case 48:var I=o.charCodeAt(y+1);if(I===120||I===88)return Un();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return tn(!1);case 34:case 39:return Ln(x);case 47:return On();case 37:case 42:return Tn();case 124:case 38:return Cn(x);case 94:return An();case 43:case 45:return In(x);case 60:case 62:return kn(x);case 61:case 33:return Dn(x);case 126:return $e(Hr,1)}return!1}function qt(x){if(x?y=w+1:w=y,f.locations&&(W=new Vt),x)return en();if(y>=a)return Ve(at);var I=o.charCodeAt(y);if(Rr(I)||I===92)return nn();var B=Mn(I);if(B===!1){var $=String.fromCharCode(I);if($==="\\"||Zr.test($))return nn();he(y,"Unexpected character '"+$+"'")}}function $e(x,I){var B=o.slice(y,y+I);y+=I,Ve(x,B)}function en(){for(var x,I,B=y;;){y>=a&&he(B,"Unterminated regexp");var $=o.charAt(y);if(gr.test($)&&he(B,"Unterminated regexp"),x)x=!1;else{if($==="[")I=!0;else if($==="]"&&I)I=!1;else if($==="/"&&!I)break;x=$==="\\"}++y}var ve=o.slice(B,y);++y;var se=rn();se&&!/^[gmi]*$/.test(se)&&he(B,"Invalid regexp flag");try{var ye=new RegExp(ve,se)}catch(Pe){throw Pe instanceof SyntaxError&&he(B,Pe.message),Pe}Ve(Et,ye)}function or(x,I){for(var B=y,$=0,ve=I===void 0?1/0:I,se=0;se<ve;++se){var ye=o.charCodeAt(y),Pe;if(ye>=97?Pe=ye-97+10:ye>=65?Pe=ye-65+10:ye>=48&&ye<=57?Pe=ye-48:Pe=1/0,Pe>=x)break;++y,$=$*x+Pe}return y===B||I!==void 0&&y-B!==I?null:$}function Un(){y+=2;var x=or(16);x===null&&he(w+2,"Expected hexadecimal number"),Rr(o.charCodeAt(y))&&he(y,"Identifier directly after number"),Ve(it,x)}function tn(x){var I=y,B=!1,$=o.charCodeAt(y)===48;!x&&or(10)===null&&he(I,"Invalid number"),o.charCodeAt(y)===46&&(++y,or(10),B=!0);var ve=o.charCodeAt(y);(ve===69||ve===101)&&(ve=o.charCodeAt(++y),(ve===43||ve===45)&&++y,or(10)===null&&he(I,"Invalid number"),B=!0),Rr(o.charCodeAt(y))&&he(y,"Identifier directly after number");var se=o.slice(I,y),ye;B?ye=parseFloat(se):!$||se.length===1?ye=parseInt(se,10):/[89]/.test(se)||We?he(I,"Invalid number"):ye=parseInt(se,8),Ve(it,ye)}function Ln(x){y++;for(var I="";;){y>=a&&he(w,"Unterminated string constant");var B=o.charCodeAt(y);if(B===x){++y,Ve(Ot,I);return}if(B===92){B=o.charCodeAt(++y);var $=/^[0-7]+/.exec(o.slice(y,y+3));for($&&($=$[0]);$&&parseInt($,8)>255;)$=$.slice(0,-1);if($==="0"&&($=null),++y,$)We&&he(y-2,"Octal literal in strict mode"),I+=String.fromCharCode(parseInt($,8)),y+=$.length-1;else switch(B){case 110:I+=`
`;break;case 114:I+="\r";break;case 120:I+=String.fromCharCode(_r(2));break;case 117:I+=String.fromCharCode(_r(4));break;case 85:I+=String.fromCharCode(_r(8));break;case 116:I+="	";break;case 98:I+="\b";break;case 118:I+="\v";break;case 102:I+="\f";break;case 48:I+="\0";break;case 13:o.charCodeAt(y)===10&&++y;case 10:f.locations&&(xe=y,++ie);break;default:I+=String.fromCharCode(B);break}}else(B===13||B===10||B===8232||B===8233)&&he(w,"Unterminated string constant"),I+=String.fromCharCode(B),++y}}function _r(x){var I=or(16,x);return I===null&&he(w,"Bad character escape sequence"),I}var Jt;function rn(){Jt=!1;for(var x,I=!0,B=y;;){var $=o.charCodeAt(y);if(Qr($))Jt&&(x+=o.charAt(y)),++y;else if($===92){Jt||(x=o.slice(B,y)),Jt=!0,o.charCodeAt(++y)!==117&&he(y,"Expecting Unicode escape sequence \\uXXXX"),++y;var ve=_r(4),se=String.fromCharCode(ve);se||he(y-1,"Invalid Unicode escape"),(I?Rr(ve):Qr(ve))||he(y-4,"Invalid Unicode escape"),x+=se}else break;I=!1}return Jt?x:o.slice(B,y)}function nn(){var x=rn(),I=Fe;!Jt&&bn(x)&&(I=er[x]),Ve(I,x)}function ge(){Be=w,Ue=G,qe=ae,qt()}function Tr(x){if(We=x,y=w,f.locations)for(;y<xe;)xe=o.lastIndexOf(`
`,xe-2)+1,--ie;ar(),qt()}function an(){this.type=null,this.start=w,this.end=null}function on(){this.start=W,this.end=null,d&&(this.source=d)}function Xe(){var x=new an;return f.locations&&(x.loc=new on),f.directSourceFile&&(x.sourceFile=f.directSourceFile),f.ranges&&(x.range=[w,0]),x}function Ct(x){var I=new an;return I.start=x.start,f.locations&&(I.loc=new on,I.loc.start=x.loc.start),f.ranges&&(I.range=[x.range[0],0]),I}function Ee(x,I){return x.type=I,x.end=Ue,f.locations&&(x.loc.end=qe),f.ranges&&(x.range[1]=Ue),x}function Cr(x){return x.type==="ExpressionStatement"&&x.expression.type==="Literal"&&x.expression.value==="use strict"}function Ce(x){return ee===x?(ge(),!0):!1}function Sr(){return!f.strictSemicolons&&(ee===at||ee===Xt||gr.test(o.slice(Ue,w)))}function Gt(){!Ce(wt)&&!Sr()&&Pt()}function Le(x){ee===x?ge():Pt()}function Pt(){he(w,"Unexpected token")}function Nr(x){x.type!=="Identifier"&&x.type!=="MemberExpression"&&he(x.start,"Assigning to rvalue"),We&&x.type==="Identifier"&&mr(x.name)&&he(x.start,"Assigning to "+x.name+" in strict mode")}function Fn(x){Be=Ue=y,f.locations&&(qe=new Vt),Ae=We=!1,Se=[],qt();var I=x||Xe(),B=!0;for(x||(I.body=[]);ee!==at;){var $=ht();I.body.push($),B&&Cr($)&&Tr(!0),B=!1}return Ee(I,"Program")}var Ar={kind:"loop"},Bn={kind:"switch"};function ht(){(ee===Gr||ee===jt&&te==="/=")&&qt(!0);var x=ee,I=Xe();switch(x){case pt:case Dt:ge();var B=x===pt;Ce(wt)||Sr()?I.label=null:ee!==Fe?Pt():(I.label=kt(),Gt());for(var $=0;$<Se.length;++$){var ve=Se[$];if((I.label===null||ve.name===I.label.name)&&(ve.kind!==null&&(B||ve.kind==="loop")||I.label&&B))break}return $===Se.length&&he(I.start,"Unsyntactic "+x.keyword),Ee(I,B?"BreakStatement":"ContinueStatement");case St:return ge(),Gt(),Ee(I,"DebuggerStatement");case Nt:return ge(),Se.push(Ar),I.body=ht(),Se.pop(),Le(Je),I.test=lr(),Gt(),Ee(I,"DoWhileStatement");case Ne:if(ge(),Se.push(Ar),Le(xt),ee===wt)return Ir(I,null);if(ee===Oe){var se=Xe();return ge(),un(se,!0),Ee(se,"VariableDeclaration"),se.declarations.length===1&&Ce(Yt)?sn(I,se):Ir(I,se)}var se=Ke(!1,!0);return Ce(Yt)?(Nr(se),sn(I,se)):Ir(I,se);case _e:return ge(),Lr(I,!0);case De:return ge(),I.test=lr(),I.consequent=ht(),I.alternate=Ce(yt)?ht():null,Ee(I,"IfStatement");case re:return!Ae&&!f.allowReturnOutsideFunction&&he(w,"'return' outside of function"),ge(),Ce(wt)||Sr()?I.argument=null:(I.argument=Ke(),Gt()),Ee(I,"ReturnStatement");case we:ge(),I.discriminant=lr(),I.cases=[],Le(tr),Se.push(Bn);for(var ye,Pe;ee!==Xt;)if(ee===vt||ee===Mt){var hr=ee===vt;ye&&Ee(ye,"SwitchCase"),I.cases.push(ye=Xe()),ye.consequent=[],ge(),hr?ye.test=Ke():(Pe&&he(Be,"Multiple default clauses"),Pe=!0,ye.test=null),Le(rr)}else ye||Pt(),ye.consequent.push(ht());return ye&&Ee(ye,"SwitchCase"),ge(),Se.pop(),Ee(I,"SwitchStatement");case je:return ge(),gr.test(o.slice(Ue,w))&&he(Ue,"Illegal newline after throw"),I.argument=Ke(),Gt(),Ee(I,"ThrowStatement");case Me:if(ge(),I.block=fr(),I.handler=null,ee===Rt){var Kt=Xe();ge(),Le(xt),Kt.param=kt(),We&&mr(Kt.param.name)&&he(Kt.param.start,"Binding "+Kt.param.name+" in strict mode"),Le(gt),Kt.body=fr(),I.handler=Ee(Kt,"CatchClause")}return I.finalizer=Ce(Lt)?fr():null,!I.handler&&!I.finalizer&&he(I.start,"Missing catch or finally clause"),Ee(I,"TryStatement");case Oe:return ge(),un(I),Gt(),Ee(I,"VariableDeclaration");case Je:return ge(),I.test=lr(),Se.push(Ar),I.body=ht(),Se.pop(),Ee(I,"WhileStatement");case Ft:return We&&he(w,"'with' in strict mode"),ge(),I.object=lr(),I.body=ht(),Ee(I,"WithStatement");case tr:return fr();case wt:return ge(),Ee(I,"EmptyStatement");default:var Br=te,xr=Ke();if(x===Fe&&xr.type==="Identifier"&&Ce(rr)){for(var $=0;$<Se.length;++$)Se[$].name===Br&&he(xr.start,"Label '"+Br+"' is already declared");var Wn=ee.isLoop?"loop":ee===we?"switch":null;return Se.push({name:Br,kind:Wn}),I.body=ht(),Se.pop(),I.label=xr,Ee(I,"LabeledStatement")}else return I.expression=xr,Gt(),Ee(I,"ExpressionStatement")}}function lr(){Le(xt);var x=Ke();return Le(gt),x}function fr(x){var I=Xe(),B=!0,$=!1,ve;for(I.body=[],Le(tr);!Ce(Xt);){var se=ht();I.body.push(se),B&&x&&Cr(se)&&(ve=$,Tr($=!0)),B=!1}return $&&!ve&&Tr(!1),Ee(I,"BlockStatement")}function Ir(x,I){return x.init=I,Le(wt),x.test=ee===wt?null:Ke(),Le(wt),x.update=ee===gt?null:Ke(),Le(gt),x.body=ht(),Se.pop(),Ee(x,"ForStatement")}function sn(x,I){return x.left=I,x.right=Ke(),Le(gt),x.body=ht(),Se.pop(),Ee(x,"ForInStatement")}function un(x,I){for(x.declarations=[],x.kind="var";;){var B=Xe();if(B.id=kt(),We&&mr(B.id.name)&&he(B.id.start,"Binding "+B.id.name+" in strict mode"),B.init=Ce(Wr)?Ke(!0,I):null,x.declarations.push(Ee(B,"VariableDeclarator")),!Ce(Tt))break}}function Ke(x,I){var B=kr(I);if(!x&&ee===Tt){var $=Ct(B);for($.expressions=[B];Ce(Tt);)$.expressions.push(kr(I));return Ee($,"SequenceExpression")}return B}function kr(x){var I=jn(x);if(ee.isAssign){var B=Ct(I);return B.operator=te,B.left=I,ge(),B.right=kr(x),Nr(I),Ee(B,"AssignmentExpression")}return I}function jn(x){var I=zn(x);if(Ce(Vr)){var B=Ct(I);return B.test=I,B.consequent=Ke(!0),Le(rr),B.alternate=Ke(!0,x),Ee(B,"ConditionalExpression")}return I}function zn(x){return Dr(Mr(),-1,x)}function Dr(x,I,B){var $=ee.binop;if($!==null&&(!B||ee!==Yt)&&$>I){var ve=Ct(x);ve.left=x,ve.operator=te;var se=ee;ge(),ve.right=Dr(Mr(),$,B);var ye=Ee(ve,se===Yr||se===qr?"LogicalExpression":"BinaryExpression");return Dr(ye,I,B)}return x}function Mr(){if(ee.prefix){var x=Xe(),I=ee.isUpdate;return x.operator=te,x.prefix=!0,de=!0,ge(),x.argument=Mr(),I?Nr(x.argument):We&&x.operator==="delete"&&x.argument.type==="Identifier"&&he(x.start,"Deleting local variable in strict mode"),Ee(x,I?"UpdateExpression":"UnaryExpression")}for(var B=Vn();ee.postfix&&!Sr();){var x=Ct(B);x.operator=te,x.prefix=!1,x.argument=B,Nr(B),ge(),B=Ee(x,"UpdateExpression")}return B}function Vn(){return pr(Ur())}function pr(x,I){var B;return Ce(zr)?(B=Ct(x),B.object=x,B.property=kt(!0),B.computed=!1,pr(Ee(B,"MemberExpression"),I)):Ce(wr)?(B=Ct(x),B.object=x,B.property=Ke(),B.computed=!0,Le(Pr),pr(Ee(B,"MemberExpression"),I)):!I&&Ce(xt)?(B=Ct(x),B.callee=x,B.arguments=Fr(gt,!1),pr(Ee(B,"CallExpression"),I)):x}function Ur(){var x;switch(ee){case Qt:return x=Xe(),ge(),Ee(x,"ThisExpression");case Fe:return kt();case it:case Ot:case Et:return x=Xe(),x.value=te,x.raw=o.slice(w,G),ge(),Ee(x,"Literal");case rt:case dt:case $t:return x=Xe(),x.value=ee.atomValue,x.raw=ee.keyword,ge(),Ee(x,"Literal");case xt:var I=W,B=w;ge();var $=Ke();return $.start=B,$.end=G,f.locations&&($.loc.start=I,$.loc.end=ae),f.ranges&&($.range=[B,G]),Le(gt),$;case wr:return x=Xe(),ge(),x.elements=Fr(Pr,!0,!0),Ee(x,"ArrayExpression");case tr:return $n();case _e:return x=Xe(),ge(),Lr(x,!1);case Zt:return Gn()}Pt()}function Gn(){var x=Xe();return ge(),x.callee=pr(Ur(),!0),x.arguments=Ce(xt)?Fr(gt,!1):bt,Ee(x,"NewExpression")}function $n(){var x=Xe(),I=!0,B=!1;for(x.properties=[],ge();!Ce(Xt);){if(I)I=!1;else if(Le(Tt),f.allowTrailingCommas&&Ce(Xt))break;var $={key:cn()},ve=!1,se;if(Ce(rr)?($.value=Ke(!0),se=$.kind="init"):$.key.type==="Identifier"&&($.key.name==="get"||$.key.name==="set")?(ve=B=!0,se=$.kind=$.key.name,$.key=cn(),ee!==xt&&Pt(),$.value=Lr(Xe(),!1)):Pt(),$.key.type==="Identifier"&&(We||B))for(var ye=0;ye<x.properties.length;++ye){var Pe=x.properties[ye];if(Pe.key.name===$.key.name){var hr=se===Pe.kind||ve&&Pe.kind==="init"||se==="init"&&(Pe.kind==="get"||Pe.kind==="set");hr&&!We&&se==="init"&&Pe.kind==="init"&&(hr=!1),hr&&he($.key.start,"Redefinition of property")}}x.properties.push($)}return Ee(x,"ObjectExpression")}function cn(){return ee===it||ee===Ot?Ur():kt(!0)}function Lr(x,I){ee===Fe?x.id=kt():I?Pt():x.id=null,x.params=[];var B=!0;for(Le(xt);!Ce(gt);)B?B=!1:Le(Tt),x.params.push(kt());var $=Ae,ve=Se;if(Ae=!0,Se=[],x.body=fr(!0),Ae=$,Se=ve,We||x.body.body.length&&Cr(x.body.body[0]))for(var se=x.id?-1:0;se<x.params.length;++se){var ye=se<0?x.id:x.params[se];if((Jr(ye.name)||mr(ye.name))&&he(ye.start,"Defining '"+ye.name+"' in strict mode"),se>=0)for(var Pe=0;Pe<se;++Pe)ye.name===x.params[Pe].name&&he(ye.start,"Argument name clash in strict mode")}return Ee(x,I?"FunctionDeclaration":"FunctionExpression")}function Fr(x,I,B){for(var $=[],ve=!0;!Ce(x);){if(ve)ve=!1;else if(Le(Tt),I&&f.allowTrailingCommas&&Ce(x))break;$.push(B&&ee===Tt?null:Ke(!0))}return $}function kt(x){var I=Xe();return x&&f.forbidReserved==="everywhere"&&(x=!1),ee===Fe?(!x&&(f.forbidReserved&&gn(te)||We&&Jr(te))&&o.slice(w,G).indexOf("\\")===-1&&he(w,"The keyword '"+te+"' is reserved"),I.name=te):x&&ee.keyword?I.name=ee.keyword:Pt(),de=!1,ge(),Ee(I,"Identifier")}})},vm:N=>{N.exports=requireVmBrowserify()}},v={};function b(N){var C=v[N];if(C!==void 0)return C.exports;var D=v[N]={exports:{}};return c[N].call(D.exports,D,D.exports,b),D.exports}b.d=(N,C)=>{for(var D in C)b.o(C,D)&&!b.o(N,D)&&Object.defineProperty(N,D,{enumerable:!0,get:C[D]})},b.o=(N,C)=>Object.prototype.hasOwnProperty.call(N,C),b.r=N=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})};var _={};return(()=>{b.r(_),b.d(_,{default:()=>D});const N=b("./original-repo/acorn.js");globalThis.acorn=N;const{Interpreter:C}=b("./original-repo/interpreter.js"),D=C})(),_=_.default,_})())})(jsInterpreter);var jsInterpreterExports=jsInterpreter.exports;const vr=getDefaultExportFromCjs(jsInterpreterExports);var oe=reactExports.createContext({registerProblem:noop$1});oe.displayName="ContestContext";function ze({children:i}){let{student:s,setStudent:c,terminated:v}=h(),[b,_]=reactExports.useState({}),N=reactExports.useCallback((o,a)=>{_(d=>({...d,[o]:a}))},[]),[C,D]=reactExports.useState(!1),f=reactExports.useRef(null);return reactExports.useEffect(()=>{var o;v!==C&&(D(v),C||((o=f.current)==null||o.showModal()))},[v,C]),s.startedAt?P.createElement(oe.Provider,{value:{registerProblem:N}},P.createElement("div",{className:"break-before-page"},P.createElement("main",{className:"gap-x-10 [column-rule:solid_1px_var(--tw-prose-hr)] print:columns-2"},i)),P.createElement(Ht,{ref:f,schema:b})):P.createElement("div",{className:"flex h-[50vh] flex-col justify-center"},P.createElement(U,null,P.createElement(F,{className:"btn-success btn-lg",onClick:()=>{c({...s,startedAt:new Date,variant:Ht$1()})}},"Inizia")))}var Ht=reactExports.forwardRef(function({schema:i},s){let{student:c}=h(),v=Object.keys(i);v.sort((N,C)=>N.localeCompare(C,void 0,{numeric:!0}));let b=reactExports.useMemo(()=>{let N={id:c.variant,contestId:c.contestId,schema:i};return Sn(c,{[N.id]:N})},[i,c]),_=sumBy(Object.values(i),"pointsCorrect");return P.createElement(Te,{ref:s,title:"Prova terminata"},P.createElement("p",null,"La prova è terminata."),b!==void 0&&P.createElement(P.Fragment,null,P.createElement("p",null,"Hai ottenuto un punteggio di ",P.createElement("b",null,b)," su ",P.createElement("b",null,_),"."),P.createElement("div",{className:"w-full"},P.createElement("table",{className:"table-fixed prose-td:truncate"},P.createElement("thead",null,P.createElement("tr",null,P.createElement("th",{scope:"col"},"Domanda"),P.createElement("th",{scope:"col"},"Risposta"),P.createElement("th",{scope:"col"},"Soluzione"),P.createElement("th",{scope:"col"},"Punteggio"))),P.createElement("tbody",null,v.map(N=>{var f,o,a,d;let C=(a=(o=(f=c.answers)==null?void 0:f[N])==null?void 0:o.toString())==null?void 0:a.trim(),D=i[N];return P.createElement("tr",{key:N},P.createElement("td",null,N),P.createElement("td",null,C??"-"),P.createElement("td",null,(d=D.optionsCorrect)==null?void 0:d.join(", ")),P.createElement("td",null,Ut(D,C)))}))))))});function j(){return reactExports.useContext(oe)}var L=reactExports.createContext({id:void 0,points:[0,0,0]});L.displayName="ProblemContext";function He({id:i,points:s,statement:c}){let{student:v}=h(),[b,_]=reactExports.useState(1),[N,C]=reactExports.useState(()=>v.variant?Wt(`r#problem#${v.variant}#${i}`):0),D=reactExports.useCallback(()=>N,[N]),f=reactExports.useCallback(a=>{a&&a!==b&&defer(()=>_(a))},[b]),o=reactExports.useMemo(()=>reactExports.memo(c),[c]);return P.createElement(L.Provider,{value:{id:i,points:s}},P.createElement("div",{className:"relative"},!1,P.createElement(o,{variant:D,setVariantCount:f})),P.createElement("hr",{className:"last:hidden"}))}function Ge({subId:i,children:s}){let{id:c,points:v}=reactExports.useContext(L),b=i?`${c}.${i}`:`${c}`;return P.createElement(L.Provider,{value:{id:b,points:v}},P.createElement("div",{className:"break-inside-avoid"},P.createElement("h3",null,"Domanda ",b),s))}function O(){return reactExports.useContext(L)}var ne=reactExports.createContext({id:""});ne.displayName="AnswerContext";function Ye({children:i}){let{student:s}=h(),{id:c}=O(),v=reactExports.useMemo(()=>{let b=reactExports.Children.toArray(i);return s.variant&&new j$1(`r#answers#${s.variant}#${c}`).shuffle(b),b},[s.variant,c,i]);return P.createElement("form",{className:j$2("answer-group my-5 flex-wrap rounded-xl bg-base-200 p-3","prose-p:my-1 print:flex print:border print:border-[var(--tw-prose-hr)] print:p-1")},v.map((b,_)=>P.createElement(ne.Provider,{key:_,value:{id:String.fromCodePoint(65+_)}},b)))}function Qe({correct:i,children:s}){var d;let{id:c}=reactExports.useContext(ne),{registerProblem:v}=j(),{id:b,points:_}=O(),{student:N,setStudent:C,terminated:D}=h(),f=(d=N.answers)==null?void 0:d[b],o=async g=>{await C({...N,answers:{...N.answers,[b]:g}})},a=reactExports.useId();return reactExports.useEffect(()=>{i&&v(`${b}`,{type:"text",pointsCorrect:_[0],pointsBlank:_[1],pointsWrong:_[2],optionsCorrect:[c]})},[v,c,b,i,_]),P.createElement("div",{className:j$2("answer relative my-1 flex rounded-lg pl-2 pr-1 hover:bg-base-300 print:mr-4",D&&{"border-2 border-success":i===!0,"border-2 border-error":f===c&&i===!1})},P.createElement("input",{id:a,checked:f===c,className:j$2("radio radio-sm my-auto mr-4 bg-base-100 [print-color-adjust:exact] disabled:opacity-90 print:mr-2",D&&f===c&&{"radio-success":i===!0,"radio-error":i===!1}),onChange:g=>o(g.target.checked?c:void 0),type:"radio",disabled:D}),P.createElement("div",{className:"my-auto w-6 screen:hidden"},c,")"),P.createElement("label",{htmlFor:a,className:"grow"},s),P.createElement("div",{className:"absolute right-0 top-0 mr-1 flex h-full justify-center print:hidden"},P.createElement("button",{className:j$2("btn btn-square btn-ghost btn-sm my-auto",(f!==c||D)&&"hidden"),type:"button",onClick:()=>o(void 0),"aria-label":"Cancella risposta"},P.createElement(Trash2,{size:20}))))}function Ze({correct:i,type:s}){var o;let{registerProblem:c}=j(),{id:v,points:b}=O(),{student:_,setStudent:N,terminated:C}=h(),D=(o=_.answers)==null?void 0:o[v],f=async a=>{await N({..._,answers:{..._.answers,[v]:a}})};return reactExports.useEffect(()=>{c(`${v}`,{type:"text",pointsCorrect:b[0],pointsBlank:b[1],pointsWrong:b[2],optionsCorrect:i?[i]:void 0})},[c,v,i,b]),P.createElement("div",{className:"px-2"},P.createElement("input",{className:j$2("input input-bordered w-72 max-w-full border-2 print:placeholder:text-transparent",C&&i!==void 0&&{"disabled:input-success":i===D,"disabled:input-error":i!==D}),onChange:a=>f(a.target.value||void 0),onWheel:a=>a.currentTarget.blur(),placeholder:"Inserisci la risposta",type:s,value:D??"",disabled:C,"aria-label":"Risposta"}))}function Re({children:i}){let{terminated:s}=h();if(s)return P.createElement("div",{className:"my-5 rounded-xl bg-base-200 print:hidden"},P.createElement("div",{className:"collapse"},P.createElement("input",{type:"checkbox"}),P.createElement("div",{className:"collapse-title text-xl font-medium"},"Mostra soluzione"),P.createElement("div",{className:"collapse-content"},i)))}var et=z.enum(["Number","String","Array","Boolean"]),nr=z.object({type:z.literal("input_value"),name:z.string(),check:et}),tt=z.object({type:z.string(),message0:z.string(),args0:z.array(nr).optional(),colour:z.union([z.number(),z.string()]),tooltip:z.string(),helpUrl:z.string(),maxInstances:z.number().optional()}),sr=tt.extend({nextStatement:z.literal(null).optional(),previousStatement:z.literal(null).optional(),js:z.string()}).superRefine((i,s)=>{}),ir=tt.extend({output:et,js:z.tuple([z.string().trim(),z.string().startsWith("ORDER_")])}).superRefine((i,s)=>{}),ot=z.union([sr,ir]),dr=reactExports.lazy(()=>__vitePreload(()=>import("./code-highlight-VP7P46EV-RGCoH4Bq.js"),__vite__mapDeps([0,1,2])));function V(i){return i.inline?P.createElement(ur,{...i}):P.createElement(cr,{...i})}function ur(i){return P.createElement("code",{className:"bg-transparent px-0.5"},P.createElement(st,{...i,noLineNumbers:!0}))}function cr({noLineNumbers:i,...s}){return P.createElement("pre",{className:"bg-base-200 text-base-content print:px-0"},P.createElement("code",{className:j$2("block *:block *:min-w-fit *:rounded hover:*:bg-base-300 print:*:whitespace-pre-wrap","[counter-reset:line] *:before:content-[counter(line)] *:before:[counter-increment:line]","*:before:mr-6 *:before:inline-block *:before:w-7 *:before:text-right",i&&"*:before:hidden")},P.createElement(st,{...s})))}function st({language:i,...s}){return!i||i==="text"?P.createElement(nt,{...s}):P.createElement(reactExports.Suspense,{fallback:P.createElement(nt,{...s})},P.createElement(dr,{language:i,...s}))}function nt({code:i}){return i.split(`
`).map((s,c)=>P.createElement("span",{key:c},P.createElement("span",null,s)))}var lt={kind:"categoryToolbox",contents:[{kind:"category",name:"Variabili",categorystyle:"variable_category",custom:"VARIABLE"},{kind:"category",name:"Matematica",categorystyle:"math_category",contents:[{kind:"block",type:"math_number",fields:{NUM:123}},{kind:"block",type:"math_arithmetic",fields:{OP:"ADD"}},{kind:"block",type:"math_number_property",fields:{PROPERTY:"EVEN"}},{kind:"block",type:"math_on_list",fields:{OP:"SUM"}}]},{kind:"category",name:"Logica",categorystyle:"logic_category",contents:[{kind:"block",type:"logic_compare"},{kind:"block",type:"logic_operation"},{kind:"block",type:"logic_negate"},{kind:"block",type:"controls_if"},{kind:"block",type:"controls_if",extraState:{hasElse:"true"}}]},{kind:"category",name:"Cicli",categorystyle:"loop_category",contents:[{kind:"block",type:"controls_repeat_ext",inputs:{TIMES:{block:{type:"math_number",fields:{NUM:10}}}}},{kind:"block",type:"controls_whileUntil"},{kind:"block",type:"controls_for",fields:{VAR:"i"},inputs:{FROM:{block:{type:"math_number",fields:{NUM:1}}},TO:{block:{type:"math_number",fields:{NUM:10}}},BY:{block:{type:"math_number",fields:{NUM:1}}}}},{kind:"block",type:"controls_forEach"}]},{kind:"category",name:"Liste",categorystyle:"list_category",contents:[{kind:"block",type:"lists_create_empty"},{kind:"block",type:"lists_repeat",inputs:{NUM:{block:{type:"math_number",fields:{NUM:5}}}}},{kind:"block",type:"lists_length"},{kind:"block",type:"lists_getIndex",fields:{MODE:"GET",WHERE:"FROM_START"}},{kind:"block",type:"lists_setIndex",fields:{MODE:"SET",WHERE:"FROM_START"}}]}]},mt={blocks:{languageVersion:0,blocks:[{type:"start",id:"y=zq)Uya2A/{vyOtN[i6",x:30,y:30}]},variables:[]},yr=1e3,T=class extends vr{constructor(i,s){super(i,(c,v)=>{c.setProperty(v,"highlightBlock",c.createNativeFunction(b=>{this.highlightedBlock=b,this.stepFinished=!0})),c.setProperty(v,"pause",c.createNativeFunction(b=>{this.stepFinished=!0,this.pauseRequired=b})),c.setProperty(v,"exit",c.createNativeFunction((b,_)=>{this.running=!1,this.correct=b,this.msg=_})),c.setProperty(v,"hiddenState",c.nativeToPseudo(s)),c.setProperty(v,"loopTrap",yr)}),this.stepFinished=!1,this.highlightedBlock="",this.running=!0,this.correct=!1,this.pauseRequired=0,this.step=()=>{if(!this.running)return!1;this.pauseRequired=0;do{this.stepFinished=!1;try{this.running=super.step()&&this.running}catch{this.running=!1}}while(this.running&&!this.stepFinished);return this.running}}};function le(i,s){let[c,v]=reactExports.useState(),[b,_]=reactExports.useState({highlightedBlock:"",running:!0,correct:!1,pauseRequired:0,msg:"",globalScope:{}}),N=reactExports.useCallback(()=>{let C=new T(i,s);v(C),_({highlightedBlock:(C==null?void 0:C.highlightedBlock)??"",running:(C==null?void 0:C.running)??!1,correct:(C==null?void 0:C.correct)??!1,msg:(C==null?void 0:C.msg)??"",globalScope:(C==null?void 0:C.pseudoToNative(C.globalScope.object))??{},pauseRequired:(C==null?void 0:C.pauseRequired)??0})},[i,s]);return reactExports.useEffect(()=>{N()},[N,i,s]),{step:()=>{c==null||c.step(),_({highlightedBlock:(c==null?void 0:c.highlightedBlock)??"",running:(c==null?void 0:c.running)??!1,correct:(c==null?void 0:c.correct)??!1,msg:(c==null?void 0:c.msg)??"",globalScope:(c==null?void 0:c.pseudoToNative(c.globalScope.object))??{},pauseRequired:(c==null?void 0:c.pauseRequired)??0})},reset:N,...b}}function me(i,s){return reactExports.useEffect(()=>{return window.addEventListener("message",c),()=>window.removeEventListener("message",c);function c(v){v.source===i&&s(v.data)}},[i,s]),reactExports.useCallback(c=>i==null?void 0:i.postMessage(c,"*"),[i])}function ue({toolbox:i,initialBlocks:s,testcases:c,debug:v,customBlocks:b,Visualizer:_}){var De;let{student:N,setStudent:C,terminated:D}=h(),{registerProblem:f}=j(),{id:o,points:a}=O();reactExports.useEffect(()=>{for(let re=0;re<c.length;re++)f(`${o}.${re+1}`,{type:"text",pointsCorrect:a[0],pointsBlank:a[1],pointsWrong:a[2],optionsCorrect:["✅"]})},[f,o,c,a]);let d=(De=N.extraData)==null?void 0:De[`blockly-${o}`],g=d?JSON.parse(d):s??mt,R=async re=>{await C({...N,extraData:{...N.extraData,[`blockly-${o}`]:JSON.stringify(re)}})},[S,y]=reactExports.useState(null),[w,G]=reactExports.useState(!1),[W,ae]=reactExports.useState(!0),[ee,te]=reactExports.useState(!1),[de,ie]=reactExports.useState({}),[xe,Be]=reactExports.useState(""),[Ue,qe]=reactExports.useState(""),[Ae,Se]=reactExports.useState(0),[We,he]=reactExports.useState(()=>range(c.length).map(re=>({correct:!1,index:re}))),{step:bt,reset:it,running:Et,highlightedBlock:Ot,globalScope:Fe,correct:at,msg:pt,pauseRequired:vt}=le(Ue,c[Ae]),Rt=reactExports.useMemo(()=>Object.fromEntries(Object.entries(de).map(([re,we])=>[we,Fe[re]])),[de,Fe]),Dt=reactExports.useMemo(()=>_t(ot.array(),b,{prefix:"Invalid custom block definition"}),[b]),St=me(S==null?void 0:S.contentWindow,re=>{switch(re.cmd){case"init":{St({cmd:"init",toolbox:i??lt,initialBlocks:g,debug:v,customBlocks:Dt,readonly:D});break}case"ready":{G(!0);break}case"blocks":{R(re.blocks),v!=null&&v.logBlocks&&console.info(JSON.stringify(re.blocks,void 0,2));break}case"code":{qe(re.code),te(!1),ae(!0),v!=null&&v.logJs&&console.info(re.code);break}case"variables":{ie(re.variablesMapping),v!=null&&v.logVariables&&console.info(re.variablesMapping);break}case"svg":{Be(re.svg);break}}});reactExports.useEffect(()=>{St({cmd:"highlight",highlightedBlock:Ot})},[St,Ot]),reactExports.useEffect(()=>{Et||te(!1)},[Et]);let Mt=reactExports.useRef(D);reactExports.useEffect(()=>{var re;Mt.current!==D&&(Mt.current=D,G(!1),(re=S==null?void 0:S.contentWindow)==null||re.location.reload())},[D,S==null?void 0:S.contentWindow]);let[Nt,yt]=reactExports.useState(3);reactExports.useEffect(()=>{let re=[5e3,2e3,1e3,500,200,100,10];if(vt!=0){let we=setInterval(bt,re[Nt]*vt);return()=>clearInterval(we)}else if(ee){let we=setInterval(bt,re[Nt]);return()=>clearInterval(we)}},[bt,Nt,ee,vt]);let Lt=async()=>{let re=await Promise.all(c.map(async(je,Me)=>{let Oe=new T(Ue,je);for(let Je=0;Oe.running;Je++)Oe.step(),Je%64===0&&await new Promise(Ft=>setTimeout(Ft,5));return{...Oe,index:Me}}));he(re),ae(!1);let we={...N.answers};for(let je=0;je<c.length;je++)we[`${o}.${je+1}`]=re[je].correct?"✅":"❌";await C({...N,answers:we})},[Ne,_e]=reactExports.useState(!1);return reactExports.useEffect(()=>_e(!1),[pt]),P.createElement("div",{className:j$2("not-prose relative inset-y-0 left-1/2 w-screen -translate-x-1/2 p-2 pt-8","flex flex-col-reverse items-start justify-between gap-6 overflow-x-hidden lg:flex-row")},P.createElement("div",{className:"flex h-full max-h-[min(720px,90vh)] basis-[min(auto,50%)] flex-col gap-6 self-stretch overflow-x-hidden"},P.createElement("div",null,We.map(({index:re,correct:we,msg:je})=>P.createElement("button",{key:re,onClick:()=>{Se(re),te(!1)},className:j$2("btn join-item z-10 rounded-lg",!W&&"tooltip",re===Ae&&"btn-info"),"data-tip":je},P.createElement("div",{className:"flex items-center gap-3"},P.createElement("p",null,"Livello ",re+1),W?P.createElement(CircleHelp,{size:32}):we?P.createElement(CircleCheck,{size:32,className:"fill-success stroke-success-content"}):P.createElement(CircleX,{size:32,className:"fill-error stroke-error-content"}))))),P.createElement("div",{className:"relative flex flex-col overflow-hidden shadow-xl"},P.createElement("div",{className:"overflow-auto rounded-xl border-2 border-[#c6c6c6] bg-white [color-scheme:light]"},_&&P.createElement(_,{variables:{blocklyVariables:Rt,hiddenState:Fe==null?void 0:Fe.hiddenState,msg:pt}}),pt&&!Ne&&P.createElement("div",{className:"absolute inset-x-0 bottom-0 z-50 p-4"},P.createElement("div",{role:"alert",className:j$2("alert",at?"alert-success":"alert-error")},at?P.createElement(CircleCheckBig,null):P.createElement(TriangleAlert,null),P.createElement("span",null,pt),P.createElement("button",{onClick:()=>_e(!0),"aria-label":"Nascondi messaggio"},P.createElement(MessageSquareOff,null))))))),P.createElement("div",{className:"flex min-h-[min(720px,90vh)] flex-[1_0_50%] flex-col-reverse gap-6 self-stretch lg:flex-col"},P.createElement("div",{className:"flex gap-6"},P.createElement("div",{className:"join join-horizontal"},P.createElement("div",{className:"join-item tooltip","data-tip":"Esegui/pausa"},P.createElement("button",{className:"btn btn-info rounded-[inherit]",disabled:!Et||W,onClick:()=>te(!ee),"aria-label":"Esugui un blocco"},ee?P.createElement(Pause,{className:"size-6"}):P.createElement(Play,{className:"size-6"}))),P.createElement("div",{className:"join-item tooltip","data-tip":"Esegui un blocco"},P.createElement("button",{className:"btn btn-info rounded-[inherit]",disabled:!Et||W,onClick:bt,"aria-label":"Esugui un blocco"},P.createElement(SkipForward,{className:"size-6"}))),P.createElement("div",{className:"join-item tooltip","data-tip":"Esegui da capo"},P.createElement("button",{className:"btn btn-info rounded-[inherit]","aria-label":"Esegui da capo",disabled:W,onClick:()=>{it(),te(!1)}},P.createElement(RotateCcw,{className:"size-6"})))),P.createElement("div",{className:"tooltip","data-tip":"Correggi la soluzione"},P.createElement("button",{className:"btn btn-success","aria-label":"Correggi la soluzione",disabled:!W||!w,onClick:Lt},P.createElement(Send,{className:"size-6"}))),P.createElement("div",null,P.createElement("input",{className:"range",type:"range",min:"0",max:"6",value:Nt,onChange:re=>yt(+re.target.value),"aria-label":"Velocità di esecuzione"}),P.createElement("div",{className:"flex w-full justify-between px-2 text-xs"},P.createElement("span",null,"Lento"),P.createElement("span",null,"Veloce"))),!1),P.createElement($r,{ref:y,ready:w})))}var $r=reactExports.forwardRef(function({ready:i},s){return P.createElement("div",{className:"relative flex grow flex-col overflow-hidden rounded-xl border-2 border-[#c6c6c6]"},P.createElement("iframe",{ref:s,src:new URL("iframe-ChPNwKLH.html",import.meta.url).href,className:"grow",title:"Area di lavoro di Blockly",loading:"lazy"}),!i&&P.createElement("div",{className:"absolute inset-0 z-50 bg-white text-slate-700"},P.createElement(Ie,null)))});function ce({src:i,alt:s,title:c}){return P.createElement("img",{className:"max-h-[90vh] min-w-0 p-4 first:rounded-l-xl last:rounded-r-xl dark:bg-white print:m-0 print:max-h-[60vh] print:max-w-full",src:i.src,width:i.width,height:i.height,alt:s,title:c,style:{maxWidth:`min(100%, calc(90vh * ${i.width} / ${i.height}))`}})}function pe({display:i,children:s}){let c=reactExports.useRef(null);return reactExports.useEffect(()=>{c.current&&katex.render(s,c.current,{displayMode:i})},[c,s,i]),P.createElement("span",{ref:c})}function ct({children:i}){return i}var Q={Answer:Qe,AnswerGroup:Ye,Blockly:ue,Code:V,Contest:ze,Explanation:Re,Image:ce,MathExpr:reactExports.memo(pe),OpenAnswer:Ze,Problem:He,Section:ct,SubProblem:Ge};function fe({children:i}){return P.createElement(MDXProvider,{components:Q},P.createElement("div",{className:j$2("prose prose-lg mx-auto my-5 px-4 print:prose-sm screen:pb-10 lg:max-w-4xl print:max-w-full print:text-xs","prose-table:text-center print:prose-headings:mt-2 print:prose-hr:my-4","prose-headings:break-after-avoid prose-p:break-inside-avoid prose-ul:break-before-avoid prose-ul:break-inside-avoid")},i))}function ft({children:i}){var a,d;let s=reactExports.useRef(null),{contest:c,student:v,reset:b,participation:_,terminated:N,logout:C}=h(),D=(a=v.personalInformation)==null?void 0:a.name,f=(d=v.personalInformation)==null?void 0:d.surname,o=Math.round(sumBy(Object.values(v.answers??{}),g=>+!!g)/c.problemIds.length*100);return reactExports.useEffect(()=>{},[]),P.createElement(po,null,P.createElement(oe$1,{user:`${D} ${f}`,userIcon:User,logout:C,color:"bg-base-300 text-base-content",flow:"flex-row"},P.createElement("div",{className:"h-full gap-3"},P.createElement(V$1,{className:"hidden w-20 sm:block",percentage:o},o,"%"),P.createElement("div",{className:"flex-none px-3"},N||!_.startingTime||!c.duration?P.createElement("span",{className:"font-mono"},"00:00"):P.createElement(ke,{startTime:_.startingTime,duration:c.duration})),P.createElement("div",{className:"h-full flex-none py-0.5"},N&&b?P.createElement("button",{className:"btn btn-warning btn-sm h-full",onClick:b},"Ricomincia"):P.createElement("button",{className:"btn btn-success btn-sm h-full",disabled:N||!_.startingTime,onClick:()=>{var g;return(g=s.current)==null?void 0:g.showModal()}},"Termina")))),P.createElement(Xr,{ref:s}),P.createElement(fe,null,c.longName&&P.createElement("h1",{className:"text-pretty"},c.longName),i))}var Xr=reactExports.forwardRef(function(i,s){let{student:c,setStudent:v,submit:b}=h(),_=H();return P.createElement(Te,{ref:s,title:"Confermi di voler terminare?"},P.createElement("p",null,"Confermando non potrai più modificare le tue risposte."),P.createElement(U,{className:"mt-3"},P.createElement(F,{className:"btn-info"},"Annulla"),P.createElement(F,{className:"btn-error",onClick:async()=>{var N;await v({...c,submittedAt:_()}),await(b==null?void 0:b()),s&&"current"in s&&((N=s.current)==null||N.close())}},"Conferma")))}),be=reactExports.createContext({});be.displayName="StudentContext";function A({children:i,...s}){let c={...s,terminated:s.terminated||!!s.student.submittedAt};return P.createElement(be.Provider,{value:c},P.createElement(ft,null,i))}function h(){return reactExports.useContext(be)}function Es({contestName:i,duration:s,questionCount:c,children:v}){let[b,_]=ao("student",{id:"",personalInformation:{name:"Utente",surname:"anonimo"},answers:{},variant:"0"}),N=reactExports.useMemo(()=>b.startedAt&&addMinutes(b.startedAt,s),[b.startedAt,s]),C=Z(N),D={id:"",name:i,longName:i,problemIds:range(c??0).map(a=>a.toString()),duration:s,personalInformation:[],hasVariants:!0,hasOnline:!0,hasPdf:!0,allowRestart:!0,allowStudentImport:!0,allowStudentEdit:!0,allowStudentDelete:!0,allowAnswerEdit:!0,statementVersion:1},f={id:"",schoolId:"",contestId:"",name:"",teacher:"",startingTime:b.startedAt,finalized:!1},o=reactExports.useCallback(async()=>{_(a=>({...a,answers:{},extraData:{},startedAt:void 0,submittedAt:void 0}))},[_]);return P.createElement(A,{contest:D,participation:f,student:b,setStudent:async a=>_(a),reset:o,terminated:C},v)}function ao(i,s,c){let v=`${window.location.pathname}#${i}`,b=localStorage.getItem(v),[_,N]=reactExports.useState(b?(0,JSON.parse)(b):s),C=reactExports.useCallback(D=>{N(f=>{let o=isFunction$1(D)?D(f):D;return o===void 0?localStorage.removeItem(v):localStorage.setItem(v,JSON.stringify(o)),o})},[v]);return[_,C]}const OlinfoAuth=({children:i,...s})=>jsxRuntimeExports.jsx(Es,{...s,children:jsxRuntimeExports.jsx(OlinfoWrapper,{children:i})});function OlinfoWrapper({children:i}){const{student:s,setStudent:c}=h(),[v,b]=reactExports.useState();return reactExports.useEffect(()=>{getUser().then(b).catch(_=>console.log(`Error: failed to get user: ${_.message}`))},[]),reactExports.useEffect(()=>{const _=s.personalInformation;v&&(v.name!==_.name||v.surname!==_.surname)&&c({...s,personalInformation:{..._,...v}})},[s,v]),i}async function getUser(){const s=cookie.parse(window.document.cookie).training_token;if(!s)throw new Error("Not logged in");const v=jwtDecode(s).username,_=await(await fetch("https://training.olinfo.it/api/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"get",username:v})})).json();return{name:_.first_name,surname:_.last_name}}export{OlinfoAuth as O,j$2 as j,range as r,useMDXComponents as u};
//# sourceMappingURL=olinfo-auth-DV3DIqQe.js.map
